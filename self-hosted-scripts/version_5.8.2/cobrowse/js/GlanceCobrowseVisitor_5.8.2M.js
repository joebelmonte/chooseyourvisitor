(function() { if (!window.JSON) return; 
var SockJS;
/* sockjs-client v1.0.3 | http://sockjs.org | MIT license */
!function(t){SockJS=t()}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e){"use strict";function n(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],3:[function(t,e){"use strict";function n(){i.call(this)}var r=t("inherits"),i=t("./eventtarget");r(n,i),n.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},n.prototype.once=function(t,e){function n(){r.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}var r=this,i=!1;this.on(t,n)},n.prototype.emit=function(t){var e=this._listeners[t];if(e)for(var n=Array.prototype.slice.call(arguments,1),r=0;r<e.length;r++)e[r].apply(this,n)},n.prototype.on=n.prototype.addListener=i.prototype.addEventListener,n.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=n},{"./eventtarget":5,inherits:54}],4:[function(t,e){"use strict";function n(t){this.type=t}n.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,e.exports=n},{}],5:[function(t,e){"use strict";function n(){this._listeners={}}n.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},n.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},n.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=n},{}],6:[function(t,e){"use strict";function n(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],7:[function(t,e){"use strict";function n(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var r=t("json3"),i=t("./utils/iframe");n.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},n.prototype._transportMessage=function(t){i.postMessage("t",t)},n.prototype._send=function(t){this._transport.send(t)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=n},{"./utils/iframe":47,json3:55}],8:[function(t,e){"use strict";var n=t("./utils/url"),r=t("./utils/event"),i=t("json3"),o=t("./facade"),s=t("./info-iframe-receiver"),a=t("./utils/iframe"),u=t("./location");e.exports=function(t,e){var l={};e.forEach(function(t){t.facadeTransport&&(l[t.facadeTransport.transportName]=t.facadeTransport)}),l[s.transportName]=s;var c;t.bootstrap_iframe=function(){var e;a.currentWindowId=u.hash.slice(1);var s=function(r){if(r.source===parent&&("undefined"==typeof c&&(c=r.origin),r.origin===c)){var s;try{s=i.parse(r.data)}catch(f){return}if(s.windowId===a.currentWindowId)switch(s.type){case"s":var h;try{h=i.parse(s.data)}catch(f){break}var d=h[0],p=h[1],v=h[2],m=h[3];if(d!==t.version)throw new Error('Incompatibile SockJS! Main site uses: "'+d+'", the iframe: "'+t.version+'".');if(!n.isOriginEqual(v,u.href)||!n.isOriginEqual(m,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+v+", "+m+")");e=new o(new l[p](v,m));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}};r.attachEvent("message",s),a.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0,json3:55}],9:[function(t,e){"use strict";function n(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(u){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()})}var r=t("events").EventEmitter,i=t("inherits"),o=t("json3"),s=t("./utils/object");i(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=n},{"./utils/object":49,debug:void 0,events:3,inherits:54,json3:55}],10:[function(t,e){"use strict";function n(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))})}var r=t("inherits"),i=t("events").EventEmitter,o=t("json3"),s=t("./transport/sender/xhr-local"),a=t("./info-ajax");r(n,i),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=n},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(t,e){(function(n){"use strict";function r(t,e){var r=this;i.call(this);var o=function(){var n=r.ifr=new u(l.transportName,e,t);n.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(n){return r.emit("finish"),void r.close()}var i=e[0],o=e[1];r.emit("finish",i,o)}r.close()}),n.once("close",function(){r.emit("finish"),r.close()})};n.document.body?o():a.attachEvent("load",o)}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/event"),u=t("./transport/iframe"),l=t("./info-iframe-receiver");o(r,i),r.enabled=function(){return u.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54,json3:55}],12:[function(t,e){"use strict";function n(t,e){var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var r=t("events").EventEmitter,i=t("inherits"),o=t("./utils/url"),s=t("./transport/sender/xdr"),a=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),l=t("./transport/sender/xhr-fake"),c=t("./info-iframe"),f=t("./info-ajax");i(n,r),n._getReceiver=function(t,e,n){return n.sameOrigin?new f(e,u):a.enabled?new f(e,a):s.enabled&&n.sameScheme?new f(e,s):c.enabled()?new c(t,e):new f(e,l)},n.prototype.doXhr=function(t,e){var r=this,i=o.addPath(t,"/info");this.xo=n._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},n.timeout),this.xo.once("finish",function(t,e){r._cleanup(!0),r.emit("finish",t,e)})},n.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},n.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},n.timeout=8e3,e.exports=n},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(t,e){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e){(function(n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");b.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&m.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return l.string(i)}}this._server=n.server||l.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===g.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var u=e.sort();u.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<u.length-1&&t===u[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var c=f.getOrigin(g.href);this._origin=c?c.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!v.hasDomain(),sameOrigin:f.isOriginEqual(this.url,g.href),sameScheme:f.isSchemeEqual(this.url,g.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&4999>=t}t("./shims");var o,s=t("url-parse"),a=t("inherits"),u=t("json3"),l=t("./utils/random"),c=t("./utils/escape"),f=t("./utils/url"),h=t("./utils/event"),d=t("./utils/transport"),p=t("./utils/object"),v=t("./utils/browser"),m=t("./utils/log"),y=t("./event/event"),b=t("./event/eventtarget"),g=t("./location"),w=t("./event/close"),x=t("./event/trans-message"),_=t("./info-receiver");a(r,b),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){var n=!0;this._close(t||1e3,e||"Normal closure",n)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(c.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=p.extend(t,this._urlInfo);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.needBody&&(!n.document.body||"undefined"!=typeof n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=new t(r,this._transUrl);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new y("heartbeat"))}if(i)try{e=u.parse(i)}catch(o){}if("undefined"!=typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){n.dispatchEvent(new x(t))});break;case"m":this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){return this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),i(t)||2e3===t||this.readyState!==r.CONNECTING?void this._close(t,e):void this._connect()},r.prototype._open=function(){this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open"))):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new y("error"));var o=new w("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return o=d(e),t("./iframe-bootstrap")(r,e),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,json3:55,"url-parse":56}],15:[function(){"use strict";function t(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function e(t){return t>>>0}function n(){}var r,i=Array.prototype,o=Object.prototype,s=Function.prototype,a=String.prototype,u=i.slice,l=o.toString,c=function(t){return"[object Function]"===o.toString.call(t)},f=function(t){return"[object Array]"===l.call(t)},h=function(t){return"[object String]"===l.call(t)},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=d?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},v=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};p(s,{bind:function(t){var e=this;if(!c(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r=u.call(arguments,1),i=function(){if(this instanceof l){var n=e.apply(this,r.concat(u.call(arguments)));return Object(n)===n?n:this}return e.apply(t,r.concat(u.call(arguments)))},o=Math.max(0,e.length-r.length),s=[],a=0;o>a;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return e.prototype&&(n.prototype=e.prototype,l.prototype=new n,n.prototype=null),l}}),p(Array,{isArray:f});var m=Object("a"),y="a"!==m[0]||!(0 in m),b=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n};p(i,{forEach:function(t){var e=v(this),n=y&&h(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!c(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!b(i.forEach));var g=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(e){var n=y&&h(this)?this.split(""):v(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=t(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in n&&n[i]===e)return i;return-1}},g);var w=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];a.split=function(n,r){var o=this;if(void 0===n&&0===r)return[];if("[object RegExp]"!==l.call(n))return w.call(this,n,r);var s,a,u,c,f=[],h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),d=0;for(n=new RegExp(n.source,h+"g"),o+="",t||(s=new RegExp("^"+n.source+"$(?!\\s)",h)),r=void 0===r?-1>>>0:e(r);(a=n.exec(o))&&(u=a.index+a[0].length,!(u>d&&(f.push(o.slice(d,a.index)),!t&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<o.length&&i.push.apply(f,a.slice(1)),c=a[0].length,d=u,f.length>=r)));)n.lastIndex===a.index&&n.lastIndex++;return d===o.length?(c||!n.test(""))&&f.push(""):f.push(o.slice(d)),f.length>r?f.slice(0,r):f}}():"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:w.call(this,t,e)});var x="	\n\f\r   ᠎             　\u2028\u2029﻿",_="​",E="["+x+"]",j=new RegExp("^"+E+E+"*"),T=new RegExp(E+E+"*$"),S=a.trim&&(x.trim()||!_.trim());p(a,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(j,"").replace(T,"")}},S);var O=a.substr,C="".substr&&"b"!=="0b".substr(-1);p(a,{substr:function(t,e){return O.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},C)},{}],16:[function(t,e){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e){(function(n){"use strict";function r(t,e,n,r){var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),u=n.XMLHttpRequest;o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new u}catch(l){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(c){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(this.xhr.withCredentials="true"),i&&i.headers)for(var f in i.headers)this.xhr.setRequestHeader(f,i.headers[f]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(n.readyState){case 3:try{e=n.status,t=n.responseText}catch(r){}1223===e&&(e=204),200===e&&t&&t.length>0&&o.emit("chunk",e,t);break;case 4:e=n.status,1223===e&&(e=204),(12005===e||12029===e)&&(e=0),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(c){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!!u;var l=["Active"].concat("Object").join("X");!r.enabled&&l in n&&(u=function(){try{return new n[l]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new u);var c=!1;try{c="withCredentials"in new u}catch(f){}r.supportsCORS=c,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(t,e){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e){(function(t){e.exports=t.WebSocket||t.MozWebSocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e){"use strict";function n(t){if(!n.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/eventsource"),s=t("./sender/xhr-cors"),a=t("eventsource");r(n,i),n.enabled=function(){return!!a},n.transportName="eventsource",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e){"use strict";function n(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}var r=t("inherits"),i=t("./receiver/htmlfile"),o=t("./sender/xhr-local"),s=t("./lib/ajax-based");r(n,s),n.enabled=function(t){return i.enabled&&t.sameOrigin},n.transportName="htmlfile",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e){"use strict";function n(t,e,r){if(!n.enabled())throw new Error("Transport created when disabled");o.call(this);var i=this;this.origin=a.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=c.string(8);var s=a.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(s,function(t){i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var r=t("inherits"),i=t("json3"),o=t("events").EventEmitter,s=t("../version"),a=t("../utils/url"),u=t("../utils/iframe"),l=t("../utils/event"),c=t("../utils/random");r(n,o),n.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},n.prototype._message=function(t){if(a.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(n){return}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=i.parse(e.data)}catch(n){return}this.emit("close",r[0],r[1]),this.close()}}},n.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},n.prototype.send=function(t){this.postMessage("m",t)},n.enabled=function(){return u.iframeEnabled},n.transportName="iframe",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54,json3:55}],23:[function(t,e){(function(n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e){"use strict";function n(t){return function(e,n,r){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var s=o.addPath(e,"/xhr_send"),a=new t("POST",s,n,i);return a.once("finish",function(t){return a=null,200!==t&&204!==t?r(new Error("http status "+t)):void r()}),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function r(t,e,r,i){s.call(this,t,e,n(i),r,i)}var i=t("inherits"),o=t("../../utils/url"),s=t("./sender-receiver");i(r,s),e.exports=r},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(t,e){"use strict";function n(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)},n.prototype.sendSchedule=function(){var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup()):t.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.stop=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=n},{debug:void 0,events:3,inherits:54}],26:[function(t,e){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e){"use strict";function n(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){t.emit("message",e)}),e.once("close",function(n,r){t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=n},{debug:void 0,events:3,inherits:54}],28:[function(t,e){"use strict";function n(t,e,n,r,a){var u=i.addPath(t,e),l=this;o.call(this,t,n),this.poll=new s(r,u,a),this.poll.on("message",function(t){l.emit("message",t)}),this.poll.once("close",function(t,e){l.poll=null,l.emit("close",t,e),l.close()})}var r=t("inherits"),i=t("../../utils/url"),o=t("./buffered-sender"),s=t("./polling");r(n,o),n.prototype.close=function(){this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},e.exports=n},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(t,e){"use strict";function n(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){e.emit("message",decodeURI(t.data))},n.onerror=function(t){var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var r=t("inherits"),i=t("events").EventEmitter,o=t("eventsource");r(n,i),n.prototype.abort=function(){this._cleanup(),this._close("user")},n.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},n.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=n},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(t,e){(function(n){"use strict";function r(t){a.call(this);var e=this;o.polluteGlobalNamespace(),this.id="a"+u.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id));var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=i(t,function(){e._cleanup(),e._close("permanent")})}var i=t("inherits"),o=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,u=t("../../utils/random");i(r,a),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},r.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in n)try{r.htmlfileEnabled=!!new n[l]("htmlfile")}catch(c){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,e){(function(n){"use strict";function r(t){var e=this;l.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=t("../../utils/iframe"),o=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),u=t("inherits"),l=t("events").EventEmitter;u(r,l),r.prototype.abort=function(){if(n[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},r.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){var e,r=this,i=this.script=n.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&n.document.attachEvent)if(s.isOpera())e=this.script2=n.document.createElement("script"),e.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;
else{try{i.htmlFor=i.id,i.event="onclick"}catch(a){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0);var u=n.document.getElementsByTagName("head")[0];u.insertBefore(i,u.firstChild),e&&u.insertBefore(e,u.firstChild)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(t,e){"use strict";function n(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()})}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(n=r.indexOf("\n"),-1===n)break;var i=r.slice(0,n);i&&this.emit("message",i)}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=n},{debug:void 0,events:3,inherits:54}],33:[function(t,e){(function(n){"use strict";function r(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(e){var r=n.document.createElement("iframe");return r.name=t,r}}function i(){o=n.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=n.document.createElement("textarea"),s.name="d",o.appendChild(s),n.document.body.appendChild(o)}var o,s,a=t("../../utils/random"),u=t("../../utils/url");e.exports=function(t,e,n){o||i();var l="a"+a.string(8);o.target=l,o.action=u.addQuery(u.addPath(t,"/jsonp_send"),"i="+l);var c=r(l);c.id=l,c.style.display="none",o.appendChild(c);try{s.value=e}catch(f){}o.submit();var h=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),s.value="",n(t))};return c.onerror=function(){h()},c.onload=function(){h()},c.onreadystatechange=function(t){"complete"===c.readyState&&h()},function(){h(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(t,e){(function(n){"use strict";function r(t,e,n){var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),u=t("../../utils/url");o(r,i),r.prototype._start=function(t,e,r){var i=this,o=new n.XDomainRequest;e=u.addQuery(e,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(a){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(t,e){"use strict";function n(t,e,n,r){i.call(this,t,e,n,r)}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled&&i.supportsCORS,e.exports=n},{"../driver/xhr":17,inherits:54}],36:[function(t,e){"use strict";function n(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},n.timeout)}var r=t("events").EventEmitter,i=t("inherits");i(n,r),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,e.exports=n},{events:3,inherits:54}],37:[function(t,e){"use strict";function n(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled,e.exports=n},{"../driver/xhr":17,inherits:54}],38:[function(t,e){"use strict";function n(t){if(!n.enabled())throw new Error("Transport created when disabled");s.call(this);var e=this,o=i.addPath(t,"/websocket");o="https"===o.slice(0,5)?"wss"+o.slice(5):"ws"+o.slice(4),this.url=o,this.ws=new a(this.url),this.ws.onmessage=function(t){e.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){e.ws.close()}),this.ws.onclose=function(t){e.emit("close",t.code,t.reason),e._cleanup()},this.ws.onerror=function(t){e.emit("close",1006,"WebSocket connection broken"),e._cleanup()}}var r=t("../utils/event"),i=t("../utils/url"),o=t("inherits"),s=t("events").EventEmitter,a=t("./driver/websocket");o(n,s),n.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},n.prototype.close=function(){this.ws&&this.ws.close(),this._cleanup()},n.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},n.enabled=function(){return!!a},n.transportName="websocket",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(t,e){"use strict";function n(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./xdr-streaming"),s=t("./receiver/xhr"),a=t("./sender/xdr");r(n,i),n.enabled=o.enabled,n.transportName="xdr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e){"use strict";function n(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xdr");r(n,i),n.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:s.enabled&&t.sameScheme},n.transportName="xdr-streaming",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e){"use strict";function n(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xhr-cors"),a=t("./sender/xhr-local");r(n,i),n.enabled=function(t){return t.nullOrigin?!1:a.enabled&&t.sameOrigin?!0:s.enabled},n.transportName="xhr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e){(function(n){"use strict";function r(t){if(!u.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),u=t("./sender/xhr-local"),l=t("../utils/browser");i(r,o),r.enabled=function(t){return t.nullOrigin?!1:l.isOpera()?!1:a.enabled},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e){(function(t){"use strict";e.exports.randomBytes=t.crypto&&t.crypto.getRandomValues?function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e){"use strict";var n,r=t("json3"),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,o=function(t){var e,n={},r=[];for(e=0;65536>e;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};e.exports={quote:function(t){var e=r.stringify(t);return i.lastIndex=0,i.test(e)?(n||(n=o(i)),e.replace(i,function(t){return n[t]})):e}}},{json3:55}],46:[function(t,e){(function(n){"use strict";var r=t("./random"),i={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};var a=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e){(function(n){"use strict";var r=t("./event"),i=t("json3"),o=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,o,s=n.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},u=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},l=function(t){s&&(u(),e(t))},c=function(t,e){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)},0)}catch(n){}};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){l("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},n.document.body.appendChild(s),i=setTimeout(function(){l("timeout")},15e3),o=r.unloadAdd(u),{post:c,cleanup:u,loaded:a}},createHtmlfile:function(t,i){var o,s,a,u=["Active"].concat("Object").join("X"),l=new n[u]("htmlfile"),c=function(){clearTimeout(o),a.onerror=null},f=function(){l&&(c(),r.unloadDel(s),a.parentNode.removeChild(a),a=l=null,CollectGarbage())},h=function(t){l&&(f(),i(t))},d=function(t,e){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(n){}};l.open(),l.write('<html><script>document.domain="'+n.document.domain+'";</script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var p=l.createElement("div");return l.body.appendChild(p),a=l.createElement("iframe"),p.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},o=setTimeout(function(){h("timeout")},15e3),s=r.unloadAdd(f),{post:d,cleanup:f,loaded:c}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0,json3:55}],48:[function(t,e){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r=t.console&&t.console[e]&&t.console[e].apply;n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},{}],50:[function(t,e){"use strict";var n=t("crypto"),r="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=r.length,i=n.randomBytes(t),o=[],s=0;t>s;s++)o.push(r.substr(i[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,n=new Array(e+1).join("0");return(n+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||n.websocket!==!1)&&(e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))}),r}}}},{debug:void 0}],52:[function(t,e){"use strict";var n=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new n(t);if("file:"===e.protocol)return null;var r=e.port;return r||(r="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{debug:void 0,"url-parse":56}],53:[function(t,e){e.exports="1.0.3"},{}],54:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(e,n,r){(function(e){(function(){function i(t,e){function n(t){if(n[t]!==m)return n[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=e.stringify,c="function"==typeof u&&g;if(c){(s=function(){return 1}).toJSON=s;try{c="0"===u(0)&&"0"===u(new r)&&'""'==u(new o)&&u(b)===m&&u(m)===m&&u()===m&&"1"===u(s)&&"[1]"==u([s])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,b,null])&&u({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===u(null,s)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(f){c=!1}}i=c}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){s=h(a);var d=5==s.a.length&&1===s.a[0];if(d){try{d=!h('"	"')}catch(f){}if(d)try{d=1!==h("01")}catch(f){}if(d)try{d=1!==h("1.")}catch(f){}}}}catch(f){d=!1}i=d}}return n[t]=!!i}t||(t=u.Object()),e||(e=u.Object());var r=t.Number||u.Number,o=t.String||u.String,a=t.Object||u.Object,l=t.Date||u.Date,c=t.SyntaxError||u.SyntaxError,f=t.TypeError||u.TypeError,h=t.Math||u.Math,d=t.JSON||u.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p,v,m,y=a.prototype,b=y.toString,g=new l(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",_="[object Date]",E="[object Number]",j="[object String]",T="[object Array]",S="[object Boolean]",O=n("bug-string-char-index");if(!g)var C=h.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(t,e){return A[e]+365*(t-1970)+C((t-1969+(e=+(e>1)))/4)-C((t-1901+e)/100)+C((t-1601+e)/400)};if((p=y.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),v=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&o++;return n=r=null,o?v=2==o?function(t,e){var n,r={},i=b.call(t)==x;for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i=b.call(t)==x;for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(t,e){var n,i,o=b.call(t)==x,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),v(t,e)},!n("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",P=function(t,e){return(I+(e||0)).slice(-t)},L="\\u00",R=function(t){for(var e='"',n=0,r=t.length,i=!O||r>10,o=i&&(O?t.split(""):t);r>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=k[s];break;default:if(32>s){e+=L+P(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},U=function(t,e,n,r,i,o,s){var a,u,l,c,h,d,y,g,w,x,O,A,k,I,L,M;try{a=e[t]}catch(q){}if("object"==typeof a&&a)if(u=b.call(a),u!=_||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(u!=E&&u!=j&&u!=T||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(N){for(h=C(a/864e5),l=C(h/365.2425)+1970-1;N(l+1,0)<=h;l++);for(c=C((h-N(l,0))/30.42);N(l,c+1)<=h;c++);h=1+h-N(l,c),d=(a%864e5+864e5)%864e5,y=C(d/36e5)%24,g=C(d/6e4)%60,w=C(d/1e3)%60,x=d%1e3}else l=a.getUTCFullYear(),c=a.getUTCMonth(),h=a.getUTCDate(),y=a.getUTCHours(),g=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(0>=l||l>=1e4?(0>l?"-":"+")+P(6,0>l?-l:l):P(4,l))+"-"+P(2,c+1)+"-"+P(2,h)+"T"+P(2,y)+":"+P(2,g)+":"+P(2,w)+"."+P(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if(u=b.call(a),u==S)return""+a;if(u==E)return a>-1/0&&1/0>a?""+a:"null";if(u==j)return R(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw f();if(s.push(a),O=[],L=o,o+=i,u==T){for(k=0,I=a.length;I>k;k++)A=U(k,a,n,r,i,o,s),O.push(A===m?"null":A);M=O.length?i?"[\n"+o+O.join(",\n"+o)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else v(r||a,function(t){var e=U(t,a,n,r,i,o,s);e!==m&&O.push(R(t)+":"+(i?" ":"")+e)}),M=O.length?i?"{\n"+o+O.join(",\n"+o)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return s.pop(),M}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if((a=b.call(e))==x)i=e;else if(a==T){o={};for(var u,l=0,c=e.length;c>l;u=e[l++],a=b.call(u),(a==j||a==E)&&(o[u]=1));}if(n)if((a=b.call(n))==E){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==j&&(r=n.length<=10?n:n.slice(0,10));return U("",(u={},u[""]=t,u),i,o,r,"",[])}}if(!n("json-parse")){var M,q,D=o.fromCharCode,W={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},J=function(){throw M=q=null,c()},B=function(){for(var t,e,n,r,i,o=q,s=o.length;s>M;)switch(i=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=O?o.charAt(M):o[M],M++,t;case 34:for(t="@",M++;s>M;)if(i=o.charCodeAt(M),32>i)J();else if(92==i)switch(i=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=W[i],M++;break;case 117:for(e=++M,n=M+4;n>M;M++)i=o.charCodeAt(M),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||J();t+=D("0x"+o.slice(e,M));break;default:J()}else{if(34==i)break;for(i=o.charCodeAt(M),e=M;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++M);t+=o.slice(e,M)}if(34==o.charCodeAt(M))return M++,t;J();default:if(e=M,45==i&&(r=!0,i=o.charCodeAt(++M)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(M+1),i>=48&&57>=i)&&J(),r=!1;s>M&&(i=o.charCodeAt(M),i>=48&&57>=i);M++);if(46==o.charCodeAt(M)){for(n=++M;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==M&&J(),M=n}if(i=o.charCodeAt(M),101==i||69==i){for(i=o.charCodeAt(++M),(43==i||45==i)&&M++,n=M;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==M&&J(),M=n}return+o.slice(e,M)}if(r&&J(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;J()}return"$"},G=function(t){var e,n;if("$"==t&&J(),"string"==typeof t){if("@"==(O?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=B(),"]"!=t;n||(n=!0))n&&(","==t?(t=B(),"]"==t&&J()):J()),","==t&&J(),e.push(G(t));return e}if("{"==t){for(e={};t=B(),"}"!=t;n||(n=!0))n&&(","==t?(t=B(),"}"==t&&J()):J()),(","==t||"string"!=typeof t||"@"!=(O?t.charAt(0):t[0])||":"!=B())&&J(),e[t.slice(1)]=G(B());return e}J()}return t},F=function(t,e,n){var r=H(t,e,n);r===m?delete t[e]:t[e]=r},H=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(b.call(i)==T)for(r=i.length;r--;)F(i,r,n);else v(i,function(t){F(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return M=0,q=""+t,n=G(B()),"$"!=B()&&J(),M=q=null,e&&b.call(e)==x?H((r={},r[""]=n,r),"",e):n}}}return e.runInContext=i,e}var o="function"==typeof t&&t.amd,s={"function":!0,object:!0},a=s[typeof r]&&r&&!r.nodeType&&r,u=s[typeof window]&&window||this,l=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),a&&!o)i(u,a);else{var c=u.JSON,f=u.JSON3,h=!1,d=i(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=c,u.JSON3=f,c=f=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}o&&t(function(){return d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e){"use strict";function n(t,e,u){if(!(this instanceof n))return new n(t,e,u);var l,c,f,h,d=s.test(t),p=typeof e,v=this,m=0;for("object"!==p&&"string"!==p&&(u=e,e=null),u&&"function"!=typeof u&&(u=o.parse),e=i(e);m<a.length;m++)c=a[m],l=c[0],h=c[1],l!==l?v[h]=t:"string"==typeof l?~(f=t.indexOf(l))&&("number"==typeof c[2]?(v[h]=t.slice(0,f),t=t.slice(f+c[2])):(v[h]=t.slice(f),t=t.slice(0,f))):(f=l.exec(t))&&(v[h]=f[1],t=t.slice(0,t.length-f[0].length)),v[h]=v[h]||(c[3]||"port"===h&&d?e[h]||"":""),c[4]&&(v[h]=v[h].toLowerCase());u&&(v.query=u(v.query)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(c=v.auth.split(":"),v.username=c[0]||"",v.password=c[1]||""),v.href=v.toString()}var r=t("requires-port"),i=t("./lolcation"),o=t("querystringify"),s=/^\/(?!\/)/,a=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[0/0,"host",void 0,1,1],[/\:(\d+)$/,"port"],[0/0,"hostname",void 0,1,1]];n.prototype.set=function(t,e,n){var i=this;return"query"===t?("string"==typeof e&&(e=(n||o.parse)(e)),i[t]=e):"port"===t?(i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="")):"hostname"===t?(i[t]=e,i.port&&(e+=":"+i.port),i.host=e):"host"===t?(i[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),i.hostname=e[0],i.port=e[1])):i[t]=e,i.href=i.toString(),i},n.prototype.toString=function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol+"//";return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.hostname,n.port&&(r+=":"+n.port),r+=n.pathname,n.query&&(e="object"==typeof n.query?t(n.query):n.query,r+=("?"===e.charAt(0)?"":"?")+e),n.hash&&(r+=n.hash),r},n.qs=o,n.location=i,e.exports=n},{"./lolcation":57,querystringify:58,"requires-port":59}],57:[function(t,e){(function(n){"use strict";var r,i={hash:1,query:1};e.exports=function(e){e=e||n.location||{},r=r||t("./");var o,s={},a=typeof e;if("blob:"===e.protocol)s=new r(unescape(e.pathname),{});else if("string"===a){s=new r(e,{});for(o in i)delete s[o]}else if("object"===a)for(o in e)o in i||(s[o]=e[o]);return s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":56}],58:[function(t,e,n){"use strict";function r(t){for(var e,n=/([^=?&]+)=([^&]*)/g,r={};e=n.exec(t);r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return r}function i(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var r in t)o.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=i,n.parse=r},{}],59:[function(t,e){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 22!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)});/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var k=void 0,aa=this;function r(c,d){var a=c.split("."),b=aa;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==k?b[e]=d:b=b[e]?b[e]:b[e]={}};var t="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function u(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,l,n,m,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(l=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){n=0;m=h;for(s=0;s<g;++s)n=n<<1|m&1,m>>=1;x=g<<16|p;for(s=n;s<e;s+=l)f[s]=x;++h}++g;h<<=1;l<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=t?new Uint8Array(c):c;this.l=!1;this.i=y;this.p=!1;if(d||!(d={}))d.index&&(this.d=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.p=d.resize);switch(this.i){case A:this.a=32768;this.b=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.a=0;this.b=new (t?Uint8Array:Array)(this.h);this.e=this.u;this.m=this.r;this.j=this.s;break;default:throw Error("invalid inflate mode");
}}var A=0,y=1;
w.prototype.t=function(){for(;!this.l;){var c=B(this,3);c&1&&(this.l=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.d,b=this.b,e=this.a,f=d.length,g=k,h=k,l=b.length,n=k;this.c=this.f=0;if(a+1>=f)throw Error("invalid uncompressed block header: LEN");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error("invalid uncompressed block header: NLEN");h=d[a++]|d[a++]<<8;if(g===~h)throw Error("invalid uncompressed block header: length verify");if(a+g>d.length)throw Error("input buffer is broken");switch(this.i){case A:for(;e+g>
b.length;){n=l-e;g-=n;if(t)b.set(d.subarray(a,a+n),e),e+=n,a+=n;else for(;n--;)b[e++]=d[a++];this.a=e;b=this.e();e=this.a}break;case y:for(;e+g>b.length;)b=this.e({o:2});break;default:throw Error("invalid inflate mode");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.d=a;this.a=e;this.b=b;break;case 1:this.j(ba,ca);break;case 2:for(var m=B(this,5)+257,p=B(this,5)+1,s=B(this,4)+4,x=new (t?Uint8Array:Array)(C.length),Q=k,R=k,S=k,v=k,M=k,F=k,z=k,q=k,T=k,q=0;q<s;++q)x[C[q]]=
B(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[C[q]]=0}Q=u(x);v=new (t?Uint8Array:Array)(m+p);q=0;for(T=m+p;q<T;)switch(M=D(this,Q),M){case 16:for(z=3+B(this,2);z--;)v[q++]=F;break;case 17:for(z=3+B(this,3);z--;)v[q++]=0;F=0;break;case 18:for(z=11+B(this,7);z--;)v[q++]=0;F=0;break;default:F=v[q++]=M}R=t?u(v.subarray(0,m)):u(v.slice(0,m));S=t?u(v.subarray(m)):u(v.slice(m));this.j(R,S);break;default:throw Error("unknown BTYPE: "+c);}}return this.m()};
var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=t?new Uint16Array(E):E,G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],H=t?new Uint16Array(G):G,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],J=t?new Uint8Array(I):I,K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],L=t?new Uint16Array(K):K,N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,
13],O=t?new Uint8Array(N):N,P=new (t?Uint8Array:Array)(288),U,da;U=0;for(da=P.length;U<da;++U)P[U]=143>=U?8:255>=U?9:279>=U?7:8;var ba=u(P),V=new (t?Uint8Array:Array)(30),W,ea;W=0;for(ea=V.length;W<ea;++W)V[W]=5;var ca=u(V);function B(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h;b<d;){if(f>=g)throw Error("input buffer is broken");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.c=b-d;c.d=f;return h}
function D(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h=d[0],l=d[1],n,m;b<l&&!(f>=g);)a|=e[f++]<<b,b+=8;n=h[a&(1<<l)-1];m=n>>>16;if(m>b)throw Error("invalid code length: "+m);c.f=a>>m;c.c=b-m;c.d=f;return n&65535}
w.prototype.j=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length-258,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(this.a=b,a=this.e(),b=this.a),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b>=e&&(this.a=b,a=this.e(),b=this.a);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.s=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b+l>e&&(a=this.e(),e=a.length);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.a-32768),d=this.a-32768,a,b,e=this.b;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.k+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.a=32768;return e};
w.prototype.u=function(c){var d,a=this.input.length/this.d+1|0,b,e,f,g=this.input,h=this.b;c&&("number"===typeof c.o&&(a=c.o),"number"===typeof c.q&&(a+=c.q));2>a?(b=(g.length-this.d)/this.n[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.b=d};
w.prototype.m=function(){var c=0,d=this.b,a=this.g,b,e=new (t?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,l;if(0===a.length)return t?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(l=b.length;h<l;++h)e[c++]=b[h]}f=32768;for(g=this.a;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};
w.prototype.r=function(){var c,d=this.a;t?this.p?(c=new Uint8Array(d),c.set(this.b.subarray(0,d))):c=this.b.subarray(0,d):(this.b.length>d&&(this.b.length=d),c=this.b);return this.buffer=c};r("GLANCE.Lib.Zlib.RawInflate",w);r("GLANCE.Lib.Zlib.RawInflate.prototype.decompress",w.prototype.t);var X={ADAPTIVE:y,BLOCK:A},Y,Z,$,fa;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(fa=Y.length;$<fa;++$)Z=Y[$],r("GLANCE.Lib.Zlib.RawInflate.BufferType."+Z,X[Z]);}).call(this);
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var n=void 0,u=!0,aa=this;function ba(e,d){var c=e.split("."),f=aa;!(c[0]in f)&&f.execScript&&f.execScript("var "+c[0]);for(var a;c.length&&(a=c.shift());)!c.length&&d!==n?f[a]=d:f=f[a]?f[a]:f[a]={}};var C="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function K(e,d){this.index="number"===typeof d?d:0;this.d=0;this.buffer=e instanceof(C?Uint8Array:Array)?e:new (C?Uint8Array:Array)(32768);if(2*this.buffer.length<=this.index)throw Error("invalid index");this.buffer.length<=this.index&&ca(this)}function ca(e){var d=e.buffer,c,f=d.length,a=new (C?Uint8Array:Array)(f<<1);if(C)a.set(d);else for(c=0;c<f;++c)a[c]=d[c];return e.buffer=a}
K.prototype.a=function(e,d,c){var f=this.buffer,a=this.index,b=this.d,k=f[a],m;c&&1<d&&(e=8<d?(L[e&255]<<24|L[e>>>8&255]<<16|L[e>>>16&255]<<8|L[e>>>24&255])>>32-d:L[e]>>8-d);if(8>d+b)k=k<<d|e,b+=d;else for(m=0;m<d;++m)k=k<<1|e>>d-m-1&1,8===++b&&(b=0,f[a++]=L[k],k=0,a===f.length&&(f=ca(this)));f[a]=k;this.buffer=f;this.d=b;this.index=a};K.prototype.finish=function(){var e=this.buffer,d=this.index,c;0<this.d&&(e[d]<<=8-this.d,e[d]=L[e[d]],d++);C?c=e.subarray(0,d):(e.length=d,c=e);return c};
var ga=new (C?Uint8Array:Array)(256),M;for(M=0;256>M;++M){for(var R=M,S=R,ha=7,R=R>>>1;R;R>>>=1)S<<=1,S|=R&1,--ha;ga[M]=(S<<ha&255)>>>0}var L=ga;function ja(e){this.buffer=new (C?Uint16Array:Array)(2*e);this.length=0}ja.prototype.getParent=function(e){return 2*((e-2)/4|0)};ja.prototype.push=function(e,d){var c,f,a=this.buffer,b;c=this.length;a[this.length++]=d;for(a[this.length++]=e;0<c;)if(f=this.getParent(c),a[c]>a[f])b=a[c],a[c]=a[f],a[f]=b,b=a[c+1],a[c+1]=a[f+1],a[f+1]=b,c=f;else break;return this.length};
ja.prototype.pop=function(){var e,d,c=this.buffer,f,a,b;d=c[0];e=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(b=0;;){a=2*b+2;if(a>=this.length)break;a+2<this.length&&c[a+2]>c[a]&&(a+=2);if(c[a]>c[b])f=c[b],c[b]=c[a],c[a]=f,f=c[b+1],c[b+1]=c[a+1],c[a+1]=f;else break;b=a}return{index:e,value:d,length:this.length}};function ka(e,d){this.e=ma;this.f=0;this.input=C&&e instanceof Array?new Uint8Array(e):e;this.c=0;d&&(d.lazy&&(this.f=d.lazy),"number"===typeof d.compressionType&&(this.e=d.compressionType),d.outputBuffer&&(this.b=C&&d.outputBuffer instanceof Array?new Uint8Array(d.outputBuffer):d.outputBuffer),"number"===typeof d.outputIndex&&(this.c=d.outputIndex));this.b||(this.b=new (C?Uint8Array:Array)(32768))}var ma=2,T=[],U;
for(U=0;288>U;U++)switch(u){case 143>=U:T.push([U+48,8]);break;case 255>=U:T.push([U-144+400,9]);break;case 279>=U:T.push([U-256+0,7]);break;case 287>=U:T.push([U-280+192,8]);break;default:throw"invalid literal: "+U;}
ka.prototype.h=function(){var e,d,c,f,a=this.input;switch(this.e){case 0:c=0;for(f=a.length;c<f;){d=C?a.subarray(c,c+65535):a.slice(c,c+65535);c+=d.length;var b=d,k=c===f,m=n,g=n,p=n,v=n,x=n,l=this.b,h=this.c;if(C){for(l=new Uint8Array(this.b.buffer);l.length<=h+b.length+5;)l=new Uint8Array(l.length<<1);l.set(this.b)}m=k?1:0;l[h++]=m|0;g=b.length;p=~g+65536&65535;l[h++]=g&255;l[h++]=g>>>8&255;l[h++]=p&255;l[h++]=p>>>8&255;if(C)l.set(b,h),h+=b.length,l=l.subarray(0,h);else{v=0;for(x=b.length;v<x;++v)l[h++]=
b[v];l.length=h}this.c=h;this.b=l}break;case 1:var q=new K(C?new Uint8Array(this.b.buffer):this.b,this.c);q.a(1,1,u);q.a(1,2,u);var t=na(this,a),w,da,z;w=0;for(da=t.length;w<da;w++)if(z=t[w],K.prototype.a.apply(q,T[z]),256<z)q.a(t[++w],t[++w],u),q.a(t[++w],5),q.a(t[++w],t[++w],u);else if(256===z)break;this.b=q.finish();this.c=this.b.length;break;case ma:var B=new K(C?new Uint8Array(this.b.buffer):this.b,this.c),ra,J,N,O,P,Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W,sa,X,ta,ea,ia=Array(19),
ua,Q,fa,y,va;ra=ma;B.a(1,1,u);B.a(ra,2,u);J=na(this,a);W=oa(this.j,15);sa=pa(W);X=oa(this.i,7);ta=pa(X);for(N=286;257<N&&0===W[N-1];N--);for(O=30;1<O&&0===X[O-1];O--);var wa=N,xa=O,F=new (C?Uint32Array:Array)(wa+xa),r,G,s,Y,E=new (C?Uint32Array:Array)(316),D,A,H=new (C?Uint8Array:Array)(19);for(r=G=0;r<wa;r++)F[G++]=W[r];for(r=0;r<xa;r++)F[G++]=X[r];if(!C){r=0;for(Y=H.length;r<Y;++r)H[r]=0}r=D=0;for(Y=F.length;r<Y;r+=G){for(G=1;r+G<Y&&F[r+G]===F[r];++G);s=G;if(0===F[r])if(3>s)for(;0<s--;)E[D++]=0,
H[0]++;else for(;0<s;)A=138>s?s:138,A>s-3&&A<s&&(A=s-3),10>=A?(E[D++]=17,E[D++]=A-3,H[17]++):(E[D++]=18,E[D++]=A-11,H[18]++),s-=A;else if(E[D++]=F[r],H[F[r]]++,s--,3>s)for(;0<s--;)E[D++]=F[r],H[F[r]]++;else for(;0<s;)A=6>s?s:6,A>s-3&&A<s&&(A=s-3),E[D++]=16,E[D++]=A-3,H[16]++,s-=A}e=C?E.subarray(0,D):E.slice(0,D);ea=oa(H,7);for(y=0;19>y;y++)ia[y]=ea[Ia[y]];for(P=19;4<P&&0===ia[P-1];P--);ua=pa(ea);B.a(N-257,5,u);B.a(O-1,5,u);B.a(P-4,4,u);for(y=0;y<P;y++)B.a(ia[y],3,u);y=0;for(va=e.length;y<va;y++)if(Q=
e[y],B.a(ua[Q],ea[Q],u),16<=Q){y++;switch(Q){case 16:fa=2;break;case 17:fa=3;break;case 18:fa=7;break;default:throw"invalid code: "+Q;}B.a(e[y],fa,u)}var ya=[sa,W],za=[ta,X],I,Aa,Z,la,Ba,Ca,Da,Ea;Ba=ya[0];Ca=ya[1];Da=za[0];Ea=za[1];I=0;for(Aa=J.length;I<Aa;++I)if(Z=J[I],B.a(Ba[Z],Ca[Z],u),256<Z)B.a(J[++I],J[++I],u),la=J[++I],B.a(Da[la],Ea[la],u),B.a(J[++I],J[++I],u);else if(256===Z)break;this.b=B.finish();this.c=this.b.length;break;default:throw"invalid compression type";}return this.b};
function qa(e,d){this.length=e;this.g=d}
var Fa=function(){function e(a){switch(u){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var d=[],c,f;for(c=3;258>=c;c++)f=e(c),d[c]=f[2]<<24|
f[1]<<16|f[0];return d}(),Ga=C?new Uint32Array(Fa):Fa;
function na(e,d){function c(a,c){var b=a.g,d=[],f=0,e;e=Ga[a.length];d[f++]=e&65535;d[f++]=e>>16&255;d[f++]=e>>24;var g;switch(u){case 1===b:g=[0,b-1,0];break;case 2===b:g=[1,b-2,0];break;case 3===b:g=[2,b-3,0];break;case 4===b:g=[3,b-4,0];break;case 6>=b:g=[4,b-5,1];break;case 8>=b:g=[5,b-7,1];break;case 12>=b:g=[6,b-9,2];break;case 16>=b:g=[7,b-13,2];break;case 24>=b:g=[8,b-17,3];break;case 32>=b:g=[9,b-25,3];break;case 48>=b:g=[10,b-33,4];break;case 64>=b:g=[11,b-49,4];break;case 96>=b:g=[12,b-
65,5];break;case 128>=b:g=[13,b-97,5];break;case 192>=b:g=[14,b-129,6];break;case 256>=b:g=[15,b-193,6];break;case 384>=b:g=[16,b-257,7];break;case 512>=b:g=[17,b-385,7];break;case 768>=b:g=[18,b-513,8];break;case 1024>=b:g=[19,b-769,8];break;case 1536>=b:g=[20,b-1025,9];break;case 2048>=b:g=[21,b-1537,9];break;case 3072>=b:g=[22,b-2049,10];break;case 4096>=b:g=[23,b-3073,10];break;case 6144>=b:g=[24,b-4097,11];break;case 8192>=b:g=[25,b-6145,11];break;case 12288>=b:g=[26,b-8193,12];break;case 16384>=
b:g=[27,b-12289,12];break;case 24576>=b:g=[28,b-16385,13];break;case 32768>=b:g=[29,b-24577,13];break;default:throw"invalid distance";}e=g;d[f++]=e[0];d[f++]=e[1];d[f++]=e[2];var k,m;k=0;for(m=d.length;k<m;++k)l[h++]=d[k];t[d[0]]++;w[d[3]]++;q=a.length+c-1;x=null}var f,a,b,k,m,g={},p,v,x,l=C?new Uint16Array(2*d.length):[],h=0,q=0,t=new (C?Uint32Array:Array)(286),w=new (C?Uint32Array:Array)(30),da=e.f,z;if(!C){for(b=0;285>=b;)t[b++]=0;for(b=0;29>=b;)w[b++]=0}t[256]=1;f=0;for(a=d.length;f<a;++f){b=
m=0;for(k=3;b<k&&f+b!==a;++b)m=m<<8|d[f+b];g[m]===n&&(g[m]=[]);p=g[m];if(!(0<q--)){for(;0<p.length&&32768<f-p[0];)p.shift();if(f+3>=a){x&&c(x,-1);b=0;for(k=a-f;b<k;++b)z=d[f+b],l[h++]=z,++t[z];break}0<p.length?(v=Ha(d,f,p),x?x.length<v.length?(z=d[f-1],l[h++]=z,++t[z],c(v,0)):c(x,-1):v.length<da?x=v:c(v,0)):x?c(x,-1):(z=d[f],l[h++]=z,++t[z])}p.push(f)}l[h++]=256;t[256]++;e.j=t;e.i=w;return C?l.subarray(0,h):l}
function Ha(e,d,c){var f,a,b=0,k,m,g,p,v=e.length;m=0;p=c.length;a:for(;m<p;m++){f=c[p-m-1];k=3;if(3<b){for(g=b;3<g;g--)if(e[f+g-1]!==e[d+g-1])continue a;k=b}for(;258>k&&d+k<v&&e[f+k]===e[d+k];)++k;k>b&&(a=f,b=k);if(258===k)break}return new qa(b,d-a)}
function oa(e,d){var c=e.length,f=new ja(572),a=new (C?Uint8Array:Array)(c),b,k,m,g,p;if(!C)for(g=0;g<c;g++)a[g]=0;for(g=0;g<c;++g)0<e[g]&&f.push(g,e[g]);b=Array(f.length/2);k=new (C?Uint32Array:Array)(f.length/2);if(1===b.length)return a[f.pop().index]=1,a;g=0;for(p=f.length/2;g<p;++g)b[g]=f.pop(),k[g]=b[g].value;m=Ja(k,k.length,d);g=0;for(p=b.length;g<p;++g)a[b[g].index]=m[g];return a}
function Ja(e,d,c){function f(a){var b=g[a][p[a]];b===d?(f(a+1),f(a+1)):--k[b];++p[a]}var a=new (C?Uint16Array:Array)(c),b=new (C?Uint8Array:Array)(c),k=new (C?Uint8Array:Array)(d),m=Array(c),g=Array(c),p=Array(c),v=(1<<c)-d,x=1<<c-1,l,h,q,t,w;a[c-1]=d;for(h=0;h<c;++h)v<x?b[h]=0:(b[h]=1,v-=x),v<<=1,a[c-2-h]=(a[c-1-h]/2|0)+d;a[0]=b[0];m[0]=Array(a[0]);g[0]=Array(a[0]);for(h=1;h<c;++h)a[h]>2*a[h-1]+b[h]&&(a[h]=2*a[h-1]+b[h]),m[h]=Array(a[h]),g[h]=Array(a[h]);for(l=0;l<d;++l)k[l]=c;for(q=0;q<a[c-1];++q)m[c-
1][q]=e[q],g[c-1][q]=q;for(l=0;l<c;++l)p[l]=0;1===b[c-1]&&(--k[0],++p[c-1]);for(h=c-2;0<=h;--h){t=l=0;w=p[h+1];for(q=0;q<a[h];q++)t=m[h+1][w]+m[h+1][w+1],t>e[l]?(m[h][q]=t,g[h][q]=d,w+=2):(m[h][q]=e[l],g[h][q]=l,++l);p[h]=0;1===b[h]&&f(h)}return k}
function pa(e){var d=new (C?Uint16Array:Array)(e.length),c=[],f=[],a=0,b,k,m,g;b=0;for(k=e.length;b<k;b++)c[e[b]]=(c[e[b]]|0)+1;b=1;for(k=16;b<=k;b++)f[b]=a,a+=c[b]|0,a<<=1;b=0;for(k=e.length;b<k;b++){a=f[e[b]];f[e[b]]+=1;m=d[b]=0;for(g=e[b];m<g;m++)d[b]=d[b]<<1|a&1,a>>>=1}return d};ba("GLANCE.Lib.Zlib.RawDeflate",ka);ba("GLANCE.Lib.Zlib.RawDeflate.prototype.compress",ka.prototype.h);var Ka={NONE:0,FIXED:1,DYNAMIC:ma},V,La,$,Ma;if(Object.keys)V=Object.keys(Ka);else for(La in V=[],$=0,Ka)V[$++]=La;$=0;for(Ma=V.length;$<Ma;++$)La=V[$],ba("GLANCE.Lib.Zlib.RawDeflate.CompressionType."+La,Ka[La]);}).call(this);
/*
 Copyright (c) 2022 Glance Networks, Inc.
 Copyright 2022 Glance Networks, Inc.
*/
'use strict';var v,ba;window.GLANCE=window.GLANCE||{};window.GLANCE.VERSION="5.8.2.1";window.GLANCE.PATCH="";window.GLANCE.Lib=window.GLANCE.Lib||{};var ca={ub:"GLANCE_KEYTYPE_RANDOM"};ca={ub:"GLANCE_KEYTYPE_RANDOM"};var da,ea=["5","8","2","1"];da=1E6*parseInt(ea[0])+1E3*parseInt(ea[1])+parseInt(ea[2]);
function ha(a,c){c=c||"clip";if(URL.toString().includes("[native code]"))var e=(new URL(a)).hostname;else e=D.window.URL,e=new (Function.bind.apply(e,[e,a])),e=e.hostname;return`https://${e}/viv/VideoPlayer.html?offer=${a}&scaling=${c}&noendpage=1&guestid={guestid}&conntype={role}`}
var G=function(){var a=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),e=a.match(/(edge)[\s\/:]([\w\d\.]+)?/)||a.match(/(opera|ie|firefox|chrome|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||a.match(/(rv):([\w\d\.]+)/)||[null,"unknown",0];"crios"===e[1]?e[1]="chrome":"rv"===e[1]&&(e[1]="ie");a={extend:Function.prototype.extend,name:"version"==e[1]?e[3]:e[1],version:"ie"==e[1]&&document.documentMode||parseFloat("opera"==e[1]&&e[4]?e[4]:e[2]),za:{name:a.match(/ip(?:ad|od|hone)/)||
c.match(/mac/)&&"undefined"!==typeof navigator.a?"ios":(a.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]},we:{Le:!!document.evaluate,ye:!!window.He,query:!!document.querySelector,json:!!window.JSON},xe:{},Fe:function(){return"ios"==this.za.name||"android"==this.za.name}};document.documentMode&&window.XDomainRequest?(a.name="ie",a.version=document.documentMode):window.navigator&&navigator.appVersion&&-1!=navigator.appVersion.indexOf("MSIE 7.")&&(a.name="ie",a.version="7");a[a.name]=
!0;a[a.name+parseInt(a.version,10)]=!0;a.za[a.za.name]=!0;return a}();function ia(a){var c=c||document;return H(c,"querySelector","iframe[frameid='"+a+"']")}function ja(a){for(a=String(Math.round(Math.random()*Math.pow(10,a)));4>a.length;)a="0"+a;return a}function la(){let a=new Uint32Array(8);window.crypto.getRandomValues(a);let c="";a.forEach(e=>{c+=e.toString(36)});return c}function ma(a){var c={},e=/ssagent-/,g;for(g in a)g.match(e)&&(c[g.substr(8)]=a[g]);return c}
function oa(){if("relative"!==window.getComputedStyle(document.body).position)return{x:0,y:0};var a=Math.round(window.pageXOffset),c=Math.round(window.pageYOffset),e=document.body.getBoundingClientRect();return{x:e.x+a,y:e.y+c}}function pa(){}pa.prototype.set=function(a,c){H(window,"clearTimeout",this.na);var e=this;this.na=H(window,"setTimeout",function(){delete e.na;c&&c()},a)};pa.prototype.clear=function(){H(window,"clearTimeout",this.na);delete this.na};if(void 0===sa)var sa=function(a){return JSON.stringify(a)};
function ta(a){a.onmessage=function(c){c=JSON.parse(c.data);a.Mc&&a.Mc(c)};a.Uc=function(c){c=sa(c);a.send(c)};a.Be=function(c){return c&&c.code||0};a.Ce=function(c){return c&&c.reason||""}}
function ua(a,c){var e={};if(ba)var g=new va(a);else G.ie9&&"http:"===window.location.protocol&&(e.protocols_whitelist=["iframe-eventsource","iframe-htmlfile"]),g=new SockJS(a,"",e);g.Za=0;g.Jd=function(){g.Zb();c&&g.transport&&!g.transport.match(/^iframe-/)&&(g.lc=H(window,"setInterval",function(){g.Za++;g.Lc&&g.Lc({Za:g.Za})},c))};g.Zb=function(){g.lc&&H(window,"clearInterval",g.lc)};ta(g);g.onclose=function(k){g.Zb();g.Jc&&g.Jc(k)};g.onheartbeat=function(){g.Za=0;g.Jd();g.Kc&&g.Kc()};return g}
var wa=!1,xa,ya;function za(a){xa=a;if(!document.getElementById("glance_request_proxy")){var c=document.createElement("iframe");c.id="glance_request_proxy";c.width="0px";c.height="0px";c.style.border="none";c.src="https://"+a+"/RequestProxy.htm?1";c.onload=function(){wa=!0};document.body.appendChild(c)}ya=document.getElementById("glance_request_proxy").contentWindow}function Aa(a,c){wa?ya.postMessage(a,c||"https://"+xa):H(window,"setTimeout",function(){Aa(a,c)},100)}
function va(a){this.readyState=SockJS.CONNECTING;this.a=Math.round(1E6*Math.random());Ba=Ba||{};Ba[this.a]=this;Aa({from:"GSockJSProxy",sockid:this.a,cmd:"open",url:a})}var Ba;
function Ca(a){if(L(a.origin)===L(xa)&&"undefined"!=typeof a.data.to&&"GSockJSProxy"==a.data.to){var c=Ba[a.data.sockid];if(c)switch(a.data.event.type){case "open":c.readyState=SockJS.OPEN;if(c.onopen)c.onopen(a.data.event);break;case "heartbeat":c.onheartbeat();break;case "message":c.onmessage(a.data.event);break;case "close":c.readyState=SockJS.CLOSED;c.onclose(a.data.event);break;default:M("UNKNOWN GLANCE SOCKJS PROXY MESSAGE: "+JSON.stringify(a.data))}}}
va.prototype.send=function(a){Aa({from:"GSockJSProxy",sockid:this.a,cmd:"send",data:a})};va.prototype.close=function(){this.readyState=SockJS.CLOSING;Aa({from:"GSockJSProxy",sockid:this.a,cmd:"close"})};var Da=1;function Ea(a){if(void 0===a||null===a)return a;a=sa(a);a=(new TextEncoder).encode(a);var c=(new window.GLANCE.Lib.Zlib.RawDeflate(a)).compress();a="";c=new Uint8Array(c);for(var e=c.byteLength,g=0;g<e;g++)a+=String.fromCharCode(c[g]);return{_c:window.btoa(a)}}
function Fa(a){if(null===a||a instanceof String&&0===a.length)return null;if(void 0===a._c)return a;a=window.atob(a._c);for(var c=a.length,e=new Uint8Array(c),g=0;g<c;g++)e[g]=a.charCodeAt(g);a=(new window.GLANCE.Lib.Zlib.RawInflate(e.buffer)).decompress();a=(new TextDecoder).decode(a);return JSON.parse(a)}function Ga(a,c,e){if(void 0!==a)return e=e||Object.keys(a),e.forEach(function(g){void 0!==a[g]&&(c[g]=a[g])}),c}
function Ha(){function a(e,g){for(e=e.toString();e.length<g;)e="0"+e;return e}var c=new Date;return c.getUTCFullYear()+"/"+(c.getUTCMonth()+1)+"/"+c.getUTCDate()+" "+a(c.getUTCHours(),2)+":"+a(c.getUTCMinutes(),2)+":"+a(c.getUTCSeconds(),2)}function Ia(){}Ia.prototype.set=function(){};var Ja={};function Ka(a,c,e){H(window,"addEventListener",a,c,e)}function La(a,c){H(window,"removeEventListener",a,c)}function Ma(a,c,e,g){var k={};k[c]=e;a.postMessage(k,void 0!==g?g:"*")}
function Na(a,c){function e(g){if("string"===typeof g.data)try{var k=JSON.parse(g.data)}catch(n){return!1}else k=g.data;void 0!==k.glance_xdomain&&(c&&!Oa(g.origin,c)?S("UNTRUSTED_ORIGIN:"+g.origin+" "+JSON.stringify(k)):a(g.source,k.glance_xdomain))}H(window,"addEventListener","message",e);return e}function Pa(a){Ka(void 0!==window.onpagehide?"pagehide":"unload",a)}function Qa(a){void 0!==window.onpageshow&&Ka("pageshow",a)}
function Ra(a){function c(g){for(var k in g)if("object"===typeof g[k]){c(g[k]);a:{var n=void 0;var C=g[k];if(C instanceof Array||C instanceof String)n=!1;else{for(n in C)if(C.hasOwnProperty(n)){n=!1;break a}n=!0}}n&&delete g[k]}}function e(g){if(!(g instanceof Array||g instanceof String))for(var k in g)void 0===g[k]?delete g[k]:"object"===typeof g[k]&&e(g[k])}e(a);c(a)}function Sa(a,c){var e=a.indexOf("#");return 0>e?a+(-1===a.indexOf("?")?"?":"&")+c:Sa(a.substring(0,e),c)+a.substring(e)}
function Ta(a){ba?this.g=new Ua(a):this.a=new window.XMLHttpRequest;this.response=null;this.type=a}Ta.prototype.abort=function(){this.g?this.g.abort():this.a.abort()};
Ta.prototype.onreadystatechange=function(){if(4==this.a.readyState){H(window,"clearTimeout",this.j);delete this.j;var a="error";if(0==this.a.status)M(this.method+" to "+this.url+" failed: network"),this.b(!0,"connection",this.a.status);else if(200!==this.a.status){S(this.method+" to "+this.url+" failed with status: "+this.a.status);"text"===this.a.responseType&&null!==this.a.responseText&&M(this.a.responseText);if(401===this.a.status||403===this.a.status)a="authorization",this.f&&this.f.Ae();this.b(!1,
a,this.a.status)}else{if(""!==this.a.response){if("XML"===this.accept)this.response=this.a.responseXML&&this.a.responseXML.documentElement,null===this.response&&S("Invalid XML response: "+this.a.responseText);else if(this.H){for(var c=new Uint8Array(this.a.responseText.length),e=0;e<this.a.responseText.length;e++)c[e]=this.a.responseText.charCodeAt(e)&255;this.response=new Blob([c],{type:this.a.getResponseHeader("Content-Type")})}else if("blob"===this.a.responseType)this.response=this.a.response;
else if(this.a.responseXML)this.response=Va(this.a.responseXML.childNodes[0].childNodes[0].nodeValue);else if("HTML"===this.accept||"TEXT"===this.accept)this.response=this.a.responseText;else if(this.response=Va(this.a.responseText),null===this.response){M(this.method+" to "+this.url+" failed - can't parse response "+this.a.responseText);this.b(!1,a);return}if(void 0!==this.response.err&&void 0!==this.response.msg){M(this.method+" to "+this.url+" failed with error:"+this.response.err+" "+this.response.msg);
this.b(!1,a);return}}this.onsuccess(this.response)}}};function Va(a){var c=null;try{c=JSON.parse(a)}catch(e){return M("JSON parse failed with error: "+e.toString()+" parsing: "+a),null}return c}Ta.prototype.getResponseHeader=function(a){return this.a.getResponseHeader(a)};
function Wa(a,c){a.accept=c;"XML"===c?a.c="text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8":"JSON"===c?a.c="application/json, text/javascript, */*; q=0.01":"HTML"===c?a.c="text/html":"TEXT"===c?a.c="text/*":"IMAGE"===c?a.c="image/*":"BINARY"===c&&(a.c="*/*");if("IMAGE"===c||"BINARY"===c)a.a.responseType="blob"}function Xa(a,c){return a+"?"+Object.keys(c).map(function(e){return e+"="+c[e]}).join("&")}Ta.prototype.get=function(a,c,e,g,k){this.method="GET";Ya(this,a,null,c,e,g,k)};
function Ya(a,c,e,g,k,n,C){a.url=c;a.onsuccess=void 0!==n?n:function(){};a.b=void 0!==C?C:function(){};a.method=a.method||"POST";if(a.g)Za(a.g,c,e,g,k,n,C);else{n=a.B||("JSON"===a.type?"application/json; charset=utf-8":"application/x-www-form-urlencoded; charset=utf-8");if("string"===typeof e)var B=e;else e instanceof Blob?(n=e.type,B=e):e&&(B="JSON"===a.type?sa(e):"data="+sa(e));G.safari&&a.u&&(a.j=H(window,"setTimeout",function(){M(this.method+" to "+this.url+" failed - timedout (Safari)");this.b(!1,
"timedout")}.bind(a),a.u));a.a.onreadystatechange=function(){a.onreadystatechange()};try{a.a.open(a.method,c,g),void 0!==a.c&&a.a.setRequestHeader("Accept",a.c),void 0!==a.a.setRequestHeader&&"GET"!==a.method&&a.a.setRequestHeader("Content-type",n),a.f&&a.f.Vd()?a.a.setRequestHeader("Authorization","Bearer "+a.f.Vd()):a.h&&a.a.setRequestHeader("Authorization","Bearer "+a.h),a.a.withCredentials=k,a.a.send(B)}catch(F){M(a.method+" to "+c+" failed with: "+F.toString()),a.b(!1,F.toString())}}}
function Ua(a){this.type=a;$a=this}var $a;function Za(a,c,e,g,k,n,C){a.onsuccess=n;a.b=C;Aa({from:"IFrameProxyRequest",type:a.type,url:c,obj:e,async:g,withcred:k})}Ua.prototype.abort=function(){Ua.postMessage({from:"IFrameProxyRequest",abort:!0})};function ab(a){if(L(a.origin)===L(xa)&&"undefined"!=typeof a.data.to&&"IFrameProxyRequest"==a.data.to)if(a.data.success)$a.onsuccess(a.data.response);else $a.b()}function bb(a,c){this.name=a;this.domain=c||cb(new db(window))}v=bb.prototype;
v.Wa=function(a,c){var e=new Date;e.setUTCHours(e.getUTCHours()+8);document.cookie=this.name+"="+escape(sa(a))+"; expires="+e.toGMTString()+"; domain="+this.domain+"; path=/"+(c||a.Je?";secure":"")};v.pa=function(){var a=this.get();return a?JSON.parse(a):null};v.get=function(){return this.Ga()?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null};
v.Ta=function(){var a=new Date;a.setDate(a.getDate()-1);document.cookie=escape(this.name)+"=; expires="+a.toGMTString()+"; domain="+this.domain+"; path=/"};v.Ga=function(){return(new RegExp("(?:^|;\\s*)"+escape(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)};function eb(a){this.name=a}v=eb.prototype;v.Wa=function(a){var c=new Date;c.setUTCHours(c.getUTCHours()+8);localStorage.setItem(this.name,sa(a));localStorage.setItem(this.name+"_exp",c.toGMTString())};
v.pa=function(){if(!this.Ga())return null;var a=localStorage.getItem(this.name);return JSON.parse(a)};v.get=function(){return this.Ga()?localStorage.getItem(this.name):null};v.Ta=function(){localStorage.removeItem(this.name);localStorage.removeItem(this.name+"_exp")};v.Ga=function(){var a=localStorage.getItem(this.name+"_exp");if(!a)return!1;a=new Date(a);return a<new Date?(this.Ta(),!1):!0};function fb(a,c){this.a=[new bb(a,c),new eb(a)]}v=fb.prototype;
v.Wa=function(a,c){this.a[0].Wa(a,c);this.a[1].Wa(a,c)};v.pa=function(){return this.a[0].pa()||this.a[1].pa()};v.get=function(){return this.a[0].get()||this.a[1].get()};v.Ta=function(){this.a[0].Ta();this.a[1].Ta()};v.Ga=function(){return this.a[0].Ga()||this.a[1].Ga()};function gb(a){var c={};["url","name","visitorselected","agentselected"].forEach(e=>{a.hasOwnProperty(e)&&(c[e]=a[e])});return c}function hb(a){this.event=a||window.event;this.a={x:this.event.clientX,y:this.event.clientY}}
function ib(a,c){if("undefined"!==typeof CustomEvent)try{var e=new CustomEvent(c)}catch(g){}e||(e=document.createEvent("HTMLEvents"),e.initEvent(c,!0,!0));a.dispatchEvent(e)}function jb(a,c){c=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:String.fromCharCode(c.code),"char":String.fromCharCode(c.code),shiftKey:!1});a.dispatchEvent(c)}
function kb(a){function c(g){g=(48+parseInt(g)).toString(16);return"\\"+((6<=g.length?"":Array(7-g.length>>>0).join("0"))+g)}function e(g){return"\\"+g}if(a)return a=a.trim().replace(/[^\w\d-_]/g,e),/^\d/.test(a)&&(a=a.replace(/^\d/,c)),/^-/.test(a)&&(a=a.replace(/^-/,e)),a}
function db(a){this.o=a.document;this.ha=a;this.Y={x:-1,y:-1};this.ze=G;var c=[["hidden","visibilitychange"],["mozHidden","mozvisibilitychange"],["webkitHidden","webkitvisibilitychange"],["msHidden","msvisibilitychange"],["oHidden","ovisibilitychange"]];for(a=0;a<c.length;a++)if(c[a][0]in document){this.Ub=c[a][0];this.wd=c[a][1];break}}
function lb(a){var c=a;a=a.split("?");1<a.length&&(c=a[0]);c=(new RegExp(/(?:.*?:\/\/){0,1}([^\/:]+)/)).exec(c);return null===c||2>c.length||0>c[1].indexOf(".")?null:c[1]}
function L(a){var c=new RegExp(/^(?:[a-z]{1,5}:\/\/|)([^:\?\/]*)/),e=a.match(/^\d+\.\d+.\d+.\d+$/);c=c.exec(a);if(e)return a;if(null===c||2!==c.length)return"about:"!==a&&M("ERR_DOMAINPARSE: "+a),null;e=c[1].split(".");return 1===e.length?(M("ERR_DOMAINPARSE: "+a),null):2===e.length?e.join("."):3===e.length?e.slice(1).join("."):4>=e[e.length-2].length?e.slice(e.length-3).join("."):e.slice(e.length-2).join(".")}
function Oa(a,c){var e=!1;a=lb(a);if(null===a||!c)return!1;c.forEach(function(g,k){"object"===typeof g&&(g=g.domain);if(a.match(new RegExp("\\."+g+"$","i"))||a===g)e={index:k,domain:g}});return e}v=db.prototype;v.Hb=function(){for(var a=this.ha.location.protocol,c=this.ha;("about:"===a||"javascript:"===a)&&c.parent!==c;)a=c.parent.location.protocol,c=c.parent;return a.replace(/:/g,"")};
function cb(a){var c=a.ha.location.hostname;for(a=a.ha;""===c&&a.parent!==a;)c=a.parent.location.hostname,a=a.parent;return L(c)}function mb(a){for(var c=window.location.href.toLowerCase(),e=0;e<a.length;e++)if(0<=c.indexOf(a[e].toLowerCase()))return!0;return!1}function ob(a,c){for(var e=new ArrayBuffer(a.length),g=new Uint8Array(e),k=0,n=a.length;k<n;k++)g[k]=a.charCodeAt(k);return new Blob([e],{type:c})}
function pb(a){function c(g){if(g=T("children",g))for(var k=0;k<g.length;k++){var n=U(g[k]);n.element?(n=window.getComputedStyle(n.element),n=null===n?!1:(n.overflowX+n.overflowY).match(/scroll|auto/)):n=!1;n&&e.push(g[k]);c(g[k])}}var e=[];c(a);return e}v.getElementsByTagName=function(a){return H(this.o,"getElementsByTagName",a)};
function qb(a,c){for(var e=cb(a);c&&!/^(?:body|html)$/i.test(U(c).element.tagName)&&!c instanceof DocumentFragment&&"a"!==c.tagName.toLowerCase();)c=c.parentNode;if(!c||"a"!==c.tagName.toLowerCase())return!1;a=c.href;a=a.baseVal||a;var g=a.indexOf("//");if(0>g)return!1;0===g&&(a="http:"+a);return c.hasAttribute("download")||a.startsWith("blob:")?!1:L(a)!==e}
async function rb(a,c){return new Promise((e,g)=>{var k=a.o.createElement("script");k.onload=e;k.onerror=g;for(const n in c)k.setAttribute(n,c[n]);k.setAttribute("charset","UTF-8");a.o.head.appendChild(k)})}v.ib=1;v.gd=2;function sb(a,c){var e=a.W(),g=tb(a),k=window.getComputedStyle(a.o.body,void 0);if(null===k)return!1;var n=c===a.ib?k.overflowY:k.overflowX;return(c===a.ib?g.y:g.x)>(c===a.ib?e.y:e.x)&&("visible"===k.overflow||"visible"===n||"auto"===k.overflow||"auto"===n||"scroll"===n)}
function ub(a,c){return H(a.o,"getElementById",c)}function vb(a){a.Hc=function(c){c=new hb(c);a.Y.x=c.a.x||-1;a.Y.y=c.a.y||-1;return!0};a.Ic=function(){a.Y.x=-1;a.Y.y=-1;return!0};a.addEventListener("mousemove",a.Hc);a.addEventListener("mouseout",a.Ic)}function wb(a){a.click={x:-1,y:-1};a.Gc=function(c){c=new hb(c);a.click.x=c.a.x||0;a.click.y=c.a.y||0;a.click.ts=Date.now();return!0};a.addEventListener("click",a.Gc)}v.Eb=function(){this.Y={x:-1,y:-1}};
function xb(a){var c=a.click;a.click={x:-1,y:-1};return yb(a,c)}function zb(a){return void 0===a.Ub?!1:a.o[a.Ub]}function Ab(a,c){a.addEventListener(a.wd,c)}
function Bb(a,c){function e(C){if(!C||"body"===C.tagName.toLowerCase())return!1;let B=window.getComputedStyle(C,void 0).position;return"fixed"===B||"sticky"===B?!0:e(T("parentElement",C))}var g,k=0,n={};for(Ga(a,n);(g=Cb(n))&&e(g);)if(g.getAttribute("class"),g.getAttribute("data-gid"),JSON.stringify(n),n[c]+=50,10<k++)return document.body;g.getAttribute("class");g.getAttribute("data-gid");JSON.stringify(n);return g||document.body}
function Cb(a){a=document.elementFromPoint(a.x,a.y);null===a&&(a=document.body);3==a.nodeType&&(a=a.parentNode);return a}function Db(a){a=a.client||a;return 0>a.x||0>a.y}
function yb(a,c,e,g){if(c&&(0>c.x||0>c.y))return{client:{x:Math.round(c.x),y:Math.round(c.y)}};c=c||Eb(a,e);e=e||Fb(a,c);a=U(g?Bb(c,g):Cb(c));if(a.matches("#glance_session_widget *")||a.matches("#glance_screensharepreview"))a=U(document.getElementById("glance_session_widget"));g=Gb(a);return{client:{x:Math.round(c.x),y:Math.round(c.y)},relative:{x:Math.round(e.x-g.x),y:Math.round(e.y-g.y),element:a.l()}}}
function Hb(a,c,e){if(0===e)return{offset:0};var g=a.W(),k=Ib(a);a=yb(a,void 0,{x:"x"===c?e:g.x/2+k.x,y:"y"===c?e:g.y/2+k.y},c).relative;return{offset:e,relative:{element:a.element,offset:a[c]}}}function Jb(a,c,e,g){if(!e)return g;var k={element:e.element};k[c]=e.offset;k["x"===c?"y":"x"]=0;return(a=Kb(a,k))?a[c]:g}function Lb(a,c,e){return(c=Kb(a,c))?Eb(a,c):e}
function Kb(a,c,e){a=c?Mb(U(a.o.documentElement),c.element,!1):null;if(null===a)return M("Element not found for relative coords"),e;e=Gb(U(a));return{x:e.x+c.x,y:e.y+c.y}}function Nb(a,c,e){var g;return c.replace(/url\s*\(['"]?(\s*(?!.*\/\/.*).+?)['"]?\)/g,function(k,n){"/"!==n.charAt(0)&&(g=a.l())&&(n=g+n);return"url("+e+a.ha.location.host+n+")"})}v.head=function(){return void 0!==this.o.head?this.o.head:this.getElementsByTagName("head")[0]};
function Ob(a,c){a.ha.addEventListener&&(document.readyState.match(/complete/)?c():(a.ha.addEventListener("load",c),a.o.addEventListener("DOMContentLoaded",c,!1)))}function Pb(a){return a.o.compatMode&&"CSS1Compat"!==a.o.compatMode?a.o.body:a.o.documentElement}v.W=function(){if(void 0!==window.orientation)return{x:window.innerWidth,y:window.innerHeight};var a=Pb(this);return{x:a.clientWidth,y:a.clientHeight}};
function tb(a){if(a.o.width)return{x:a.o.width,y:a.o.height};a=Pb(a);return{x:a.scrollWidth,y:a.scrollHeight}}function Qb(a){var c=a.W();a=tb(a);for(var e=["x","y"],g,k,n,C,B={},F=0;F<e.length;F++)g=e[F],k=Math.round(Math.pow(c[g],2)/a[g]),n=c[g]-4,C=0,a[g]>c[g]&&(C=(n-k)/(a[g]-c[g])),C=Math.round(1E4*C)/1E4,B[g]={tabsz:k,ratio:C};return B}
function Ib(a){if(void 0!==window.pageXOffset)return{x:Math.round(a.ha.pageXOffset),y:Math.round(a.ha.pageYOffset)};if(void 0!==document.documentElement.scrollTop)return{x:a.o.documentElement.scrollLeft,y:a.o.documentElement.scrollTop};if(void 0!==document.body.scrollLeft)return{x:a.o.body.scrollLeft,y:a.o.body.scrollTop};throw Error("Can't get page scroll");}function Eb(a,c){a=Ib(a);return{x:c.x-a.x,y:c.y-a.y}}function Fb(a,c){a=Ib(a);return{x:c.x+a.x,y:c.y+a.y}}
v.scrollTo=function(a,c,e){var g=Ib(this);g[a]=c;a={left:g.x,top:g.y,behavior:e?"smooth":"auto"};G.ie11||G.edge?window.scrollTo(g.x,g.y):window.scrollTo(a);Ib(this)};v.l=function(){var a=Rb(),c=a.match(/(((.*?)\/)*)([^\/]+)/);return 0>a.indexOf(".")?a:c?c[1]:null};function Rb(){return window.GLANCE.Cobrowse.Loader._origpath}v.addEventListener=function(a,c,e){H(this.o,"addEventListener",a,c,e)};v.removeEventListener=function(a,c,e){H(this.o,"removeEventListener",a,c,e)};
function Sb(a){this.element=a}var Tb,D,Ub;function U(a){return new Sb(a)}v=Sb.prototype;v.show=function(a){void 0===a&&(a=!0);this.element.className.match(new RegExp(a?"glance_show":"glance_hide","g"))||(this.element.className=this.element.className.replace(new RegExp(a?"glance_hide":"glance_show","g"),a?"glance_show":"glance_hide"),Vb(this,a?"glance_show":"glance_hide"))};
function Wb(a){var c=a.element.id?' id="'+a.element.id+'"':"";return'<meta data-gid="'+a.element.getAttribute("data-gid")+'"'+c+"></meta>"}function Vb(a,c){"string"===typeof a.element.className&&a.element.className.match(new RegExp("\\b"+c+"\\b","g"))||(a.element.className+=" "+c)}v.addEventListener=function(a,c,e){H(this.element,"addEventListener",c,e)};v.removeEventListener=function(a,c,e){H(this.element,"removeEventListener",c,e)};
function Xb(a){return a.element.attachShadow==Element.prototype.attachShadow&&T("shadowRoot",a.element)}
function Yb(a,c){var e;"click"===c&&a.element.tagName.match(/input|textarea/i)&&(a.element.focus(),a.element.tagName.match(/^textarea$/i)||a.element.type.match(/^(text|datetime|email|password|tel|url|number)$/i))&&(a.element.selectionStart=a.element.selectionEnd);if("click"===c&&void 0!==a.element.click)a.element.click();else{void 0===e&&(e={view:window,bubbles:!0,cancelable:!0});try{var g=new MouseEvent(c,e)}catch(k){g=a.element.ownerDocument.createEvent("MouseEvents"),g.initMouseEvent(c,!0,!0,a.element.ownerDocument.defaultView,
1,0,0,0,0,!1,!1,!1,!1,1,null)}a.element.dispatchEvent(g)}}
function T(a,c){if(!Tb||1!==c.nodeType)return c[a];var e=Tb?D:window;if(Tb)try{var g=e.document.createElement(c.nodeName)}catch(n){g=e.document.createElement("div")}else g=c;g=e.Object.getPrototypeOf(g);if(!g)return c[a];if("contentWindow"===a)return e.Object.getOwnPropertyDescriptor(g,a).get.call(c);for(var k;!(k=e.Object.getOwnPropertyDescriptor(g,a))||0>k.get.toString().indexOf("[native code]");)if(g=e.Object.getPrototypeOf(g),!g)return c[a];return k.get.call(c)}
function H(a,c,...e){return Tb&&D&&a.nodeType?"#document"===a.nodeName?D.document[c].apply(a,e):"#document-fragment"===a.nodeName?D.DocumentFragment.prototype[c].apply(a,e):D.document.body[c].apply(a,e):Tb&&D&&"[object Window]"===a.toString()?D.window[c].apply(a,e):a[c].apply(a,e)}
function Zb(a,c){return Tb&&D&&D.document[a]?"#document"===c.nodeName?D.document[a]:"#document-fragment"===c.nodeName?D.DocumentFragment.prototype[a]:D.document.body[a]:Tb&&D&&"[object Window]"===c.toString()?D.window[a]:c[a]}function dc(a){var c;try{return Tb?D.clone?c=D.clone(a.element):c=H(a.element,"cloneNode",!0):c=a.element.cloneNode(!0),c}catch(e){M("deepClone failed for "+a.element.tagName+" error:"+e.message)}return a.element.cloneNode(!0)}
function ec(a,c){return c.contains?G.ie11&&a.element.nodeType===Node.TEXT_NODE?a.element.parentNode===c||H(c,"contains",a.element.parentNode):H(c,"contains",a.element):!1}v.remove=function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)};v.empty=function(){for(;this.element.hasChildNodes();)this.element.removeChild(this.element.childNodes[0])};
v.W=function(){if(this.element.getBoundingClientRect){var a=this.element.getBoundingClientRect();return{width:Math.round(a.right-a.left),height:Math.round(a.bottom-a.top)}}return{width:this.element.offsetWidth,height:this.element.offsetHeight}};function fc(a,c,e){a.element.style.width=c+"px";a.element.style.height=e+"px"}function gc(a){return/^(?:head)$/i.test(a.element.tagName)}
function Gb(a,c){if(a.element.tagName.match(/html/i))return{x:0,y:0};var e=a.element.getBoundingClientRect(),g=document.documentElement,k=Ib(new db(window));if(c=!c)a=window.getComputedStyle(a.element,void 0),c="fixed"===(a?a.getPropertyValue("position"):"");a=c;return{x:parseInt(e.left)+(a?0:k.x)-g.clientLeft,y:parseInt(e.top)+(a?0:k.y)-g.clientTop}}function hc(a,c,e){a.element.style.left=c+"px";a.element.style.top=e+"px"}
v.moveTo=function(a,c){function e(){10>C++?(k+=B,n+=F,hc(g,Math.floor(k),Math.floor(n)),g.c=H(window,"setTimeout",e,20)):hc(g,a,c)}void 0!==this.c&&H(window,"clearTimeout",this.c);var g=this,k=parseInt(this.element.style.left),n=parseInt(this.element.style.top);isNaN(k)&&(k=-999);isNaN(n)&&(n=-999);var C=0,B=(a-k)/10,F=(c-n)/10;0===B&&0===F||e()};v.Aa=function(){null!=this.b&&H(window,"clearTimeout",this.b);this.b=null;this.a&&H(window,"clearInterval",this.a);this.a=null};
v.ra=function(a){this.opacity=a;this.element.style.opacity=this.opacity/100;this.element.style.filter="alpha(opacity = "+this.opacity+")"};function ic(a,c,e){var g=new Date;null!==a.a&&a.Aa();a.a=H(window,"setInterval",function(){var k=new Date-g;5E3<=k?(a.ra(0),a.Aa(),e&&e()):a.ra(Math.max(0,c(k/5E3)))},50)}
function jc(a){var c=1,e=a.element==document?"document":a.element.tagName.toLowerCase();for(a=a.element.previousElementSibling;null!=a;a=a.previousElementSibling)a.tagName.toLowerCase()===e&&c++;return kb(e)+":nth-of-type("+c+")"}
v.l=function(){for(var a=[],c=this,e;c.element&&c.element.tagName;){if(/^(?:body|html)$/i.test(c.element.tagName)||gc(c)){a.unshift(c.element==document?"document":c.element.tagName.toLowerCase());break}var g=T("parentNode",c.element);if(null===g)return null;e=(e=c.element.getAttribute("id"))?"#"+kb(e):void 0;if(c.element.getAttribute("data-gid")){a.unshift('[data-gid="'+c.element.getAttribute("data-gid")+'"]');break}else if(e&&1===kc(U(g),e).length){if(a.unshift(e),1===kc(U(document.documentElement),
e).length)break}else a.unshift(jc(c));c=U(g)}return a.join(">")};var lc=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector;Sb.prototype.matches=function(a){return lc.call(this.element,a)};function mc(a,c){return 0<c.length&&a.matches(c.join(","))}function kc(a,c){return H(a.element,"querySelectorAll",c)}function nc(a){if(!a)return null;a=a.replace(/'/g,'"');return(a=a.match(/\[data-gid="(.*-.*)"\]/))&&2===a.length?a[1]:null}
function oc(a,c){function e(g,k,n){return null===g?null:(g=H(g,"querySelector","[data-gid='"+k.slice(0,n+1).join("-")+"']"))?n===k.length-1?g:e(g.shadowRoot,k,n+1):null}c=nc(c);if(!c)return null;c=c.split("-");return e(a.element.ownerDocument,c,0)}
function Mb(a,c,e){function g(n){if(e)throw Error(n);M(n);return null}if(a.element===document.documentElement&&"html"===c)return a.element;void 0===e&&(e=!0);var k=H(a.element,"querySelectorAll",c);return 1===k.length?k[0]:1<k.length?g("Nonunique selector: "+c):(a=oc(a,c))?a:g("Element not found: "+c)}
Sb.prototype.Gb=function(a){var c=T("type",this.element)||"";a={tag:T("tagName",this.element),type:c,path:this.l(),id:T("id",this.element),name:T("name",this.element),sel:T("selectedIndex",this.element),value:a||T("value",this.element)};"string"===typeof a.value&&(a.value=a.value.replace(/<\/script>/gi,"<\\/script>"));c.match(/^(radio|checkbox)$/i)&&(a.checked=this.element.checked);return a};function pc(){this.a={}}
function qc(a,c){var e=c.messageName;delete c.messageName;Object.keys(a.a).forEach(function(g){if((new RegExp(g)).test(e))a.a[g](e,c)})}function rc(){this.listeners=this.a={}}function sc(a,c){c=c.listeners;for(var e in c)a.a[e]=(a.a[e]||[]).concat(c[e])}rc.prototype.add=function(a,c){this.a[a]=this.a[a]||[];this.a[a].push(c)};rc.prototype.remove=function(a,c){a=this.a[a];void 0!==a&&(c=a.indexOf(c),0<=c&&a.splice(c,1))};
rc.prototype.A=function(a,c){c&&JSON.stringify(c);var e=this.a[a];if(void 0!==e)for(a=0;a<e.length;a++)e[a](c)};function tc(a){function c(C){return C.replace(/[\\]:/g,":").replace(":","\\:")}var e=new RegExp(/\[([^\[\]]*)\]/g);try{var g="",k="",n=a.cssRules||a.rules;for(a=0;a<n.length;a++)k=n[a].cssText,k=k.replace(e,c),g+=k+" ";return g}catch(C){return M("Exception getting csstext for stylesheet:"+C.toString()),""}}
function uc(){this.a=[];this.g=function(){return!0};this.j=function(a){return a};this.f=function(a,c){return a.getAttribute(c)};this.b=function(){return!0};this.h=[]}function vc(a,c){delete c.Ba;if(1===c.nodeType&&(c.removeAttribute("data-gid"),c.removeAttribute("data-sdid"),c.removeAttribute("data-gcid"),T("children",c))){for(var e=0;e<T("children",c).length;e++)vc(a,T("children",c)[e]);if(Xb(U(c)))for(c=T("children",c.shadowRoot),e=0;e<c.length;e++)vc(a,c[e])}}
function wc(a,c,e){e=e||"";if(1===c.nodeType){if(a.c)for(var g=0;g<a.c.length;g++)if(c==a.c[g]||ec(U(c),a.c[g])){vc(a,c);return}c.Ba||(g=e?[e,Da].join("-"):Da,c.Ba=g,c.setAttribute("data-gid",g),"CANVAS"===c.tagName&&c.setAttribute("data-gcid",g),Xb(U(c))&&c.setAttribute("data-sdid",g),Da++);g=T("children",c);!g&&G.ie11&&(g=T("childNodes",c));if(g)for(var k=0;k<g.length;k++)wc(a,g[k],e);if(Xb(U(c)))for(g=xc(c),k=0;k<g.length;k++)wc(a,g[k],c.Ba)}}
function yc(a,c,e){c.getAttribute("data-gid");a.l(c);a.c=0<a.h.length?H(document,"querySelectorAll",a.h.join(",")):[];wc(a,c,e);delete a.c}uc.prototype.log=function(){};uc.prototype.l=function(a){var c=U(a).l();return null===c?null:a.Vb&&!/^(head|body)$/i.test(a.tagName)?'[data-gid="'+a.getAttribute("data-gid")+'"]':c};uc.prototype.u=function(a,c){zc(this,a,c);a=this.a;this.a=[];return a};
function Ac(a,c){var e=a.l(c);a.a.push({diff:c.disabled?"SETATTR":"REMATTR",path:e,attr:"disabled",value:""});sa(a.a[a.a.length-1]);return Bc(a)}
function zc(a,c,e){var g,k=c.attributes,n=e.attributes;c.id!==e.id&&(e.Vb=!0);for(g=0;g<k.length;g++)"data-gid"!==k.item(g).nodeName&&e.getAttribute(k.item(g).nodeName)!=k.item(g).nodeValue&&Cc(a,e,k.item(g).nodeName);for(g=0;g<n.length;g++)"data-gid"===n.item(g).nodeName||c.getAttribute(n.item(g).nodeName)||Cc(a,e,n.item(g).nodeName);a:if(k=T("children",c),n=T("children",e),void 0===k||void 0===n)g=void 0===k!==(void 0===n);else if(k.length!=n.length)g=Dc(a,e);else{for(g=0;g<k.length;g++)if(k[g].tagName!==
n[g].tagName){g=Dc(a,e);break a}g=!1}if(g=!g){a:if(g=T("children",c),k=T("children",e),g&&k&&0===g.length&&0===k.length)c.textContent!==e.textContent&&a.b(e)&&(a.l(e),Ec(a,e,e.textContent)),g=!0;else{n=T("childNodes",c);var C=T("childNodes",e);if(n.length!==C.length)Dc(a,e),g=!0;else{for(var B=0;B<n.length;B++)if(g=n[B],k=C[B],g.nodeType!==k.nodeType||g.nodeValue!==k.nodeValue){Dc(a,e);g=!0;break a}g=void 0}}g=!g}if(g)for(c=T("children",c),g=T("children",e),e=0;void 0!==c&&e<c.length;e++)zc(a,c[e],
g[e])}function Fc(a){if(void 0!==window.matchMedia)for(var c=H(document.head,"getElementsByTagName","link"),e=0;e<c.length;e++)a.a.push({diff:"SETATTR",path:a.l(c[e]),attr:"media",value:""===c[e].media||window.matchMedia(c[e].media).matches?"all":"none"});return Bc(a)}
function Gc(a){var c=document.documentElement,e,g={};for(e=0;e<c.attributes.length;e++)a.f(c,c.attributes[e].name)&&(g[c.attributes[e].name]=c.attributes[e].value);a.l(c);sa(g);a.a.push({diff:"ATTR",path:a.l(c),data:g});return Bc(a)}function Cc(a,c,e){var g=a.l(c);if(null===g)c.getAttribute(e);else{var k=a.f(c,e);!1===k?c.getAttribute(e):a.a.push({diff:k||""===k?"SETATTR":"REMATTR",path:g,attr:e,value:k})}}function Ec(a,c,e){c=a.l(c);null!==c&&a.a.push({diff:"CONTENT",path:c,data:e})}
function xc(a){return Xb(U(a))?T("children",T("shadowRoot",a)):T("children",a)}function Dc(a,c){a.l(c);a.g(c);a.a.push({diff:"HTML",path:a.l(c),data:a.j(c.innerHTML)});return!0}function Hc(a,c){var e=dc(U(c));a.g(c,e)?(c=T("outerHTML",e),c||(c=document.createElement("div"),c.appendChild(e),c=c.innerHTML),a=a.j(c)):a=Wb(U(e));return a}
function Ic(a,c){var e=a.l(c);if(e&&a.b(c)){c=T("childNodes",c);for(var g=[],k=0;k<c.length;k++)switch(c[k].nodeType){case 1:g.push({gid:c[k].getAttribute("data-gid")});break;case 3:g.push({text:c[k].textContent});break;case 8:g.push({comment:c[k].data})}a.a.push({diff:"CHILDORDER",path:e,data:g})}}
function Jc(a,c){var e=a.l(c);if(e&&(1!==c.nodeType||!c.tagName.match(/textarea/i))){c.getAttribute("data-gid");c.getAttribute("data-gid")||a.l(c);for(var g=T("children",c),k=0;g&&k<g.length;k++)yc(a,g[k]);if(c=Hc(a,c))a.a.push({diff:"REPLACE",path:e,data:c}),"html"!==e||Ub||Jc(a,document.head)}}
function Kc(a,c){function e(E){c.push({target:E,type:"replacedNode"})}function g(E){if(!(E instanceof HTMLHtmlElement)){var z;if(!(z=!E.getAttribute("data-gid"))&&(z=!Ub))a:{z=H(U(E).element,"querySelectorAll","*");for(var V=0;V<z.length;V++)if(!z[V].getAttribute("data-gid")){z=!0;break a}z=!1}if(z)e(E);else a:{for(z=0;z<F.length;z++)if(F[z].target===E)break a;F.push({target:E,type:"childOrder"})}}}function k(E){E=T("childNodes",E);for(var z=1;z<E.length;z++)if(E[z].nodeType===E[z-1].nodeType&&(3===
E[z].nodeType||8===E[z].nodeType))return!0;return!1}function n(E){for(var z=0;z<c.length;z++)if(c[z]!==E&&"attributes"===E.type&&"attributes"===c[z].type&&E.target===c[z].target&&E.attributeName===c[z].attributeName)return E.target;return!1}function C(E){var z,V,u=U(E.target);for(z=0;z<c.length;z++)if(c[z]!==E&&"childList"===c[z].type)for(V=0;c[z].ea&&V<c[z].ea.length;V++)if(E.target===c[z].ea[V]||ec(u,c[z].ea[V]))return c[z].ea[V];return!1}function B(E){var z;for(z=0;z<c.length;z++)if(c[z]!==E&&
"replacedNode"===c[z].type&&(E.target===c[z].target||ec(U(E.target),c[z].target)))return c[z].target;return!1}(new Ia).set();var F=[];if(500<c.length){M("Mutation overflow");for(var r=!1,Q=0;Q<c.length&&!r;Q++)if(c[Q].target===document.head||T("parentElement",c[Q].target)===document.head)r=!0;c.length=0;r&&Jc(a,document.head);Jc(a,document.body)}else{c.forEach(function(E){"attributes"===E.type&&"id"===E.attributeName&&E.target.id&&(E.target.Vb=!0);"childList"===E.type&&(E.qc=[],E.sc=[])});for(r=0;r<
c.length;r++){Q=C(c[r]);var fa=T("parentElement",c[r].target);Q?(c.splice(r,1),r--):"characterData"===c[r].type&&fa&&k(fa)&&(a.l(c[r].target),a.l(fa),g(fa),c.splice(r,1),r--)}c.forEach(function(E){var z;if(z="childList"===E.type){a:{for(z=0;z<c.length;z++)if(c[z].target===E.target&&"replacedNode"===c[z].type){z=!0;break a}z=!1}z=!z}if(z){if(0<E.ea.length)for(z=0;z<c.length;z++)if("childList"===c[z].type&&c[z].target===E.target&&0<c[z].M.length){a.l(E.target);g(E.target);return}if(E.nextSibling&&3===
E.nextSibling.nodeType)Ub?(a.l(E.target),g(E.target)):(a.l(E.target),e(E.target));else for(z=0;z<E.M.length;z++)if(3===E.M[z].nodeType){a.l(E.target);e(E.target);break}}});for(r=0;r<c.length;r++)ec(U(c[r].target),document.documentElement)||(c.splice(r,1),r--);for(r=0;r<c.length;r++)if("childList"===c[r].type&&0!==c[r].ea.length)for(Q=0;Q<c[r].ea.length;Q++){fa=c[r].ea[Q];for(var ka=!1,Z=r+1;!ka&&Z<c.length;Z++)if("childList"===c[Z].type)for(var qa=0;qa<c[Z].M.length;qa++)if(fa===c[Z].M[qa]){c[r].qc.push(Q);
c[Z].sc.push(qa);ka=!0;break}}Array.prototype.push.apply(c,F);for(r=0;r<c.length;r++)if(Q=B(c[r]))c.splice(r,1),r--;for(r=0;r<c.length;r++)if(Q=n(c[r]))a.l(Q),c.splice(r,1),r--}}
function Lc(a,c){c.forEach(function(e){if("childList"===e.type)for(var g=0;g<e.M.length;g++)1===e.M[g].nodeType&&(e.M[g].Ba&&delete e.M[g].Rc,e.M[g].Ba&&(e.M[g].Rc=e.M[g].Ba,delete e.M[g].Ba,e.M[g].removeAttribute("data-gid")))});Kc(a,c);c.forEach(function(e){switch(e.type){case "attributes":Cc(a,e.target,e.attributeName);break;case "characterData":e=e.target;var g,k=e.parentNode;for(g=0;g<T("childNodes",k).length;g++)if(T("childNodes",k)[g]===e){var n=g;break}void 0===n?M("Node not found in _addContentDiffFromMutation"):
a.b(k)&&(ShadowRoot&&k instanceof ShadowRoot&&(k=k.host),a.a.push({diff:"CONTENT",path:a.l(k),data:e.textContent,node:n}),a.l(k),T("childNodes",k));break;case "childList":n=e.target;k=e.ea;var C=e.M,B=e.nextSibling;B&&1===B.nodeType&&(ec(U(B),document.documentElement)&&T("parentElement",B)===n?B.getAttribute("data-gid"):B=null);a.l(n);var F=a.l(n);if(null!==F){var r={diff:"CHILDLIST",path:F,nsib:B&&k?a.l(B):null,added:[],removed:[]};if(k)for(F=0;F<k.length;F++)if(!(0<=e.qc.indexOf(F))){var Q=T("parentNode",
k[F]);if(Q!==n)Q||(delete k[F].Ba,1===k[F].nodeType&&k[F].removeAttribute("data-gid"));else{if(1===k[F].nodeType){yc(a,k[F]);g=Hc(a,k[F]);if(!g)continue;k[F].getAttribute("data-gid")}else if(3===k[F].nodeType)g=a.b(n)?k[F].nodeValue:"";else if(8===k[F].nodeType)g=k[F].nodeValue;else continue;r.added.push({nodeType:k[F].nodeType,tagName:k[F].tagName,value:g})}}if(C)for(F=0;F<C.length;F++)if(!(0<=e.sc.indexOf(F))){switch(C[F].nodeType){case 1:g=C[F].Rc;if(!g)continue;break;case 3:g=C[F].nodeValue;break;
default:M("==> Ignoring remove node type "+C[F].nodeType)}r.removed.push({nodeType:C[F].nodeType,value:g})}if(0!==r.removed.length||0!==r.added.length)a.a.push(r),B&&8===B.nodeType&&Ic(a,n)}break;case "replacedNode":Jc(a,e.target);break;case "childOrder":Ic(a,e.target);break;default:M("Unrecognized mutation record type "+e.type)}})}function Mc(a,c){a.g=c}function Nc(a,c){a.j=c}function Oc(a,c){a.f=c}function Pc(a,c){a.b=c}function Bc(a){var c=a.a;a.a=[];return c}
function Qc(a,...c){!window.console||!window.console[a]||window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.disableLogging||(c=c.map(e=>{if("object"===typeof e)try{e=JSON.stringify(e)}catch(g){console.error(g),e="unable to convert object to string"}return"string"===typeof e?e.replace(/[\r\n]/g," ").replace("<","&lt;"):e}),window.console[a](...c))}function M(...a){Qc("log",...a)}function S(...a){Qc("error",...a)}function Rc(...a){M("XDOM:",...a)}function X(...a){M("VID:",...a)};function Sc(a,c){if(void 0!==a){var e=e||Object.keys(a);e.forEach(function(g){void 0!==a[g]&&(c[g]=a[g])})}}function Tc(a){var c={};if(!a)return c;var e=0;for(a=a.attributes;e<a.length;e++){var g=a[e].nodeName.match(/data-(.*)/);g&&2===g.length&&(c[g[1]]=a[e].nodeValue)}return c}function Uc(){var a=window.GLANCE_COBROWSE?window.GLANCE_COBROWSE:{},c=document.getElementById("glance-cobrowse"),e=Tc(document.getElementById("cobrowsescript"));c=Tc(c);Sc(e,a);Sc(c,a);return a};function Yc(a){return a.replace(/^blob:/,"blob-").replace(/^\/\//,"-").replace(/:\/\//,"-").replace(/^\//,"-/").replace(":443/","/")}function Zc(a){return!a||!a.match(/^(http:|https:|blob:http:|blob:https:){0,1}\/\//)&&0!==a.indexOf("/")?a:Yc(a)}var $c=/url\(['"]{0,1}(.*?)['"]{0,1}\)/;function ad(a){return a.replace($c,function(c,e){return"url('"+Zc(e)+"')"})}
function bd(a){return a.replace(/url\(['"]{0,1}(\/\/|\/|http:\/\/|https:\/\/)(.*?)['"]{0,1}\)/g,function(c,e,g){return"url('"+Yc(e+g)+"')"})}
function cd(a,c,e,g,k,n){function C(z){var V=z;window!==window.parent||window.location.pathname===Rb()||0<=z.indexOf("//")||0===z.indexOf("/")||(V=Z.l()+"/"+z);return V}function B(){}function F(){}function r(z,V,u){var J=new Ta;J.h=g;J.B=V;Ya(J,n+"?ssnid="+e+(k?"&frameid="+k:"")+"&url="+encodeURIComponent(a)+"&httpstatus="+u,z,!0,!1,B,F)}function Q(z){E.getResponseHeader("Content-Type");r(z,E.getResponseHeader("Content-Type"),200)}function fa(z,V,u){u=u||0;z&&0===ka?(ka++,E.u=2E3,E.get(C(a),!0,!1,
Q,fa)):r("","",u)}var ka=0,Z=new db(window);if(!(0<a.indexOf("glance-no-fetch"))){var qa=c?c.match(/text\/css/)?"TEXT":c.match(/image\//)?"IMAGE":"BINARY":"TEXT";var E=new Ta;Wa(E,qa);c&&(E.c=c);E.get(C(a),!0,!0,Q,fa)}};var dd=["5","8","2","1"].slice(0,3).join("."),ed=dd+"M";
function fd(){this.$=document.getElementById("cobrowsescript")||document.getElementById("glance-cobrowse");this.h=document.getElementById("glance-cobrowse");if(null!==this.$){var a=Uc();Sc(a,this);var c=/\/\/(.*)\//.exec("string"===typeof this.$.src?this.$.src:a.scriptserver+"/");this.b=c&&2===c.length?c[1]:"www.glancecdn.net/cobrowse";this.b=this.b.replace("/js","");a.cbexperiment&&(this.b=this.b.replace("cobrowse","cbexperiment"));this.a=a.groupid||this.$.getAttribute("groupid");this.sa=a.ws||this.$.getAttribute("ws")||
"www.glance.net";this.f=this.sa+"/cobrowse";this.K=!this.sa.match("\\.glance\\.net$");this.H=a.cookiedomain;this.T=a.ui;this.g=a.cookietype;this.c=a.site||this.$.getAttribute("site")||"production";JSON.parse(a.inputevents||"{}");if(!this.a)throw Error("data-groupid missing");a=a.additionalgroupids||"";this.j=[this.a].concat(a?a.split(","):[]);this.j=this.j.map(function(e){if(!parseInt(e))throw Error("data-groupid invalid: "+e);return parseInt(e)});if(!/staging|production/i.test(this.c))throw Error("data-site invalid");
}}function gd(a,...c){if(!a.u){let e=document.createElement("iframe");e.style.display="none";e.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(e);a.u=e.contentWindow}a=a.u.URL;return new (Function.bind.apply(a,[a,...c]))}function hd(a,c){return URL.toString().includes("[native code]")?(new URL(`https://${a.b}/${c}`)).href:gd(a,`https://${a.b}/${c}`).href}
function id(a,c){return URL.toString().includes("[native code]")?(new URL(`https://${a.sa}/${c}`)).href:gd(a,`https://${a.sa}/${c}`).href}function jd(a,c){c=parseInt(c);return a.a===c||0<=a.j.indexOf(c)}
function kd(a,c,e){function g(n,C,B){B.forEach(F=>{n[F]=C[F]||n[F]})}var k={};g(k,c,["video","content"]);g(k,a,["name","email","phone","video","content"]);k.sessionKey=k.sessionKey||a.visitorid||"GLANCE_KEYTYPE_RANDOM";"off"!==k.video&&!1===c.nwayvideoallowed&&(console.error("ERR_NO_NWAYVIDEO_SETTINGS"),k.video="off");Object.assign(k,e||{});return k}
async function ld(a){let c=e=>new Promise(g=>{if(document.querySelector(`script[src*=${e}]`))g();else{let k=document.createElement("script");k.addEventListener("load",g);k.setAttribute("type","text/javascript");k.setAttribute("src",`//${a.b}/js/${e}_${ed}M.js`);document.head.appendChild(k)}});await c("browserCap");return c("GlanceVideoSource")}
function md(a,c){function e(n,C,B){if(!document.getElementById(n)){var F=document.createElement("link"),r=document.getElementsByTagName("head")[0];F.id=n;F.type="text/css";F.rel="stylesheet";F.media="all";F.href=C;B=B||r.firstElementChild;r.insertBefore(F,B)}}function g(n){return new Promise(C=>{let B=document.getElementById(n);"1"===B.getAttribute("data-loaded")?C():(B.addEventListener("load",()=>{B.setAttribute("data-loaded","1");C()},{once:!0}),B.addEventListener("error",C,{once:!0}))})}a.B||e("glance_ss",
hd(a,"styles/Cobrowse_"+dd+".css"));if(a.B!==c){a.B=c;var k=document.getElementById("glance_customss");k&&k.parentElement.removeChild(k);e("glance_customss",hd(a,"customstyles/CustomSkin_"+c+"_"+a.c.substr(0,1).toUpperCase()+".css?gv=4&v="+a.custver),document.getElementById("glance_ss").nextElementSibling)}Promise.all([g("glance_ss"),g("glance_customss")]).then(()=>{})}function nd(a){switch(a.g){case "ls":var c=eb;break;case "dual":c=fb;break;default:c=bb}return new c("glance_ssn_info",a.H)}
function od(a){return["application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)||a.name.match(".csv")};function pd(a){this.g=a;qd(this,!0);this.c=new pa;this.a=new pa;this.f={x:-1,y:-1}}pd.prototype.stop=function(){qd(this,!1);this.a.clear();this.c.clear()};function qd(a,c){c=c?document.addEventListener:document.removeEventListener;a.b||(a.b=function(e){rd(a,e)});c.call(document,"mousedown",a.b);c.call(document,"mousemove",a.b);c.call(document,"keydown",a.b);c.call(document,"scroll",a.b,!0)}
function rd(a,c){if(void 0===a.c.na||!c.type.match(/^(scroll|mousedown)$/)){var e=new hb(c);if("mousemove"===c.type){if(32>Math.abs(a.f.x-e.a.x)&&32>Math.abs(a.f.y-e.a.y))return;a.f={x:e.a.x,y:e.a.y}}a.g.Dd(c)&&a.a.set(1500,function(){a.g.Cd()})}};function sd(a,c,e){this.g=[];this.b={};this.b["#document"]=new Set;this.a=[];this.c=[];this.h=[];this.f={};document.adoptedStyleSheets&&document.adoptedStyleSheets.forEach(n=>{n=td(this,"#document",n);this.b["#document"].add(n);this.a.push("#document")});this.F=a;this.j=e;this.s=c;var g=this,k=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){this.getAttribute("data-gid");var n=k.apply(this,arguments);this.getAttribute("data-gid")&&!this.getAttribute("data-sdid")&&this.setAttribute("data-sdid",
this.getAttribute("data-gid"));ud(g,this);return n}}function vd(a,c){if(c&&Object.keys(a.f).length!==a.h.length)for(var e of a.h)c={...e},c.sheet=tc(c.sheet),a.f[c.styleid]=c;if(0!==Object.keys(a.f).length)return e=a.f,a.f={},JSON.stringify(Object.keys(e)),e}function wd(a,c){for(var e=0;e<c.length;e++){Xb(U(c[e]))&&(ud(a,c[e]),wd(a,xc(c[e])));let g=T("children",c[e]);g&&wd(a,g)}}function xd(a,c){c=pb(c.shadowRoot);0<c.length&&a.j.Fd(c)}
function td(a,c,e){var g=a.h.find(k=>{if(k.sheet.cssRules.length!==e.cssRules.length)return!1;let n=Math.floor(e.cssRules.length/2);return k.sheet.cssRules[n]&&e.cssRules[n]?k.sheet.cssRules[n].cssText===e.cssRules[n].cssText:!1});if(g)return g.styleid;g=`${c}-${e.cssRules.length}-${ja(4)}`;c={tagname:c,styleid:g,sheet:e};a.h.push(c);c={...c};c.sheet=tc(e);a.f[g]=c;return g}
function ud(a,c){if(c.shadowRoot)if(c.getAttribute("data-gid")){0>a.a.indexOf(c)&&a.a.push(c);a.b[c.getAttribute("data-gid")]||(a.b[c.getAttribute("data-gid")]=new Set);var e=a.b[c.getAttribute("data-gid")],g=c.shadowRoot.adoptedStyleSheets;if(e&&g&&e.size<g.length)for(let k of g)g=td(a,c.tagName,k),e.add(g);0<=a.g.indexOf(c)||(a.g.push(c),(new MutationObserver(function(k){0>a.a.indexOf(c)&&a.a.push(c);k.forEach(function(n){if("childList"==n.type)for(var C=0;C<n.addedNodes.length;C++){var B=n.addedNodes[C];
1==B.nodeType&&(yc(a.F,B,c.getAttribute("data-gid")),Xb(U(B))&&(c.getAttribute("data-sdid"),ud(a,B)))}})})).observe(c.shadowRoot,{childList:!0,characterData:!0,attributes:!0,subtree:!0}),xd(a,c),c.shadowRoot.addEventListener("scroll",function(k){a.s.ec(k.target)},!0))}else-1===a.c.indexOf(c)&&a.c.push(c)}
function yd(a){if(0!==a.a.length){for(var c={},e=0;e<a.a.length;e++){if("#document"===a.a[e]&&a.b["#document"]){c["#document"]=Ea({styleids:Array.from(a.b["#document"].keys())});continue}if(!a.a[e].getAttribute("data-sdid"))continue;var g=a.a[e].getAttribute("data-sdid"),k=a.a[e].getAttribute("data-gid");let n=[];a.b[k]&&(n=Array.from(a.b[k].keys()));k=a.querySelectorAll("[data-gid='"+k+"']").length?a.querySelectorAll("[data-gid='"+k+"']")[0]:a.a[e];k=k.shadowRoot?k.shadowRoot.innerHTML:"";JSON.stringify(n);
c[g]=Ea({html:k,styleids:n})}a.a=[];return c}}sd.prototype.querySelectorAll=function(a){var c=[];this.g.forEach(function(e){Array.prototype.push.apply(c,Array.from(H(e.shadowRoot,"querySelectorAll",a)))});Array.prototype.push.apply(c,Array.from(H(document,"querySelectorAll",a)));return c};function zd(a){for(let c=a.c.length-1;0<=c;--c)a.c[c].offsetParent&&a.c[c].getAttribute("data-gid")&&(ud(a,a.c[c]),a.c.splice(c,1))}
function Ad(a){(document.adoptedStyleSheets?document.adoptedStyleSheets.length:0)!==a.h.filter(g=>"#document"===g.tagname).length&&(a.b["#document"]=new Set,document.adoptedStyleSheets.forEach(g=>{g=td(a,"#document",g);a.b["#document"].add(g)}),a.a.push("#document"));for(let g=a.g.length-1;0<=g;--g){var c=a.g[g];c.isConnected&&Xb(U(c))||a.g.splice(g,1);let k=c.getAttribute("data-gid");if(k&&c.shadowRoot.querySelectorAll("*:not([data-gid])").length){var e=c.shadowRoot.querySelectorAll("*:not([data-gid])");
for(let n=0;n<e.length;n++)wc(a.F,e[n],k)}e=(e=a.querySelectorAll("[data-gid='"+k+"']").length?a.querySelectorAll("[data-gid='"+k+"']")[0]:c)&&e.shadowRoot?e.shadowRoot.adoptedStyleSheets:null;if(a.b[k]&&e&&e.length!==a.b[k].size&&c.shadowRoot){c.getAttribute("data-gid");a.b[k]=new Set;e=c.shadowRoot.adoptedStyleSheets;for(let n of e)e=td(a,c.tagName,n),a.b[k].add(e);a.a.push(c)}zd(a)}};function Bd(a,c,e,g){this.I=a;this.L=c;this.f=e;this.c=g;this.h=!!g}function Cd(a){a.a&&a.J.remove();a.a=null}function Dd(a,c){a.url=c.url;a.data=c.data;Cd(a);Ed(a,"XLS",c,()=>{let e=g=>{new a.a.ha.XLSViewer({data:g,downloadURL:a.url,options:c.options})};a.url?Fd(a,a.url).then(g=>{e(g)}).catch(g=>{e({error:g})}):a.data&&e(a.data)})}
function Gd(a,c){Cd(a);Ed(a,"PDF",c,function(){var e=Object.assign(c,{mode:G.ie?"canvas":this.L.info.pdfmode||"canvas"}),g=this.J.contentWindow.GPDF;g.waitready.then(function(){g.View(e)})})}
function Ed(a,c,e,g){a.j=g;a.g=e.preview;a.c||(a.c=document.createElement("div"),document.body.appendChild(a.c));a.J=a.c.querySelector("#glance_"+c.toLowerCase()+"viewer");a.J||(a.J=document.createElement("iframe"),a.J.id="glance_"+c.toLowerCase()+"viewer",a.J.title="Glance "+c+" Viewer",a.c.appendChild(a.J));a.J.removeAttribute("data-agentinteractive");a.g&&(a.J.style.width="100%",a.J.style.height="99%");var k="PDF"===c?a.u:a.B;Hd(a,c,async n=>{a.J.contentDocument.documentElement.innerHTML=n;a.a=
new db(a.J.contentWindow);Ob(a.a,async()=>{if(e.showdl&&e.data&&a.L.info.docsharevisitordl&&"true"===e.download){let B=a.J.contentDocument.getElementById("glance_dl");var C=ob(e.data,e.showdl);B.href=window.URL.createObjectURL(C);B.download=e.name;B.style.display="inline-block";B.onclick=()=>{a.f.fireEvent("visitordownload",gb(e))}}e.agentselected&&"closedoc nextTab prevtab zoomselect zoomout zoomin floating-button-next floating-button-previous".split(" ").forEach(B=>{(B=a.J.contentDocument.getElementById(B))&&
B.setAttribute("data-agentinteractive","remote")});if(!a.g&&!a.h){a.f.fireEvent("documentviewed",gb(e));a.J.contentDocument.querySelector(".firstcontrol").addEventListener("keydown",function(B){"Tab"===B.key&&B.shiftKey&&B.preventDefault()});a.J.contentDocument.querySelector(".lastcontrol").addEventListener("keydown",function(B){"Tab"!==B.key||B.shiftKey||B.preventDefault()});if("large"===a.f.Ud()){window.GLANCE.Cobrowse.Visitor.smallVideo();let B=F=>{"docviewerclosed"===F.data&&(window.GLANCE.Cobrowse.Visitor.largeVideo(),
window.removeEventListener("message",B))};window.addEventListener("message",B)}window.addEventListener("message",B=>{"docviewerclosed"===B.data&&(Cd(a),a.h||a.f.N({docshare:{enabled:!1}}))})}a.h||await rb(a.a,{id:"glance-cobrowse","data-groupid":a.L.groupId(),"data-ws":a.I.sa,src:a.I.$.getAttribute("src")});k.bind(a)()})},a.b.bind(a))}
async function Fd(a,c){var e=await H(window,"fetch",c),g=await e.blob();return new Promise((k,n)=>{e.ok||n(e);var C=new FileReader;C.addEventListener("load",function(){k(C.result)},!1);C.onerror=()=>{n(a)};C.readAsBinaryString(g)})}function Hd(a,c,e,g){a=hd(a.I,"styles/"+c+"Viewer_"+dd+".html");c=new Ta;Wa(c,"HTML");c.get(a,!0,!1,function(k){e&&e(k)},g)}
Bd.prototype.B=async function(){if(this.g){var a=this.J.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("xlslink").style.display="none";a.getElementById("tabname").style.display="none";a.getElementById("the-page").classList+="glance_masked"}ub(this.a,"viewer-css").href=hd(this.I,"styles/XLSViewer_"+dd+".css");await rb(this.a,{src:hd(this.I,"js/xlsx.full.min.js"),type:"text/javascript"});await rb(this.a,{src:hd(this.I,"js/XLSViewer_"+ed+".js"),type:"text/javascript"});
this.j()};
Bd.prototype.u=async function(){if(this.g){var a=this.J.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("the-page").classList+="glance_masked"}ub(this.a,"viewer-css");ub(this.a,"viewer-css").href=hd(this.I,"styles/PDFViewer_"+dd+".css");await rb(this.a,{src:hd(this.I,"js/jquery-3.6.0.min.js"),type:"text/javascript"});await rb(this.a,{src:hd(this.I,"js/pdfjs2.16/pdf.js"),type:"text/javascript"});await rb(this.a,{src:hd(this.I,"js/pdfjs2.16/pdf.worker.js"),type:"text/javascript"});
await rb(this.a,{src:hd(this.I,"js/PDFViewer_"+ed+".js"),type:"text/javascript"});this.j()};Bd.prototype.b=function(){};window.GLANCE.DocumentViewer=Bd;async function Id(a,c,e){X("_startOrResume",c);if(!Jd(a)&&(a.state=Kd,c.previewelementid=c.previewelementid||"glance_videopreview",c.visitorvideoelementid=c.visitorvideoelementid||"glance_video_0",c.video=c.video||"small",a.a=c,a.f.Z(),a.h=document.getElementById(c.previewelementid),Ld(a),"notsupported"!==c.camerastatus))if(c.error)X("Start or resume video session with error:",c.error),a.c.fireEvent("visitorvideoerror",{error:c.error});else{await ld(a.L.I);var g={maincid:a.L.m.callId,sessionkey:`${a.L.key().substring(0,
50)}V${Math.floor(ja(6))}`,mime:'video/webm; codecs="avc1.42E01E"',vserver:`https://${a.L.info.vserver}/`,isAnonymous:!0,bgType:c.videobgtype,bgFilterEnabled:"none"!==c.videobgtype,conntype:"visitor",guestid:0,groupid:a.L.groupId()};Object.assign(g,Md(a,g.bgFilterEnabled?"dynamic":c.video));X("Initializing visitor video with options",JSON.stringify(g));a.b=e||new window.GLANCE.Video.GlanceVideoSource(g);e&&(e.removeAllEventListeners(),e.setOptions(g));a.b.addEventListener("error",(k,n)=>{X(`Video error '${k}'`,
n);a.c.V("ABNORMAL",`Visitor video error '${k}'`);delete a.a.sessionkey;a.a.error=k;a.f.Z();a.c.fireEvent("visitorvideoerror",{error:k})});a.b.addEventListener("sessionStarted",k=>{X("Video session started, relay:",k);a.c.fireEvent("visitorvideostarted",{width:k.descriptor.videowidth,height:k.descriptor.videoheight});a.state=Nd;c.paused&&a.c.fireEvent("visitorvideopaused",{});a.f.Z();a.a.sessionkey=k.descriptor.passcode;a.a.descriptor=JSON.stringify(k.descriptor);if(a.g){k=k.descriptor.url;var n=
c.visitorvideoelementid;document.getElementById(n).setAttribute("data-src",ha(k));a.c.Gd({ssnid:k,joinurl:ha(k),type:"forward",params:{type:"forward"},view:n})}a.b.setAccepterCount(a.j)});a.b.addEventListener("bgFilterPerformanceFail",()=>{a.c.V("ABNORMAL","Visitor video background filter performance failure");a.c.fireEvent("videobgfilterfailed",{failuremode:a.L.info.videobgfilterfailmode,performancefail:!0});switch(a.L.info.videobgfilterfailmode){case "abortvideo":Od(a);a.a.camerastatus="aborted";
a.f.Z();break;case "abortbgfilter":Pd(a),a.a.videobgtype="none",Ld(a),Qd(a,!1)}});a.b.addEventListener("profileUpdated",k=>{X("profileUpdated:",k.descriptor);a.a.descriptor=JSON.stringify(k.descriptor);a.f.Z()});a.b.addEventListener("sessionEnded",(k,n)=>{X("Video session ended, reason:",n?n.reason:"",k);a.state===Rd?X("Ignoring sessionEnded event from blurred connection"):(delete a.a.sessionkey,delete a.b,n&&"Session timed out"===n.reason?(a.c.V("ABNORMAL",`Visitor video ended:'${n.reason}'`),a.a.error=
n.reason,a.c.fireEvent("visitorvideoerror",{error:n.reason})):a.c.fireEvent("visitorvideostopped",{}),a.state=Sd,a.f.Z())});a.a.videosource&&"available"===a.a.camerastatus&&(e?a.b.startPreview(a.h,c.paused):await a.b.initialize(a.a.videosource,a.h,c.paused),a.a&&a.a.error||(a.g||!a.a.descriptor?a.b.startSession(c.paused,c.videobgfilter):(a.b.setBgFilterActive(c.videobgfilter),a.b.resumeSession(a.a.descriptor))))}}
function Td(a,c,e){X("Start visitor video",c);X("Reusing existing source:",!!e,"with stream:",e&&!!e.stream);a.c.V("INTERESTING","Visitor video start");a.g=!0;Id(a,c,e)}function Ud(a,c){X("Continue visitor video",c);a.g=!1;Id(a,c)}function Ld(a){a.u.S.ma("visitorvideo",{video:a.a.video,camerastatus:a.a.error?"error":a.a.camerastatus,videobgfilter:a.a.videobgfilter,videobgtype:a.a.videobgtype})}
function Md(a,c){a=a.L.info.videooptions[c];try{return JSON.parse(a)}catch(e){return S("ERR_BADVIDOPTIONS"),{}}}function Vd(a,c){a.a&&a.a.video!==c&&(a.b&&(X("Updating visitor video options",Md(a,c)),a.b.updateVideoOptions(Md(a,c))),a.c.V("INTERESTING",`Resizing video:${c}`),a.a.video=c,Ld(a))}function Wd(a){Vd(a,"small"===a.a.video?"large":"small")}function Jd(a){return a.state>Rd&&a.state<Sd}
function Od(a){a.b&&(X("Ending visitor video"),document.getElementById(a.a.visitorvideoelementid).removeAttribute("data-src"),a.c.V("INTERESTING","Visitor video ending"),a.b.endSession(),a.state=Sd,delete a.b)}function Pd(a){a.c.V("INTERESTING","Visitor video pause");a.b.pause();window.setTimeout(()=>{a.c.fireEvent("visitorvideopaused",{})},300);a.a.paused=!0;a.f.Z()}
function Qd(a,c){a.c.V("INTERESTING","Visitor video background filter active:");a.b.setBgFilterActive(c);a.a.videobgfilter=c;a.f.Z()}function Xd(a){a.c.V("INTERESTING","Visitor video unpause");a.b.unPause();window.setTimeout(()=>{a.c.fireEvent("visitorvideoresumed",{})},500);a.a.paused=!1;a.f.Z()}class Yd{constructor(a,c,e,g){this.c=a;this.L=c;this.u=e;this.f=g;this.state=Rd}getState(){if(this.a)return this.a}blur(){delete this.a;delete this.b;this.state=Rd}}var Rd=0,Kd=1,Nd=2,Sd=3;function Zd(a,c){this.c=nd(a);this.I=a;this.a=c}
function $d(a,c,e){Rc("crossDomain",c,e);a.g=c;a.b="_blank"===e;a.n=-1;if(!ae(a))return Rc("All domains cookied"),c&&(a.b?window.open(c):window.location.href=c),Promise.resolve();a.f||(a.f=Na(function(g,k){Rc("initiator got:",k.type,k);switch(k.type){case 1:be(a);g=ce(a);k={type:2};k.cookieinfo=a.c.pa();k.nexthelper=ae(a)?ce(a):"";k.desturl=a.b?a.g:"";Rc("Posting cookie info to helper",g,k);Ma(a.w,"glance_xdomain",k,g);k.nexthelper&&de(a,k.nexthelper);break;case 3:be(a),ee(a)}},a.a));e=ce(a);a.w=
window.open(e,"",a.b?"":"location=0, status=0, titlebar=0, menubar=0, width=5, height=5");Rc("opened",e);de(a,e);return new Promise(function(g,k){c&&!Oa(c,a.a)?k("ERR_XDOMURL_NOT_ALLOWED "+c):(a.h=g,a.j=k)})}Zd.prototype.done=function(){this.f&&La("message",this.f);delete this.f};function ce(a){return Sa(a.a[a.n].helper,"GlanceSession=1"+`&groupid=${a.I.a}&data-site=${a.I.c}`)}
function de(a,c){Rc("setting timeout to hear from ",c);a.timeout=setTimeout(e=>{S("no ready_to_continue recieved from "+e);ae(a)?(Rc("navigating helper window to ",ce(a)),a.w.location.replace(ce(a)),de(a,ce(a))):(Rc("that was the last domain, finishing"),ee(a))},4E3,c);Rc("timeout number:",a.timeout)}function be(a){a.timeout&&(Rc("clearing timeout because we got ready_to_continue:",a.timeout),clearTimeout(a.timeout))}
function ee(a){Rc("setCrossDomainDone");var c=a.c.pa();c.xdomdone||(c.xdomdone=!0,a.c.Wa(c,"secure"===a.I.g));!a.b&&a.g&&(window.location.href=a.g);a.b||a.w.close();a.done();a.h()}function ae(a){for(;++a.n<a.a.length;)if(!(a.a[a.n].thirdparty||a.I.sa.includes(a.a[a.n].domain)||window.location.host.endsWith(a.a[a.n].domain)))return!0;return!1}function fe(a){a=a.c.pa();if(!a)throw Error("ERR_XDOM_BADCOOKIE");return a.xdomdone};/*
 browser["firefox"] && */
window.GLANCE=window.GLANCE||{};window.GLANCE.Cobrowse=window.GLANCE.Cobrowse||{};window.GLANCE.Cobrowse.Visitor=window.GLANCE.Cobrowse.Visitor||{};var Y=window.GLANCE.Cobrowse.Visitor;
(function(){function a(b){this.I=b;var d=nd(K);this.H=O?function(){}:function(){this.h();d.Wa(this.m,"secure"===K.g)};this.g=function(){O||(this.m=d.pa());return this.m&&this.h()?!0:!1};this.h=function(){return this.m&&jd(K,this.groupId())};this.Oa=function(f){this.m=f};this.Sa=function(f){this.info=f};this.da=O?function(){}:function(){na.setItem("glance_cobrowse_session",sa(this.info))};this.Na=function(f){this.b={...f};na.setItem("glance_cobrowse_agentinfo",sa({agents:this.b,ssnid:this.a()}))};
this.wa=function(){if(this.b)return this.b;let f=JSON.parse(na.getItem("glance_cobrowse_agentinfo"));return f?f.ssnid!==this.a()?(na.removeItem("glance_cobrowse_agentinfo"),null):this.b=f.agents:null};this.ua=function(f){if(!this.b)return!0;f=f.agentlist;let h=this.b.agentlist;if(f.length!==h.length)return!0;for(let m=0;m<f.length;m++)if(f[m].guestid!==h[m].guestid)return!0;return!1};this.clear=function(){delete this.info;delete this.b;!O&&this.h()&&(na.removeItem("glance_cobrowse_agentinfo"),null!==
na.getItem("glance_cobrowse_session")&&na.removeItem("glance_cobrowse_session"),delete this.m,d.Ta())};this.a=function(){return this.m.ssnid};this.u=function(){return this.m.tok};this.groupId=function(){return this.m?this.m.ssnid.split(".")[0]:null};this.ca=!1;this.Ra=function(f){this.ca=f};this.ga=!1;this.Qa=function(f){this.ga=f};this.key=function(){return this.m?this.m.sessionKey:null};this.Ib=function(){return this.m.Ib};this.B=function(f){var h="443"!==this.info.port?":"+this.info.port:"";if(!K.K&&
L(K.sa)!==L(this.m.server))throw Error("INVALID_CSERVER:"+this.m.server);return"https://"+this.m.server+h+"/visitor/"+f};this.Pa=function(f,h){O||(this.m[f]=h,this.H())};this.T=function(f){return this.m[f]};this.Ma=function(){this.fa=this.m.fa};this.ia=function(){this.f(!0)||(this.m.fa=d.pa().fa+1,this.H(),this.fa=this.m.fa)};this.oa=function(){O||(this.fa=0)};this.va=function(){N.A("blur");J.f();l&&(l.v.blur(),l.tc());Y.readyState=0};this.f=function(f){return(f||this.g())&&this.m?this.fa===this.m.fa:
!1};this.start=function(f,h,m){var t=f&&f.groupid||K.a;"secure"===K.g&&"https:"!==window.location.protocol?(M("ERR_SECURECOOKIE"),m("Unable to start a session on an insecure page.")):this.K(t).then(()=>{w.a=kd(K,this.info,f)}).then(()=>this.ya(t)).then(p=>this.xa(p.coloSelectUrl)).then(p=>this.La(t,p)).then(h,function(p){p=p||"";if("string"==typeof p)m(`Unable to start a session at ${K.sa} (${p})`);else{switch(p.status){case 13:var y="dupkey"}m(p.message,y)}})};this.ya=function(f){return new Promise((h,
m)=>{var t=new Ta("JSON"),p=id(K,"services/authorizationservice/GetVisitorSettings3");p=Xa(p,{groupid:f,site:K.c,service:"cobrowse"});t.get(p,!0,!1,h,function(y,x){m(`visitor settings ${x}`)})})};this.xa=function(f){return new Promise((h,m)=>{f="https://"+f;(new Ta("JSON")).get(f,!0,!1,function(t){t.colo_id?h(t.colo_id):(M("ERR_COLOID"),m("colo select no colo id"))},function(t,p){m(`colo select ${p}`)})})};this.La=function(f,h){return new Promise((m,t)=>{var p=w.a.sessionKey||K.visitorid||ca.ub;jd(K,
f)||t({message:"Invalid group id "+f});var y=new Ta("JSON"),x=this,I=G.za.name;0>["win","ios","mac","android"].indexOf(I)&&(I="win");var R=id(K,"services/SessionProvisioning/StartSession2");Ya(y,R,{authToken:"",sessionType:4,groupid:f,mainCallId:0,callflags:"staging"===K.c?524288:0,clientVersion:da,coloId:h,disambiguateId:Math.floor(2147483647*Math.random()),platform:I,sessionKey:p,name:w.a.name,email:w.a.email,phone:w.a.phone},!0,!1,function(W){W||(M("ERR_NOSESSIONINFO"),t());W.callId?(x.info.ssnid=
W.sessionId,x.da(),x.m={ssnid:W.sessionId,tok:la(),fa:1,Ib:p!=ca.ub,server:W.serverName,ver:"5.8.2.1",startparams:{video:x.info.video}},Ga(W,x.m,["sessionKey","callId"]),x.H(),x.fa=1,m()):t(W)},()=>{t()})})};this.K=function(f){return new Promise((h,m)=>{var t=id(K,"services/CobrowseSettings/GetVisitorSettings");(new Ta("JSON")).get(Xa(t,{groupid:f,site:K.c,ver:"5.8.2.1"}),!0,!1,p=>{this.info=p;this.da();h()},function(p,y){m(`cobrowse visitor settings ${y}`)})})};this.load=function(f,h){if(void 0!==
this.info)f();else{var m=na.getItem("glance_cobrowse_session");null!==m&&(m=JSON.parse(m),m.ssnid!==this.m.ssnid&&(m=null,na.removeItem("glance_cobrowse_session")));null!==m?(this.info=m,f()):this.K(this.groupId()).then(f).catch(h)}};this.j=function(f){f&&l&&(l.pc=!1);this.c=f};this.Hb=function(){return this.info.agenthttp?"//":"https://"};this.g()||this.clear();this.c=!0;this.fa=0}function c(){c.self=this;this.bb(!0)}function e(b){this.aa=b}function g(b,d,f,h){b.push("input[type='password']");b.push("input[type='hidden']");
let m=[];this.a=[];var t=this;b.forEach(function(p){var y=[],x=p.match(/(.*?)@@\[(.*)\]$/);x&&3===x.length&&(p=x[1],y=x[2].replace(/\s+/g,"").split(","));m.push(p);t.a.push(y)});h.push(".glance_controllable");this.Ca=new e(m);this.hb=new e(d);this.Tc=new e(h);this.b=f}function k(b){this.cb=b}function n(){}function C(){}function B(){}function F(){}function r(b){this.g=b;this.f=!1;this.O={};this.Db=[];this.gb=!0}function Q(b,d){this.a=b;this.f=d}function fa(){this.Lb={}}function ka(){this.bb(!0)}function Z(b){this.Yc=
b}function qa(){var b=A.o.createElement("div");b.id="glance_agent_cursor2";b.setAttribute("glance_cobrowse_suppress",1);q.info.relcoords&&(b.style.position="absolute");A.o.body.appendChild(b);var d=U(b);d.ab=!1;d.moveTo=function(f,h){var m=d.W(),t=q.info.relcoords?tb(A):A.W();f={x:Math.min(f,t.x-m.width),y:Math.min(h,t.y-m.height)};q.info.relcoords&&(h=oa(),f={x:f.x-h.x,y:f.y-h.y});Sb.prototype.moveTo.call(d,f.x,f.y)};return d}function E(){return{ab:!1,Va:function(b){w.b(window.top,{jb:b})},Ec:function(b,
d){w.b(window.parent,{jb:{moveTo:{x:b,y:d},G:q.G}})},remove:function(){},show:function(b){this.ab&&this.Va({Wc:{show:b}})},moveTo:function(b,d){this.Ec(b,d)}}}function z(){function b(){l.P&&l.C&&l.C.Xa(l.P)}var d=A.o.createElement("div");d.id="glance_gesture";d.setAttribute("glance_cobrowse_suppress",1);d.className="glance_no_pointer_events";A.o.body.appendChild(d);d=U(d);Ka("scroll",b);d.Xa=function(f){var h=Gb(f,!0);f=f.W();h.width=f.width;h.height=f.height;this.cc(h)};d.Ya=function(){ic(this,function(f){return.6>
f?100:100-(f-.6)/.4*100},function(){l&&l.P&&delete l.P})};d.cc=function(f){var h=oa();hc(this,f.x-6-h.x,f.y-6-h.y);fc(this,f.width,f.height);Vb(this,"elem_gest")};d.Ia=function(){this.Aa();this.ra(0);l.P&&delete l.P};d.Qc=function(){La("scroll",b);this.remove()};return d}function V(){Ka("scroll",function(){l&&l.P&&l.C.Xa(l.P)});return{Xa:function(b){b=b.element.getBoundingClientRect();var d=A.W(),f=Math.max(b.left,0),h=Math.max(b.top,0);b={x:f,y:h,width:Math.min(b.left+b.width,d.x)-f,height:Math.min(b.top+
b.height,d.y)-h};0>=b.width||0>=b.height?this.Ia():this.Dc(b)},Dc:function(b){JSON.stringify({lb:{rect:{x:b.x,y:b.y,width:b.width,height:b.height},G:q.G}});w.b(window.parent,{lb:{rect:{x:b.x,y:b.y,width:b.width,height:b.height},G:q.G}})},Va:function(b){w.b(window.top,{lb:b})},Aa:function(){this.Va({Aa:!0})},Ya:function(){this.Va({Ya:!0})},ra:function(b){this.Va({ra:{opacity:b}})},Ia:function(){l.P&&delete l.P;this.Va({Ia:!0})},Qc:function(){}}}function u(b){if(!jd(K,q.groupId()))throw Error("BAD_GROUP_ID "+
q.groupId()+" not in tag");O||"custom"!==K.T||md(K,q.groupId());var d=this;this.j={};Ka("error",u.a);vb(A);wb(A);this.nc=new ka;this.Fa=new Zd(K,q.info.trusteddomains);this.v=new Yd(w,q,this,r);this.g=new ge(this,q,N);this.tc();q.info.cleancontext&&(Tb=!0);q.info.usechildorder&&(Ub=!0);this.F=new uc;Mc(this.F,function(f,h){d.D.Md(f);return h?d.fc(f,h):!0});Nc(this.F,function(f){return d.yb(f)});Oc(this.F,function(f,h){return d.md(f,h)});Pc(this.F,function(f){return!d.b.la(f)});this.F.h=q.info.nogids;
(this.u=(this.u=0<q.info.urlwhitelist.length&&!mb(q.info.urlwhitelist))||mb(q.info.urlblacklist))&&document.body.classList.add("glance_masked");this.Pb(b);this.Pd();this.La();this.Qd();this.vb=new c;this.Zc=q.info.hoverables?new Q(q.info.hoverables,"_hover"):null;this.s=new r(this);this.h=!1;$b.firefox&&(this.wa=new k(new n));this.ua=new k(new F);this.Ea=new k(new C);this.Ka=new sd(this.F,this.s,this.vb);this.ta=new Bd(K,q,w);q.info.pdflinks&&Hd(this.ta,"PDF");if(q.info.inputpoller||window.frameElement&&
"glance_pdfviewer"===window.frameElement.id)this.va=new k(new B);this.T=new pd(this);this.D={values:{},Kb:{},ka:function(f,h){if(h===this.values[f])return!1;this.values[f]=h;return!0},Wd:function(f,h){this.qe=!0;return this.ka("input-"+f,h)},Vc:function(f){this.Kb[f]=!0},kc:function(f){return this.Kb[f]},$b:function(f){delete this.values[f]},Ld:function(){for(var f in this.values)f.match(/^input-/)&&delete this.values[f]},Md:function(f){function h(t,p){t=H(t,"getElementsByTagName",p);for(p=0;p<t.length;p++)m.$b("input-"+
U(t[p]).l())}if(this.qe){var m=this;h(f,"input");h(f,"textarea");h(f,"select")}},clear:function(){this.values={};this.Kb={};delete this.De},pe:new Ia};this.C=O?V():z();this.c=O?E():qa();q.ca&&this.B(!0);q.ga&&this.Na(!0)}function J(b){this.a=b;this.X=ub(A,b);J.a[b]=this}function P(){this.T=function(){};this.state=1;this.ga=!1;var b=this;Pa(function(){b.wa()});Qa(function(){zb(A)||b.Ha()});Ab(A,function(){l&&zb(A)?q.oa():b.Ha()});Ka("focus",function(){b.Ha();return!0})}function je(b){var d=b.data;
if(d.glance_invoke){var f=d.glance_invoke;ac.get(f.groupid,function(h){var m=L(b.origin)===cb(A)&&d.origin?d.origin:b.origin;if(L(m)!==cb(A)&&!Oa(m,h.chatDomains))throw Error("UNTRUSTED_INVOKE group: "+f.groupid+" origin: "+m);if(!jd(K,f.groupid))throw Error("INVOKE_WRONG_GRP:"+f.groupid);if(f.args&&f.args.groupid&&f.args.groupid!=f.groupid)throw Error("INVOKE_GRP_ARG_CONFLICT");f.groupid!=K.a&&(f.args=f.args||{},f.args.groupid=f.groupid);Y[f.func](f.args)})}else null===lb(K.f)?M("ERR_WEBSERVER "+
K.f):function(h,m){if(/^about|javascript:/.test(h))return m(!0);var t=L(lb(K.f)),p=cb(A),y=L(h);if(y===t||y===p)return m(!0);ac.get(K.a,function(x){m(Oa(h,x.trustedDomains))})}(b.origin,function(h){if(h)return w.va(d,b.source);d.glance_iframe&&S("ERR_UNTRUSTED_GLANCE_IFRAME "+b.origin)})}var $b=G;if($b.ie8||$b.ie7)return null;var na=localStorage,A=new db(window),ke=window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.toplevel,O=window!==window.parent&&!ke,Vc=!1,l=null,w=null,ac=null,q,K=null,N=null,le=
new Ia,bc=new pc,ra=window.GLANCE&&window.GLANCE.Cobrowse&&window.GLANCE.Cobrowse.Loader;N=new rc;N.A=function(b,d){rc.prototype.A.call(this,b,d);if(!O&&0<=["sessionstart","sessionend","error"].indexOf(b)){var f=window.GLANCE&&window.GLANCE.Presence&&window.GLANCE.Presence.Visitor&&window.GLANCE.Presence.Visitor.instance;f&&f.fire("visitor"+b,d)}};c.prototype.Td=function(){this.qa=pb(document.documentElement).concat(this.Mb)};c.prototype.Fd=function(b){this.Mb=this.Mb?this.Mb.concat(b):b;if(this.qa)for(var d=
0;d<b.length;d++)0>this.qa.indexOf(b[d])&&this.qa.push(b[d]);else this.qa=b};c.prototype.Ja=function(b){this.qa&&b.target&&0>this.qa.indexOf(b.target)&&this.qa.push(b.target)};c.Ja=function(b){b.target!==document&&"true"!==b.target.getAttribute("data-independentscroll")&&(c.self.Ja(b),r.Ja(b),l.Ja(b))};c.prototype.bb=function(b){(b?Zb("addEventListener",document):Zb("removeEventListener",document)).call(document,"scroll",c.Ja,!0)};c.prototype.Sd=function(b){this.ne&&(b="all",this.ne=!1);if(!l.D.kc("es"))this.Td(),
b=this.qa,l.D.Vc("es");else if("all"===b)b=this.qa;else if(!b||0==b.length)return;for(var d=[],f=0;f<b.length;f++)b[f]&&d.push({path:U(b[f]).l(),y:b[f].scrollTop,x:b[f].scrollLeft});JSON.stringify(d);return 0<d.length?d:void 0};e.prototype.uc=function(){return 0===this.aa.length};e.prototype.b=function(b){var d=[];b=U(b);for(var f=0;f<this.aa.length;f++)b.matches(this.aa[f])&&d.push(f);return 0<d.length?d:null};e.prototype.c=function(b){var d=U(b);if(!this.a){this.a={};for(var f=0;f<this.aa.length;f++)this.a[f]=
H(document,"querySelectorAll",this.aa[f])}for(f=0;f<this.aa.length;f++){b=this.a[f];for(var h=0;h<b.length;h++){var m=b[h];if((m=Xb(U(m))?T("childNodes",T("shadowRoot",m)):T("childNodes",m))&&0!==m.length&&ec(d,b[h]))return!0}}return!1};g.prototype.Kd=function(){delete this.Ca.a;delete this.hb.a};g.prototype.Ac=function(b){var d="",f;for(f=0;f<b;f++)d+="*";return d};g.prototype.la=function(b){var d=U(b);if(gc(d)||ec(d,document.head))return!1;if("string"===typeof b.type&&b.type.match(/^hidden$/i))return[];
if(this.b)return(b=ub(A,"glance_cobrowse_btn"))&&ec(d,b)?null:[];if("undefined"!==typeof ShadowRoot&&b instanceof ShadowRoot)return this.la(b.host);d=this.Ca.b(b);return null!==d?d:this.Ca.c(b)||b&&b.getRootNode&&b.getRootNode()&&b.getRootNode().host&&this.la(b.getRootNode().host)?[]:this.hb.uc()?null:this.Jb(b,!1)?null:[]};g.prototype.Jb=function(b,d){return b.hasAttribute("id")&&"glance_cobrowse_btn"===b.getAttribute("id")||this.hb.b(b)?!0:d?!1:this.hb.c(b)};g.a="value checked src href title alt data".split(" ");
g.prototype.vc=function(b,d){if(!b.parentNode&&/^body$/i.test(b.tagName))return!1;b=this.la(b);if(null===b)return!1;if(0<=g.a.indexOf(d))return!0;for(var f=0;f<b.length;f++)if(0<=this.a[b[f]].indexOf(d))return!0;return!1};g.prototype.oe=function(b,d){g.a.forEach(function(h){b.getAttribute(h)&&b.removeAttribute(h)});var f=this;d.forEach(function(h){f.a[h].forEach(function(m){b.getAttribute(m)&&b.removeAttribute(m)})})};g.prototype.ce=function(){function b(p,y){var x=document.createElement(p.tagName),
I=U(p).l();h.vc(p,"style")||(x.style.cssText=p.style.cssText);var R=U(p).W();if(l.D.ka(I+"-w",R.width)||l.D.ka(I+"-h",R.height))for(x.style.width=R.width+"px",x.style.height=R.height+"px",y.push({diff:"SETATTR",path:I,attr:"style",value:x.getAttribute("style")}),x=0;p.children&&x<p.children.length;x++)h.Jb(p.children[x],!0)||b(p.children[x],y)}for(var d=[],f,h=this,m=0;m<this.Ca.aa.length;m++){f=H(document,"querySelectorAll",this.Ca.aa[m]);for(var t=0;t<f.length;t++)f[t].tagName.match(/^(input|select|option|textarea)$/i)||
b(f[t],d)}return d};k.prototype.start=function(b){this.stop();this.cb.mb();var d=this;b&&this.cb.Ua();this.interval=H(window,"setInterval",function(){l&&d.cb.Ua()},3E3)};k.prototype.stop=function(){H(window,"clearInterval",this.interval)};k.prototype.now=function(b){this.cb.Ua(b)};n.prototype.mb=function(){this.b()};n.prototype.Ua=function(){for(var b={},d=H(document.head,"getElementsByTagName","link"),f=0;f<d.length;f++)d[f].disabled&&(b[d[f].getAttribute("data-gid")]=!0),d[f].disabled!==!!this.a[d[f].getAttribute("data-gid")]&&
r.f(Ac(l.F,d[f]));this.a=b};n.prototype.b=function(){this.a={};for(var b=H(document.head,"getElementsByTagName","link"),d=0;d<b.length;d++)b[d].disabled&&(this.a[b[d].getAttribute("data-gid")]=!0)};C.prototype.mb=function(){};C.a=function(b){var d=document.createElement("canvas");d.width=b.width;d.height=b.height;b=d.getContext("2d");b.fillStyle="#999999";b.fillRect(0,0,d.width,d.height);return d.toDataURL("image/png")};C.prototype.Ua=function(b){this.a=this.a||{};var d=[];Array.prototype.push.apply(d,
document.getElementsByTagName("canvas"));Array.prototype.push.apply(d,l.Ka.querySelectorAll("canvas"));for(var f=0;f<d.length;f++)try{var h=d[f],m=h.getAttribute("data-gcid");if(m&&!(b&&b.gcids&&0>b.gcids.indexOf(m))){if(l.b.la(h))if(l.D.values["canvas-"+m])continue;else var t=C.a(h);else t=h.toDataURL("image/png");l.D.ka("canvas-"+m,t)&&(this.a[m]={data:t})}}catch(p){S("Exception in canvas check:"+p.toString())}0<Object.keys(this.a).length&&l.s.R("canvas")};C.prototype.Rd=function(){if(0!==Object.keys(this.a).length&&
!l.f){Object.keys(this.a);var b=this.a;this.a={};return b}};B.prototype.mb=function(){};B.prototype.Ua=function(){r.a()};F.prototype.b=function(){this.a=[];for(var b=document.styleSheets,d=0;d<b.length;d++)b[d].ownerNode&&"STYLE"===b[d].ownerNode.tagName&&b[d].ownerNode.getAttribute("data-gid")&&this.a.push(b[d]);return 0<this.a.length};F.prototype.mb=function(){};F.prototype.Ua=function(){if(this.b()&&l){Ad(l.Ka);for(var b,d=0;d<this.a.length;d++)b=l.ic(this.a[d]),null!==b&&l.D.ka("ss-"+d,b)&&Ec(l.F,
this.a[d].ownerNode,b);b=Bc(l.F);0<b.length&&r.f(b)}};r.prototype.start=function(){this.f=!0;H(document,"addEventListener","mousemove",r.c);H(document,"addEventListener","keydown",r.h);H(document,"addEventListener","mousedown",r.a);H(document,"addEventListener","mouseup",r.a);H(document,"addEventListener","paste",r.a);H(document,"addEventListener","cut",r.a);H(window,"addEventListener","scroll",r.g);H(window,"addEventListener","resize",r.j);Ja.nb=new (Tb?D:window).MutationObserver(r.u);Ja.nb.observe(document,
{childList:!0,characterData:!0,attributes:!0,subtree:!0})};r.prototype.clearTimeout=function(){this.timeout&&(H(window,"clearTimeout",this.timeout),delete this.timeout)};r.prototype.c=function(b){this.clearTimeout();this.gb=this.ba=!0;this.a(void 0!==b?b:0)};r.prototype.a=function(b){var d=this;this.timeout||(this.timeout=H(window,"setTimeout",function(){d.b()},b))};r.j=function(){l.s.R("resize")};r.a=function(){l.s.R("inputs");l.s.gb=!0};r.c=function(){l.s.R("mouse")};r.B=function(){l.s.R("ssnmsg")};
r.Z=function(){l&&l.s.R("callstate",!0)};r.Ja=function(b){l.s.ec(b.target)};r.g=function(){l.s.R("scroll")};r.h=function(b){b.target&&b.target.tagName.match(/^(input|select|textarea)$/i)?l.s.Db.push(b.target):l.s.gb=!0;l.s.R("inputs")};r.b={};r.N=function(b,d){r.b[b]=d;l.s.R("callstate",!0)};r.prototype.h=function(){var b=[];if(this.gb){var d=H(document,"querySelectorAll","input,select,textarea");Array.from?b=Array.from(d).concat(Array.from(l.Ka.querySelectorAll("input,select,textarea"))):b=d}else b=
this.Db;this.Db=[];this.gb=!1;return b};r.f=function(b){l.s.R("dom");l.s.O.U=(l.s.O.U||[]).concat(b)};r.u=function(b){null!==l&&!l.s.ba&&0<l.s.ke(b)&&l.s.R("dom")};r.prototype.ec=function(b){this.R("elemscroll");this.O.qb||(this.O.qb=[]);for(var d=this.O.qb,f=0;f<d.length&&d[f]!==b;f++);f===d.length&&this.O.qb.push(b)};r.prototype.ke=function(b){var d=0;this.O.eb||(this.O.eb=[],this.O.eb.Bc={});for(var f=0;f<b.length;f++){var h=b[f].target;if(!(1===h.nodeType&&"script"==h.tagName.toLowerCase()||1===
h.nodeType&&h.getAttribute("glance_cobrowse_suppress"))){this.O.eb.Bc[b[f].type]=!0;"childList"===b[f].type&&(b[f].ea=b[f].addedNodes,b[f].M=b[f].removedNodes);if(h===document.documentElement){if(O&&"childList"==b[f].type){let m=!0;b[f].ea.forEach(t=>{["head","body"].includes(t.nodeName.toLowerCase())||(m=!1)});b[f].M.forEach(t=>{["head","body"].includes(t.nodeName.toLowerCase())||(m=!1)});if(!m)continue}if(O&&"attributes"!==b[f].type){l.ga();return}}"DOMAttrModified"===b[f].type&&"data-gid"===b[f].attrName||
"attributes"===b[f].type&&"data-gid"===b[f].attributeName||(this.O.eb.push(b[f]),d++)}}return d};r.prototype.stop=function(){H(document,"removeEventListener","mousemove",r.c);H(document,"removeEventListener","keydown",r.h);H(document,"removeEventListener","mousedown",r.a);H(document,"removeEventListener","mouseup",r.a);H(document,"removeEventListener","paste",r.a);H(document,"removeEventListener","cut",r.a);H(window,"removeEventListener","scroll",r.g);H(window,"removeEventListener","resize",r.j);
Ja.nb&&Ja.nb.disconnect();delete Ja.nb;this.clearTimeout()};r.prototype.b=function(){var b=this.O?this.O:{};this.O={};this.g.ue(this.ba?{ba:!0}:b);this.j();delete this.ba};r.prototype.j=function(){delete this.timeout;0<Object.keys(this.O).length&&this.a(100)};r.prototype.R=function(b,d){var f=this;this.O[b]=!0;3===w.state&&(d?f.b():this.timeout||(this.timeout=H(window,"setTimeout",function(){f.b()},100)))};Q.prototype.b=function(b){return b.replace(/[^a-zA-Z0-9-]/g,"_").replace(/^_/,"")};Q.prototype.c=
function(b){for(var d="",f=0;f<this.a.length;f++)U(b).matches(this.a[f])&&(d+=this.b(this.a[f])+this.f+" ");return 0<d.length?d.trim():null};fa.prototype.get=function(b,d,f){var h=this;if(void 0!==this.Lb[b])d(this.Lb[b]);else{var m=new Ta("JSON4"),t=id(K,"cobrowse/CobrowseSettings.asmx/GetGroupSettings");Ya(m,t,{groupid:b},!0,!1,function(p){h.Lb[b]=p;d(p)},f||function(){M("ERR_CB_SETTINGS")})}};ka.prototype.bb=function(b){(b?A.addEventListener:A.removeEventListener).call(A,"click",ka.onclick,!0)};
ka.onclick=function(b){if(l){H(window,"setTimeout",function(){l&&l.Ea.now()},100);var d=b.target;Xb(U(d))&&(d=b.path[0]);var f="A"===d.tagName;if(!f)for(var h=d;h=h.parentElement;)if("A"===h.nodeName){f=!0;d=h;break}if(f&&!b.target.matches("a#glance_dl"))if(qb(A,d)&&Oa(d.href,q.info.trusteddomains)){if(!fe(l.Fa))Wc.onclick(b,d)}else q.info.pdflinks&&mc(U(d),q.info.pdflinks)&&(window.self!==window.top?(b.preventDefault(),w.b(window.top,{sb:"PDF",params:{url:d.href}})):(b.preventDefault(),Gd(l.ta,{url:d.href})))}};
var Wc={onclick:function(b,d){b.isTrusted&&!G.ie11&&(b.preventDefault(),Rc("link clicked:",d.href),$d(l.Fa,d.href,d.target).then(function(){}).catch(function(){S("ERR_CROSS_DOMAIN")}))},Nd:function(b){if(!Oa(b.destination||b.bc,q.info.trusteddomains))return S("continueSessionAt: "+b.destination+" not configured in cross domain settings"),!1;if(fe(l.Fa))return!0;$d(l.Fa,b.bc,b.Ge?"_blank":"_self").then(function(){Rc("crossDomain complete");if(b.oncomplete)b.oncomplete()}).catch(function(){M("ERR_CROSS_DOMAIN")});
return!1}};Z.prototype.ma=function(b,d){var f;(f=!this[b])||(f=sa(this[b])!==sa(d));return f?(this[b]=d,N.A(this.Yc?this.Yc:b,d),!0):!1};Z.prototype.getState=function(b,d){if(b=this[b])return d&&(b=b[d],!b)?void 0:b};Z.prototype.te=function(b,d){this[b]=d;l.s.R("user")};u.prototype.Pb=function(b){var d;(d=!this.b)||(d=JSON.stringify(l.od)!==JSON.stringify(b));d&&(this.od=b,"undefined"!==typeof b.maskpage&&(this.u=b.maskpage),d=[...q.info.masked,...b.maskedelements],b=[...q.info.unmasked||[],...b.unmaskedelements],
this.b=new g(d,b,this.u,q.info.selectiveEditing),q.c||l.ga())};u.prototype.ac=function(b,d){if(b!==this.f||d)this.f=b,r.N("sessionpaused",{paused:!!b,message:d}),b||this.ga(),N.A("sessionpaused",{paused:b})};u.prototype.tc=function(){this.tb=0;this.S=new Z;this.S.screenshare=new Z("screenshare");this.rb=new Z;J.a={}};u.b=function(){var b=ub(A,"glance-clean-context");if(b)return b.contentWindow;b=document.createElement("iframe");b.setAttribute("id","glance-clean-context");b.setAttribute("style","display:none");
b.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(b);var d=document.createElement("script");d.src=hd(K,"js/GlanceCleanContext_"+ed+".js");G.firefox?b.addEventListener("load",function(){b.contentDocument.documentElement.innerHTML="<!DOCTYPE html><html><head></head><body>clean context</body></html>";b.contentWindow.document.head.appendChild(d)}):b.contentWindow.document.head.appendChild(d);return b.contentWindow};u.a=function(b){if(b.error&&b.error.stack&&!(0>b.error.stack.indexOf("Glance"))){try{var d=
"JS Error in "+window.location.href+": ";d+=b.error.name+" "+b.error.message+b.error.stack;w.ca(P.c,d)}catch(f){M("ERR_REPORTERROR")}La("error",u.a)}};u.prototype.be=function(b){b?this.$d():this.Wb(!1)};u.prototype.pb=function(b){w.V(nb,"WS_RECON: "+(b||""));var d=this;this.tb++;this.ad(function(){d.ga()},function(){return d.$c(!1)})};u.prototype.$c=function(b,d){if(w.ga)return!1;w.V(nb,"WS_DROP");(b=(!b||this.connected)&&30>this.tb)?this.oa(!1):w.u("Connect failed "+(d||""),"conndrop",{server:q.m?
q.m.server:"server"});return b};u.prototype.oa=function(b){this.S.ma("connection",{status:b?"ok":"reconnecting"})};u.prototype.yd=function(){var b=this.ya;delete this.ya;return b};u.prototype.ia=function(b){this.ya=this.ya||[];this.ya.push(b);r.B()};u.prototype.ga=function(){q.j(!0);this.D.clear();this.s.c()};u.prototype.Pa=function(b){if(document.body.contains(b)&&this.b.la(b)||b.getAttribute("data-no-cobrowse-content")||b.getAttribute("data-independent-content"))return!1;var d=b.src&&Oa(b.src,q.info.trusteddomains);
return this.Qa(b)||this.Od(b)||d};u.prototype.Qa=function(b){return"IFRAME"!==b.tagName?!1:!b.src||"glance_pdfviewer"===b.id&&G.ie||/^(javascript|about):/i.test(b.src)||""===b.getAttribute("src")||void 0===b.baseURI&&b.src==window.location.href.match(/.*\//)?!0:!1};u.prototype.Od=function(b){if(/^glance_/i.test(b.id)||0===b.src.length)return!1;b=lb(b.src);return null===b||L(b)!==cb(A)?!1:!0};u.prototype.La=function(){function b(p){T("contentWindow",p).setTimeout(function(){ib(p.contentWindow,"load")},
1E3)}function d(p,y){if("glance_pdfviewer"!==p.id)if(p.src.match(/^javascript:/)&&!y)p.getAttribute("frameid"),H(window,"setTimeout",function(){d(p,!0)},1E3);else{try{var x=p.contentDocument}catch(I){M("can't access contentDocument src="+p.src+" ==> "+I.toString()+x);return}if(p.contentDocument){if(null===p.contentDocument.head){if("application/xhtml+xml"===p.contentDocument.contentType){p.getAttribute("frameid");return}try{p.contentDocument.head=p.contentDocument.createElement("head")}catch(I){}if(null===
p.contentDocument.head){y?p.getAttribute("frameid"):(p.getAttribute("frameid"),H(window,"setTimeout",function(){d(p,!0)},1E3));return}}if(!p.contentDocument.getElementById("cobrowsescript")&&!p.contentDocument.getElementById("glance-cobrowse")){y=p.contentDocument.createElement("script");for(x=0;x<K.$.attributes.length;x++)"src"!==K.$.attributes[x].name&&y.setAttribute(K.$.attributes[x].name,K.$.attributes[x].value);if(K.h)for(x=0;x<K.h.attributes.length;x++)y.setAttribute(K.h.attributes[x].name,
K.h.attributes[x].value);y.setAttribute("id","glance-cobrowse");p.contentDocument.head.appendChild(y);y.setAttribute("src",K.$.getAttribute("src"));p.getAttribute("frameid");h.Qa(p)&&b(p)}}else M("!contentDocument src="+p.src)}}function f(p){function y(I){I=H(x.documentElement,"getElementsByTagName",I);return 0<I.length&&0<I[0].children.length}try{var x=p.contentDocument;return"complete"===x.readyState&&(y("head")||y("body"))}catch(I){}return!1}var h=this,m,t=H(document,"getElementsByTagName","iframe");
for(m=0;m<t.length;m++)!t[m].getAttribute("frameid")&&this.Pa(t[m])&&(t[m].setAttribute("frameid",Math.floor(2147483647*Math.random())),t[m].getAttribute("frameid"),this.Qa(t[m]),f(t[m]),H(t[m],"addEventListener","load",function(p){p.target.getAttribute("frameid");d(p.target)}),this.Qa(t[m])||f(t[m]))&&(t[m].getAttribute("frameid"),d(t[m]))};u.prototype.Cc=function(){var b,d=H(document,"getElementsByTagName","iframe"),f=[];for(b=0;b<d.length;b++)this.Pa(d[b])&&T("contentWindow",d[b])&&f.push(d[b]);
return f};u.prototype.yc=function(b){var d=ia(b.G);d?w.b(d.contentWindow,{$a:b}):this.Ra({$a:b})};u.prototype.Ra=function(b){var d,f=this.Cc();for(d=0;d<f.length;d++)void 0!==T("contentWindow",f[d])&&w.b(T("contentWindow",f[d]),b)};u.prototype.Da=function(b,d){this.La();var f,h=this.Cc();this.pc=!0;for(f=0;f<h.length;f++)if(!d||T("contentWindow",h[f])===d){var m=h[f].getAttribute("frameid");w.b(T("contentWindow",h[f]),{Da:{G:m,he:b,m:q.m,se:q.info},kb:{enabled:this.h}})}};u.prototype.Qd=function(){function b(t){let p=
document.createElement("span");p.classList.add("glance-mock-title");p.innerHTML=t;return p}function d(t){if(null!=m){let p=H(document,"querySelectorAll","[title]:hover");for(let y=0;y<p.length;y++)if(m==p[y])return;h(t)}}function f(t){h(t);m=t.target;let p=b(m.getAttribute("title"));"IFRAME"!=m.tagName.toUpperCase()&&(H(window,"setTimeout",()=>{p.style.left=A.Y.x+12+"px";p.style.top=A.Y.y+12+"px";p.style.opacity="1"},500),window.top.document.body.appendChild(p))}function h(){m=null;let t=window.top.document.body.querySelectorAll(".glance-mock-title");
for(let p=0;p<t.length;p++)t[p].style.display="none"}let m=null;this.dc=function(){let t=H(document,"querySelectorAll","[title]");for(let p=0;p<t.length;p++){let y=t[p];Zb("removeEventListener",y).call(y,"mouseenter",f);Zb("addEventListener",y).call(y,"mouseenter",f);Zb("removeEventListener",y).call(y,"mouseleave",h);Zb("addEventListener",y).call(y,"mouseleave",h);Zb("removeEventListener",document).call(document,"mousemove",d);Zb("addEventListener",document).call(document,"mousemove",d)}};this.dc()};
u.prototype.Pd=function(){function b(x){y.K=x;l.s.R("focus")}function d(){l&&b(null)}function f(x){G.firefox&&y.K&&y.K!==x.target?d():y.K===x.target?d():b(x.target)}function h(x){var I=x.key||x.charCode||x.keyCode,R=13===I||"Enter"===I;y.K!==x.target||9!==I&&"Tab"!==I&&27!==I&&"Esc"!==I&&!R?G.chrome&&G.za.win&&null===y.K&&R&&b(x.target):d()}function m(x){G.za.mac&&G.safari&&f(x)}function t(x){y.K===x.target&&d()}function p(){H(window,"setTimeout",function(){d()},100)}var y=this;this.xb=function(x){var I,
R=H(A,"getElementsByTagName","select");for(I=0;I<R.length;I++){var W=R[I];var aa=x?Zb("addEventListener",W):Zb("removeEventListener",W);aa.call(W,"click",f);aa.call(W,"keyup",h);G.chrome&&aa.call(W,"keypress",h);aa.call(W,"change",p);aa.call(W,"blur",t);aa.call(W,"mousedown",m)}aa=x?Zb("addEventListener",window):Zb("removeEventListener",window);aa.call(window,"resize",d);aa.call(window,"scroll",d);aa.call(window,"blur",d)};this.xb(!0)};u.prototype.le=function(){let b=kc(U(document.body),"iframe[data-independent-content]");
for(let d=0;d<b.length;d++)b[d].removeAttribute("data-src")};u.prototype.kd=function(b){var d=A;d.o.removeEventListener("mousemove",d.Hc);d.o.removeEventListener("mouseout",d.Ic);A.o.removeEventListener("click",A.Gc);this.s.stop();H(window,"clearTimeout",this.Ke);H(window,"clearInterval",this.Ie);J.g();this.le();Od(this.v);!O&&q.g()&&b?this.send("LS",{}):this.Ma();this.xb(!1);vc(this.F,document.head);vc(this.F,document.body);this.vb.bb(!1);void 0!==this.C&&this.C.Qc();void 0!==this.c&&this.c.remove();
this.wb&&this.wb.stop();this.wa&&this.wa.stop();this.nc&&this.nc.bb(!1);this.ua&&this.ua.stop();this.Ea&&this.Ea.stop();this.va&&this.va.stop();document.getElementById("glance_pdfviewer")&&document.getElementById("glance_pdfviewer").remove();document.getElementById("glance_xlsviewer")&&document.getElementById("glance_xlsviewer").remove();this.B(!1);this.Ra({re:!0});this.T.stop();La("error",u.a);this.Fa.done();"started"==this.g.status&&this.Rb()};u.prototype.zc=function(){var b=null;try{if(b=A.o.activeElement,
!b)return null}catch(d){return null}return b};u.prototype.rd=function(){var b=this.zc();return b?U(b).l():null};u.prototype.Ab=function(){var b,d="";if(void 0!==window.matchMedia){var f=A.head().getElementsByTagName("link");for(b=0;b<f.length;b++)if(""===f[b].media)d+="1";else{var h=window.matchMedia(f[b].media);d+=h&&h.matches?"1":"0"}}return d};u.prototype.Oc=function(){var b=A.o.head.cloneNode(!0);this.hc(A.head(),b);return this.yb(b.innerHTML)};u.prototype.ed=function(b){var d;for(d=0;d<b.length;d++){if(this.Pa(b[d])||
b[d].getAttribute("data-no-cobrowse-content")||b[d].getAttribute("data-independent-content"))b[d].removeAttribute("src"),b[d].removeAttribute("srcdoc");b[d].setAttribute("sandbox","")}0<b.length&&this.La()};u.prototype.Xd=function(){for(var b=editableels,d=0;d<b.length;d++)switch(editableel=b[d],Vb(U(editableel),"glance_controllable"),editableel.tagName.toUpperCase()){case "FORM":editableel.setAttribute("autocomplete","false"),editableel.querySelectorAll("input").forEach(f=>{f.setAttribute("autocomplete",
"off")});case "INPUT":editableel.setAttribute("autocomplete","off")}};u.prototype.da=function(b,d,f){function h(x,I){t.oe(I,f);I.tagName.match(/^SVG|AUDIO|VIDEO|OBJECT$/i)&&U(I).empty();x&&(x=U(x).W(),fc(U(I),x.width,x.height));for(x=0;x<I.childNodes.length;x++)3===I.childNodes[x].nodeType&&(I.childNodes[x].textContent="string"===typeof I.childNodes[x].textContent&&""!==I.childNodes[x].textContent.trim()?" ":"")}var m;if(!b||b.length!==d.length)throw S(`ERR_INVALIDNESTING in parent of: ${d[0].tagName} data-gid ${d[0].getAttribute("data-gid")}`),
Error("ERR_MASKEDFIELDS");b&&b.length!==d.length&&(S(`ERR_INVALIDNESTING in parent of: ${d[0].tagName} data-gid ${d[0].getAttribute("data-gid")}`),b=void 0);for(var t=this.b,p=0;p<d.length;p++){var y=d[p];y.setAttribute("aria-label","masked item");switch(y.tagName.toUpperCase()){case "TEXTAREA":case "INPUT":switch(y.type.toLowerCase()){case "checkbox":case "radio":y.removeAttribute("checked");break;case "button":case "submit":break;default:y.setAttribute("value",this.b.Ac(b?b[p].value.length:1))}break;
case "SELECT":U(y).empty();(m=b?U(b[p]).W().width:0)&&y.setAttribute("style","width:"+m+"px");m=document.createElement("option");m.innerHTML="*******";y.appendChild(m);break;case "OPTION":y.textContent="*******";break;case "STYLE":break;case "LINK":"stylesheet"!==y.getAttribute("rel")&&h(b&&b[p],y);break;default:if(this.Id=!0,h(b&&b[p],y),y.children&&0<y.children.length){if(!b){this.da(void 0,y.children,[]);break}let x=T("children",b[p]),I=[],R=[];if(x.length!==y.children.length)S(`ERR_INVALIDNESTING ${b[p].tagName} data-gid ${b[p].getAttribute("data-gid")}`),
this.da(void 0,y.children,[]);else{for(m=0;m<x.length;m++)this.b.Jb(x[m],!0)||(I.push(x[m]),R.push(y.children[m]));this.da(I,R,[])}}}}};u.prototype.Yd=function(b,d){var f,h,m,t=[];if(f=this.b.la(b))if(this.da([b],[d],f),0<f.length&&Vb(U(d),"glance_masked"),this.b.hb.uc())return;for(h=0;h<this.b.Ca.aa.length;h++){var p=H(b,"querySelectorAll",this.b.Ca.aa[h]);f=H(d,"querySelectorAll",this.b.Ca.aa[h]);for(m=0;m<f.length;m++)t.push(f[m]);this.da(p,f,[h])}for(h=0;h<t.length;h++)Vb(U(t[h]),"glance_masked");
f=H(d,"getElementsByTagName","input");for(h=0;h<f.length;h++)"hidden"===f[h].type&&(f[h].value="");for(h=0;h<this.b.Tc.aa.length;h++)editableels=H(d,"querySelectorAll",this.b.Tc.aa[h]),this.Xd()};u.prototype.Fc=function(){if(q.G)return A.l()?Yc(A.l()).replace(/\//g,"-"):ssinfo.G};u.prototype.me=function(b,d){var f=document.head.querySelector("base[href]");if(!f||d){var h=A.o.createElement("base");d?(d=q.G?"/glance"+this.Fc():"",h.href="/agent/resource/"+q.a()+d+"/"+Yc(f?f.href:A.l())):h.href="//"+
A.ha.location.host+A.l();b.insertBefore(h,b.firstChild)}else this.Sb(b,"link"),this.Sb(b,"base")};u.prototype.jc=function(b){for(var d=b.querySelectorAll("link[integrity]"),f=0;f<d.length;f++)d[f].removeAttribute("integrity");"LINK"===b.tagName&&b.removeAttribute("integrity")};u.prototype.hc=function(b,d){function f(p){return!p.tagName.match(/^(head|base|link|meta|noscript|style|template|title)$/i)||p.tagName.match(/meta/i)&&p.getAttribute("http-equiv")&&p.getAttribute("http-equiv").match(/^(X-Frame-Options|Content-Security-Policy)$/i)||
q.info.proxy&&"BASE"===p.tagName||p.matches("link[as='script']")?!0:!1}var h;if(f(d))return!1;var m=T("children",d);for(h=0;m&&h<m.length;h++){var t=m[h];f(t)&&(t.outerHTML=Wb(U(t)))}b===document.head&&this.me(d,q.info.proxy);if(void 0!==window.matchMedia)for(t=H(b,"getElementsByTagName","link"),b=H(d,"getElementsByTagName","link"),m=this.Ab(),h=0;h<b.length;h++)b[h].media="1"===m.substr(h,1)?"all":"none",t.length>h&&t[h].disabled&&!b[h].disabled&&b[h].setAttribute("disabled","true");this.jc(d);this.xc(d);
q.info.proxy&&this.cd(d);return!0};u.prototype.xc=function(b){var d=H(b,"getElementsByTagName","style");"STYLE"===b.tagName&&(d=[b]);for(b=0;b<d.length;b++){a:{var f=d[b];for(var h=A.o.styleSheets,m=0;m<h.length;m++)if(h[m].ownerNode&&h[m].ownerNode.getAttribute("data-gid")===f.getAttribute("data-gid")){f=h[m];break a}f=null}null!==f&&(f=this.ic(f),null!==f&&(d[b].innerHTML=f))}};u.prototype.ic=function(b){b=tc(b);if(null===b)return null;q.info.proxy&&(b=bd(b));return b};u.prototype.md=function(b,
d){return d.match(/^src$/i)&&"IFRAME"===b.tagName&&(this.Pa(b)||b.getAttribute("data-no-cobrowse-content")||b.getAttribute("data-independent-content"))||this.b.vc(b,d)||d.match(/^on.*/i)||"integrity"===d||"pattern"===d?!1:"class"===d&&null!==b.parentNode&&this.b.la(b)?b.getAttribute("class")+" glance_masked":q.info.proxy?this.dd(b,d):b.getAttribute(d)};u.prototype.nd=function(b,d){"IFRAME"===d.tagName?this.ed([d]):this.ed(H(d,"getElementsByTagName","iframe"));if(b.tagName.match(/script/i))return d.removeAttribute("src"),
d.innerHTML="",!0;var f=H(d,"getElementsByTagName","script");for(var h=0;h<f.length;h++){var m=f[h];m.removeAttribute("src");m.innerHTML=""}this.jc(d);f=kc(U(d),"[glance_cobrowse_suppress='1']");for(h=0;h<f.length;h++)f[h].outerHTML=Wb(U(f[h]));f=kc(U(d),"[pattern]");for(h=0;h<f.length;h++)f[h].removeAttribute("pattern");b.parentNode&&U(b).matches("meta[http-equiv='X-Frame-Options'][content='deny']")&&d.removeAttribute("content");f=kc(U(d),"meta[http-equiv='X-Frame-Options'][content='deny']");for(h=
0;h<f.length;h++)f[h].removeAttribute("content");this.Yd(b,d);this.xb(!0);this.dc();wd(this.Ka,[b]);this.xc(d);q.info.proxy&&this.cd(d);return!0};u.prototype.Nb=function(){var b=document.body;if(b){this.xa=0<b.getElementsByTagName("svg:svg").length;b=b.getElementsByTagName("svg");if(!this.xa)for(var d=0;d<b.length&&!this.xa;d++)/svg:svg/i.test(b[d].tagName)&&(this.xa=!0);this.ld=0<b.length}};u.prototype.yb=function(b){if(!b)return b;b=b.replace(/data-proxyattr-(.*?) *= *"(.*?)"/g,(d,f,h)=>`${f}="${h}"`);
this.xa&&(b=b.replace(/<svg:/gi,"<").replace(/<\/svg:/gi,"</"));G.safari&&this.ld&&(b=b.replace(/ NS\d*:href/gi," href"));return b};u.prototype.fc=function(b,d){var f=U(b);return gc(f)||ec(f,document.head)?this.hc(b,d):this.nd(b,d)};u.prototype.td=function(){this.Nb();var b=dc(U(A.o.body));this.fc(document.body,b);var d=window.getComputedStyle(A.o.body,void 0);if(null===d)return b;b.style.marginTop=d.marginTop;b.style.marginLeft=d.marginLeft;b.style.paddingTop=d.paddingTop;b.style.paddingLeft=d.paddingLeft;
return b};u.prototype.zb=function(b){function d(t){var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>'"]/g,function(y){return p[y]})}var f,h="";for(f=0;f<b.attributes.length;f++){var m=b.attributes[f];0!==m.nodeName.indexOf("on")&&(h+=`${m.nodeName}='${d(m.value)}' `)}return h};u.prototype.dd=function(b,d){var f=b.getAttribute(d);if(!f)return f;switch(d){case "src":if("IFRAME"===b.tagName)return f;case "href":case "xlink:href":return Zc(f);case "srcset":b=f.split(",");
for(d=0;d<b.length;d++)b[d]=Zc(b[d].replace(/^\s*/,""));return b.join(",");case "style":return ad(f);default:return f}};u.prototype.cd=function(b){function d(h,m,t){function p(I){for(var R=0;R<I.length;R++){let W=I[R].getAttribute(m),aa=f.dd(I[R],m);aa&&(aa===W?t&&(I[R].removeAttribute(m),I[R].setAttribute(t||m,aa)):(I[R].removeAttribute(m),I[R].setAttribute("data-proxyattr-"+(t||m),aa)))}}var y=U(b),x=kc(y,h);p(x);y.matches(h)&&p([b])}var f=this;d("link:not([as='script'])","href");d("IMG","src");
d("image","xlink:href");d("use","xlink:href");d("use","href","xlink:href");d("img[srcset],source[srcset]","srcset");d("[style]","style")};u.prototype.Sb=function(b,d){b=H(b,"getElementsByTagName",d);for(d=0;d<b.length;d++){var f=b[d];if(void 0!==f&&void 0!==f.href){var h=f.href;0!=h.length&&(0>h.indexOf("//")?h=Nb(A,h,q.Hb()):q.info.agenthttp||(h=h.replace("http:","https:")),f.href=h)}}};u.prototype.Gb=function(b){var d=T("type",b)||"";if(d.match(/^hidden$/i))return null;var f=U(b).l();if(!this.D.Wd(f,
JSON.stringify([T("selectedIndex",b),T("checked",b),T("value",b)])))return null;var h;d.match(/^(button|submit)$/i)?h=!1:d.match(/^text$/i)&&""===b.value?h=!1:h=this.b.la(b);return h&&(d.match(/^(radio|checkbox|range)$/i)||b.tagName.match(/^select$/i))?null:(b=U(b).Gb(h&&"string"===typeof b.value?this.b.Ac(T("value",b).length):void 0))?b:null};u.prototype.ud=function(){return null===document.doctype?{name:"",prefix:"",publicid:"",systemid:""}:{name:document.doctype.name,prefix:document.doctype.publicId?
"PUBLIC":document.doctype.systemId?"SYSTEM":"",publicid:document.doctype.publicId||"",systemid:document.doctype.systemId||""}};u.prototype.Oa=function(){if(!this.u&&!this.f){var b=[],d=this.s.h(),f;for(f=0;f<d.length;f++){var h=this.Gb(d[f]);null!==h&&b.push(h)}return 0<b.length?{i:b}:void 0}};u.prototype.zd=function(){var b,d=A.o,f=[];if(null===this.Zc||0===A.Y.x&&0===A.Y.y)return f;for(b=d.elementFromPoint(A.Y.x,A.Y.y);b&&b!==d.body&&b!==d;){var h=this.Zc.c(b);null!=h&&(U(b).l(),f.push({cn:h,p:U(b).l()}));
b=b.parentNode}return f};u.prototype.send=function(b,d){b={mtype:b,data:d};if(O)b.frameid=q.G,w.b(window.parent,{oc:b});else if(this.a)try{this.a.Uc(b)}catch(f){}else w.V(nb,"WS_DISCON")};u.prototype.sd=function(){var b=this.td();return this.yb(b.innerHTML)};u.prototype.Nc=function(b,d){try{var f={};if(this.f)return q.c?{mc:"",fb:this.Oc(),Xb:"",ob:""}:{};b&&b.Bc.childList&&this.Nb();if(b){var h=this.F;if(0!==b.length){-1!==b[0].toString().indexOf("MutationRecord")&&Lc(h,b);var m=Bc(h)}else m=void 0;
f.U=m}zd(this.Ka);d&&(f.U=(f.U||[]).concat(d));b||d||(f.fb=this.Oc(),f.Xb=this.zb(A.o.body),f.ob=this.sd());this.D.ka("htmlattrs",this.zb(document.documentElement))&&(f.fb||f.ob?f.mc=this.zb(document.documentElement):f.U=(f.U||[]).concat(Gc(this.F)));return f}catch(t){if("ERR_MASKEDFIELDS"===t.message)return S(t.message),this.f=!0,this.Nc(b,d);throw t;}};u.prototype.Ma=function(){void 0!==this.a&&1===this.a.readyState&&this.a.close();delete this.a};u.prototype.ad=function(b,d){var f=this;var h=q.B("sjs");
this.a=ua(h,q.info.hbcheck);this.a.onopen=function(){M("websocket opened with transport:"+this.transport);f.connected=!0;f.oa(!0);f.tb=0;var m=(new bb("GCB")).get()||"";f.send("CN",{cookie:m,ssnid:q.a(),visitortoken:q.u(),frameid:q.G,ver:"5.8.2.1",href:window.location.href});b();window.top==window.self&&l.N({docshare:{enabled:document.getElementById("glance_pdfviewer")||document.getElementById("glance_xlsviewer")}})};this.a.Jc=function(m){f.a===this&&null!=l&&(!q.f(!1)||1002!==m.code&&2E3!==m.code&&
1006!==m.code||(M("WS_CLOSED:"+m.reason+" ["+m.code+"]"),d("WS_CLOSED:"+m.reason+" ["+m.code+"]")&&H(window,"setTimeout",function(){l&&l.pb("closed")},2E3)),delete f.a)};this.a.onerror=function(m){f.a===this&&(M("WS_ERROR:"+m.toString()),d("WS_ERROR:"+m.toString()),delete f.a)};this.a.Mc=function(m){f.a===this&&(m.frameid?f.yc(m):f.Sc(m))};this.a.Lc=function(m){M("HB_SKIPPED");f.oa(!1);2<=m.Za&&(f.Ma(),f.pb("hb"))};this.a.Kc=function(){f.oa(!0)}};u.prototype.Wb=async function(b){w.state=3;await w.da();
w.h("sessioncontinue");b?this.s.a(300):this.s.c(300)};u.prototype.$d=function(){this.D.clear();q.j(!0);var b=this.Pc(!0,{ba:!0});this.send("NS",b);w.V(Xc,"NS frame:"+(q.G||"top"));w.h("sessionstart");this.Wb(!0);q.j(!1)};u.prototype.ue=function(b){q.g()?q.f(!0)&&(O||l.a&&l.a.readyState===SockJS.OPEN)&&(b=this.Pc(!1,b))&&(this.D.pe.set(),this.send("UP",b),q.j(!1)):w.c(!1)};u.prototype.hd=function(){if(this.f)return{x:0,y:0};var b=Ib(A);b={x:Hb(A,"x",b.x),y:Hb(A,"y",b.y)};JSON.stringify(b);return b};
u.prototype.xd=function(){var b=window.location.href.replace(/\?.*/g,"");return this.D.ka("pageurl",b)?b:void 0};u.prototype.vd=function(){var b={groupid:q.groupId(),visitortoken:q.u(),visitorid:K.visitorid||"",ver:"5.8.2.1",maincid:q.m.callId.toString(),browser:{name:G.name,platform:G.za.name,version:G.version},site:K.c,loglevel:q.info.loglevel,pdfviewer:null!==ub(A,"glance-pdf"),widget:q.info.widget,cbexperimentagent:q.info.cbexperimentagent,docshareagentdl:q.info.docshareagentdl};Ga(w.a,b,["name",
"email","phone","remote"]);return Ga(q.info,b,"agenthttp remotescroll chatdomains relcoords scaledview proxy commoncache agentcookie".split(" "))};u.prototype.Pc=function(b,d){function f(x,I){for(y in I)t.D.ka(x+y,sa(I[y]))||delete I[y]}var h={},m=!1,t=this;this.b.Kd();d.ba&&(yc(l.F,document.head),yc(l.F,document.body),this.La(),l.wb&&l.wb.start(),l.wa&&l.wa.start(),l.va&&l.va.start(),l.ua.start(!0),l.Ea.start(!0));if(d.ba||q.c||d.dom)h=this.Nc(d.eb,d.U);m=void 0!==h.fb||void 0!==h.ob;var p=h.U&&
0<h.U.length;this.Id&&(p||d.resize)&&(h.U=(h.U||[]).concat(this.b.ce()));h.fb?this.D.ka("mediamatches",this.Ab()):d.resize&&this.D.ka("mediamatches",this.Ab())&&(h.U=(h.U||[]).concat(Fc(this.F)));O&&!Db(yb(A,A.Y))&&w.b(window.parent,{Eb:1});b={newssn:b?this.vd():void 0,page:q.c?{proto:A.Hb(),pageurl:window.location.href.replace(/\?.*/g,""),origpath:Rb(),doctype:this.ud(),frameproxypath:this.Fc()}:void 0,html:{htmlattrs:h.mc,bodyattrs:h.Xb,pagehead:h.fb,pagebody:h.ob},incstate:m?void 0:{bodydiffs:q.info.compression?
void 0:h.U,bd_c:q.info.compression?Ea(h.U):void 0,inputs:!q.info.compression&&d.inputs?this.Oa():void 0,ip_c:q.info.compression&&d.inputs?Ea(this.Oa()):void 0,escroll:this.vb.Sd(p?"all":d.qb)},ssnmessages:l.yd(),elemdata:{canvases:d.canvas&&this.Ea?this.Ea.cb.Rd():void 0,adoptedstyles:Ea(vd(this.Ka,d.ba)),shadowdoms:this.f?void 0:yd(this.Ka)},state:{inputs:!q.info.compression&&m?this.Oa():void 0,ip_c:q.info.compression&&m?Ea(this.Oa()):void 0,styles:this.zd(),mouse:this.f?void 0:yb(A,A.Y),click:this.f?
void 0:xb(A),scroll:d.scroll||p||d.ba||q.c?this.hd():void 0,scrollvisible:{x:sb(A,A.gd),y:sb(A,A.ib)},scrollinfo:Qb(A),windims:A.W(),docdims:tb(A),pageurl:this.xd(),focus:{path:this.rd(),open:this.K===this.zc()}},callstate:{rc:{enabled:this.h,suspended:void 0!==this.T.a.na},accessibility:void 0===this.ca||O?void 0:{enabled:this.ca},ssvisitor:J.getState(),visitorvideo:this.v.getState(),user:d.user&&l?l.rb:void 0}};Object.assign(b.callstate,r.b);r.b={};for(var y in b.incstate)b.incstate.hasOwnProperty(y)&&
void 0!==b.incstate[y]&&this.D.Vc("diffs");this.s.f||this.s.start();q.c||(f("state",b.state),f("callstate",b.callstate));Ra(b);for(y in b)if(b.hasOwnProperty(y))return b;return null};u.prototype.Dd=function(b){if("mousemove"===b.type&&!this.h)return!1;void 0===this.T.a.na&&(this.h&&this.c.show(!1),this.h&&(this.D.Ld(),this.D.$b("statefocus")));return!0};u.prototype.Cd=function(){r.Z()};u.prototype.ae=function(){this.Ra({kb:{enabled:this.h}})};u.prototype.B=function(b){b!==this.h&&(this.h=b,this.T.a.clear(),
l&&r.Z(),this.c.show(b),this.ae(),this.S.ma("rc",{enabled:b}))};u.prototype.Ed=function(b,d){function f(t,p){return{type:p?p:t.type,agent:t.agent,path:t.path,value:t.value}}if(!this.u&&!this.f){if(b.path){var h=Mb(U(document.documentElement),b.path,!1);if(null===h){M("ELEM_NOT_FOUND_RC");return}}var m=!b.type.match(/scroll|mousemove|mouseleave/)&&!(h&&h.getAttribute("data-agentinteractive"));if(!m||"CBGUESTRC"===d)if(void 0===this.T.a.na||"mousemove"===b.type)if(this.h||q.info.remotescroll&&!m)if(h&&
(this.b.la(h)||"mouse"===b.type&&"click"===b.etype&&qb(A,h)))JSON.stringify(b);else switch(this.T.c.set(800),b.type){case "mouse":Yb(U(h),b.etype);"click"===b.etype&&w.fireEvent("rcevent",f(b,"click"));r.a();break;case "mousemove":b=Lb(A,b.relative,b.client);q.info.relcoords&&!O&&(b=Fb(A,b));this.c.moveTo(b.x,b.y);this.c.ab||(this.c.ab=!0,this.c.show(!0));break;case "mouseleave":this.c.ab=!1;this.c.show(!1);break;case "key":h.focus();jb(h,b.keyevent);break;case "focus":h.focus();l.s.R("focus");break;
case "blur":h.blur();this.Sa&&this.Sa===h&&(ib(this.Sa,"change"),w.fireEvent("rcevent",f(b,"inputchange")));delete this.Sa;break;case "input":h.value=b.value;ib(h,"input");w.fireEvent("rcevent",f(b,"agenttyping"));this.Sa=h;break;case "selchange":h.selectedIndex=b.selectedIndex;ib(h,"change");w.fireEvent("rcevent",f(b,"inputchange"));break;case "scroll":JSON.stringify(b);A.scrollTo(b.axis,Jb(A,b.axis,b.relative,b.offset),!0);break;case "elementscroll":h.scrollLeft=b.x;h.scrollTop=b.y;break;default:M("UNK_RC_EVT"+
b.type)}}};u.prototype.Yb=function(b){void 0!==b.acknewpage&&this.Da({ba:!0});(void 0!==b.newagent||b.fullupdate)&&this.D.kc("diffs")&&l.ga();void 0!==b.rcevent&&this.Ed(b.rcevent,b.priv);void 0!==b.rcrequest&&"CBGUESTRC"===b.priv&&(b.rcrequest?this.bd():this.B(!1));b.navigationassist&&"NAVASSIST"===b.priv&&this.ee(b.navigationassist);void 0!==b.cerequest&&"CBGUESTSE"===b.priv&&(b.cerequest?this.bd(!0):this.B(!1));if(b.requestvisitorscreenshare){if("undefined"==typeof navigator.mediaDevices||"undefined"==
typeof navigator.mediaDevices.getDisplayMedia){this.g.b.N({visitorscreenshare:{status:"notsupported",visitorscreensharerequested:"true"}});return}1!==b.requestvisitorscreenshare||"notstarted"!=this.g.status&&"stopped"!=this.g.status||N.A("visitorscreensharerequested",{accept:()=>{this.Cb(b.screensharesurfaces)},decline:()=>{this.wc()}})}b.stopvisitorscreenshare&&1===b.stopvisitorscreenshare&&"started"==this.g.status&&this.Rb();b.docrequest&&this.de();b.docshared&&this.Bd(b.docshared);b.downloaded&&
N.A("agentdownload",gb({name:b.downloaded}));void 0!==b.accessibility&&"ACCESSIBILITY"===b.priv&&this.Na(b.accessibility);void 0!==b.reposition&&N.A("widgetmoving",b.reposition);void 0!==b.repositiondone&&N.A("widgetmoved",b.repositiondone);void 0!==b.ol_c&&(b.outline=Fa(b.ol_c));void 0!==b.outline&&(this.C.Aa(),this.qd(b.outline));void 0!==b.resreq&&this.Hd(b.resreq);void 0!==b.nav&&this.navigate(b.nav);void 0!==b.requestvisitorvideo&&this.Tb();void 0!==b.ssnmessage&&qc(bc,b.ssnmessage);void 0!==
b.sessionend&&(this.Ob=b.sessionend);b.pauseparticipantvideo&&b.pauseparticipantvideo.participantnum&&"0"===b.pauseparticipantvideo.participantnum&&Pd(this.v);b.videosize&&Vd(this.v,b.videosize.size)};u.prototype.Hd=function(b){cd(b.url,b.accepttype,q.a(),q.u(),q.G,q.B("UR"))};u.prototype.fe=function(b){null===b.getAttribute("tabIndex")&&(b.setAttribute("tabIndex",0),H(window,"setTimeout",function(){b.removeAttribute("tabIndex")},1E3));b.focus()};u.prototype.Tb=function(b){X("Visitor video requested");
Jd(this.v)||N.A("visitorvideorequested",{accept:(d,f)=>{d.video=d.video||b||"small";this.ia({visitorvideorequest:"accepted"});Td(this.v,d,f)},decline:d=>{this.ia({visitorvideorequest:"declined"});d.video=d.video||b||"small";d.paused=!0;Td(this.v,d)}})};u.prototype.navigate=function(b){var d=this;if(this.h){switch(b.url){case "f":window.history.forward();return;case "b":window.history.back();return;case "r":window.location.href=window.location.href;return}var f=new URL(b.url,window.location.href);
if(L(f.hostname)!==L(window.location.hostname)&&!Oa(f.hostname,q.info.trusteddomains)||b.url.includes("@"))throw Error("ERR_UNTRUSTED_NAV_URL "+b.url);b.url=f.href;b.confirm?(b.accept=function(){delete b.confirm;d.navigate(b)},N.A("confirm",b)):b.open?(f=b.open,window.open(b.url,f.target,f.features)):b.link?(f=document.createElement("a"),f.style.display="none",f.href=b.url,f.target=b.link.target,document.body.appendChild(f),f.click(),f.remove()):window.location.href=b.url}};u.prototype.bd=function(b){var d=
this;N.A("rcrequested",{accept:function(){d.B(!0);d.ia({rcrequest:"accepted"})},decline:function(){d.ia({rcrequest:"declined"})},selective:b})};u.prototype.de=function(){N.A("docsharerequested",{onpreviewconfirm:()=>{this.N({docsharepreview:{enabled:!0}})},onpreviewcancel:()=>{this.N({docsharepreview:{enabled:!1}})},onconfirm:()=>{this.N({docshare:{enabled:!0}})},oncancel:()=>{this.N({docshare:{enabled:!1}})}})};u.prototype.ee=function(b){Oa(b.url,q.info.trusteddomains)?(l.Bb={ve:L(b.url)!==L(window.location.href),
destination:b.url},b.accept=()=>{if(l.Bb.ve)return Y.crossDomain().then(function(){window.location=l.Bb.destination});window.location=l.Bb.destination;return Promise.resolve()},N.A("navassistrequested",b)):S("Navigation Assist:  Domain not trusted")};u.prototype.Bd=function(b){var d=b.name,f=b.n;this.j[d]||(this.j[d]={showdl:b.type,agentselected:!0,nmsgs:b.nmsgs,parts:{}},N.A("filedownloading"));this.j[d].parts[f]=b.doc;if(Object.keys(this.j[d].parts).length===this.j[d].nmsgs){f="";for(let h=0;h<
b.nmsgs;h++)f+=this.j[d].parts[h];d=b.download&&"true"===b.download&&b.mimetype;switch(b.type){case "PDF":Gd(l.ta,{data:f,showdl:d,name:b.name,agentselected:!0,download:b.download});break;case "XLS":Dd(l.ta,{data:f,showdl:d,name:b.name,agentselected:!0,download:b.download})}N.A("filedownloaded");this.j={}}else 0<f&&!this.j[d].parts[f-1]&&(S("Error: incomplete document"),this.j={},N.A("filedownloaded"))};u.prototype.Na=function(b){this.ca!==b&&(this.ca=b,this.Ra({Fb:{enabled:this.ca}}),this.S.ma("accessibility",
{enabled:b}),l&&r.Z())};u.prototype.Sc=function(b){if(b&&void 0!==b.mtype)if("close"===b.mtype)M("Session ended, reason: "+b.data.reason),"1003"==b.data.reason&&S("ERR_UNAUTHORIZED"),w.c(!1),this.Ma();else if("BL"===b.mtype)q.oa(),q.va();else if(q.f(!1)&&("MS"===b.mtype&&this.Yb(b.data),"SU"===b.mtype)){var d=b.data.state;b=b.data.messages;d.rc&&this.B(d.rc.enabled);d.accessibility&&this.Na(d.accessibility.enabled);d.agents&&this.S.ma("agents",d.agents)&&this.jd(d.agents);void 0!==d.ssvisitor&&J.b(d.ssvisitor,
J.prototype.H);void 0!==d.visitorscreenshare&&"accepted"==d.visitorscreenshare.status&&"started"!=this.g.status&&(he(this.g),N.A("visitorscreensharerequested",{accept:()=>{let h=d.visitorscreenshare.descriptor;h?this.Cb(d.visitorscreenshare.screensharesurfaces,d.visitorscreenshare.initialvideostate,h):this.Cb(d.visitorscreenshare.screensharesurfaces,d.visitorscreenshare.initialvideostate)},decline:()=>{this.wc()}}));d.visitorvideo&&!this.v.getState()&&Ud(this.v,d.visitorvideo);J.b(ma(d),J.prototype.u);
for(var f=0;b&&f<b.length;f++)this.Yb(b[f]);void 0!==d.user&&Ga(d.user,this.rb);this.Qb||(w.h("statereceived"),this.Qb=!0)}};u.prototype.Cb=function(b,d=null,f=null){null==d?(d="undefined"!==typeof this.v.getState()?this.v.getState().video:"",this.g.start(b,d,f)):this.g.start(b,d,f)};u.prototype.wc=function(){he(this.g)};u.prototype.Rb=function(){ie(this.g)};u.prototype.jd=function(b){var d=this.v,f=b.count;d.j!==f&&(d.j=f,d.b&&d.b.setAccepterCount(f));w.ia(b);!this.Qb||this.je||O||Jd(this.v)||!w.ya()||
(X("Agent joined a session that starts with video:",w.a.video,"camerastatus:",w.a.camerastatus),w.a.videosource||w.a.camerastatus&&"available"!==w.a.camerastatus?(X("Camera settings already specified, start video"),Td(this.v,{video:w.a.video,videosource:w.a.videosource,previewelementid:w.a.previewelementid,paused:w.a.videopaused,camerastatus:w.a.camerastatus,videobgfilter:w.a.videobgfilter,videobgtype:w.a.videobgtype},w.g),delete w.g):(X("Prompt for camera settings"),this.Tb(w.a.video)),this.je=!0)};
u.prototype.Ja=function(b){if(b.target!==document&&l.P&&ec(l.P,b.target)){var d=U(b.target),f=l.P;b=Gb(f);f=f.W();var h=Gb(d);d=d.W();b.x+f.width>h.x+d.width||b.x<h.x||b.y+f.height>h.y+d.height||b.y<h.y?this.C.Ia():this.C.Xa(l.P)}};u.prototype.Ad=function(b){if(b.moveTo){var d=ia(b.G);O?(d=d.getBoundingClientRect(),b.moveTo.x+=d.left,b.moveTo.y+=d.top,this.c.Ec(b.moveTo.x,b.moveTo.y)):(d=Gb(U(d)),b.moveTo.x+=d.x,b.moveTo.y+=d.y,d=Ib(A),b.moveTo.x-=d.x,b.moveTo.y-=d.y,this.c.moveTo(b.moveTo.x,b.moveTo.y))}else b.Wc&&
this.c.show(b.Wc.show)};u.prototype.fd=function(b){if(b.rect){var d=ia(b.G);O?(d=d.getBoundingClientRect(),b.rect.x+=d.left,b.rect.y+=d.top,this.C.Dc(b.rect)):(d=Gb(U(d)),b.rect.x+=d.x,b.rect.y+=d.y,this.C.cc(b.rect))}else b.Ya?this.C.Ya():b.Aa?this.C.Aa():b.ra?this.C.ra(b.ra.opacity):b.Ia&&this.C.Ia()};u.prototype.pd=function(b,d){function f(){h.H&&(h.H.element.setAttribute(d.attr,h.H.ge),delete h.H)}var h=this;this.H&&(H(window,"clearTimeout",this.H.na),f());this.H={element:b,ge:b.getAttribute(d.attr)};
b.setAttribute(d.attr,d.attrval);this.H.na=H(window,"setTimeout",function(){f()},5E3)};u.prototype.qd=function(b){delete this.P;var d;if(b.url===window.location.href.replace(/\?.*/g,""))if(void 0!==b.element&&(d=Mb(U(A.o.documentElement),b.element)),"attr"===b.gesttype)this.C.Ia(),this.pd(d,b);else{if(void 0!==b.p1){d=Kb(A,b.p1.relative,b.p1.client);var f=Kb(A,b.p2.relative,b.p2.client);var h=oa();hc(this.C,Math.min(d.x,f.x)-h.x,Math.min(d.y,f.y)-h.y);fc(this.C,Math.abs(d.x-f.x),Math.abs(d.y-f.y));
d=this.C;d.element.className=d.element.className.replace(/\s+elem_gest/g,"")}else d&&(this.P=U(d),this.C.Xa(this.P),this.ca&&this.fe(d));this.C.ra(100);b.gesturedone&&this.C.Ya()}};u.prototype.N=function(b){this.send("CS",b)};J.getState=function(){if(J.Xc){delete this.Xc;var b={},d;for(d in J.a)b[d]=J.a[d].state;return b}};J.b=function(b,d){for(var f in b)J.a[f]||(J.a[f]=new J(f)),d.call(J.a[f],b[f])};J.f=function(){for(var b in J.a)J.a[b].blur()};J.g=function(){for(var b in J.a)J.a[b].close()};J.c=
function(b,d,f){for(var h in J.a)null!==J.a[h].X&&J.a[h].X.contentWindow===d&&f.call(J.a[h],b)};J.a={};J.prototype.c=function(b,d,f,h){X("Screenshare.setVisitorState",b);this.state={status:b,ssnid:d,joinurl:h,agentnum:f};J.Xc=!0;r.Z()};J.prototype.g=function(){return this.state&&this.state.status};J.prototype.H=function(b){this.state||(this.state=b)};J.prototype.u=function(b){var d=this.b;null===b.ssnid?d&&null!==d.ssnid?(this.close(),this.c(""),delete this.b):l.S.screenshare.ma(this.a,{state:b.error?
"still-error":"still-ended",screenshareView:this.a}):b.error?l.S.screenshare.ma(this.a,{state:"error",screenshareView:this.a}):(d&&b.ssnid!==d.ssnid&&(d=null,this.close(),this.c("")),this.b=b,d?b.paused!==d.paused&&(l.S.screenshare[this.a].paused=b.paused,N.A(b.paused?"screensharepaused":"screenshareresumed",{screenshareView:this.a})):"reverse"===b.params.type&&this.g()||(this.f=b.joinurl||id(K,"cobrowse/JoinScreenshare.ashx?ssnid="+b.ssnid+"&gid=1000&novcentermobile=1"),"reverse"===b.params.type?
this.T():this.K(b)))};J.prototype.accept=function(){this.c("accepted");window.open(this.f)};J.prototype.h=function(){this.c("declined")};J.prototype.blur=function(){this.b&&"forward"===this.b.params.type&&(this.X&&this.X.contentWindow&&(Ma(this.X.contentWindow,"glance_viewer",{close:!0}),this.X.src=""),delete this.b)};J.prototype.close=function(){this.b&&("forward"===this.b.params.type?(this.X&&this.X.contentWindow&&(Ma(this.X.contentWindow,"glance_viewer",{close:!0}),this.X.src=""),l.S.screenshare.ma(this.a,
{state:"ended",screenshareView:this.a})):N.A("reverseended",{}))};J.prototype.T=function(){var b=this;N.A("reverseconfirm",{accept:function(){b.accept()},decline:function(){b.h()}})};J.prototype.K=function(b){var d=b.ssnid,f=b.params,h=!this.g()||this.state.ssnid!==d;if(this.X){var m=l.v;this.a!==(m.a&&m.a.visitorvideoelementid)&&(this.X.src=this.f.replace("{guestid}","0").replace("{role}","visitor"));this.X.setAttribute("data-src",this.f);b.agentnum&&this.X.setAttribute("data-agentnum",b.agentnum)}h&&
this.c("joined",d,b.agentnum,b.joinurl);f.size&&(b=f.size,m=d=0,b&&((m=b.match(/(\d+)x(\d+)/))&&3===m.length||M("ERR_INVALIDDIMS:"+b),d=m[1],m=m[2]),f.width=d,f.height=m);l.S.screenshare.ma(this.a,{screenshareView:this.a,agentnum:this.b.agentnum,state:h?"new":"continued",paused:this.b.paused,params:f})};J.prototype.j=function(){var b=this;H(window,"setTimeout",function(){b.close()},1E3);this.c("joined");w.Ha()};J.prototype.B=function(b){X(`Screenshare ${this.a} received message ${JSON.stringify(b)} from player`);
b.closed?l&&l.S.screenshare.ma(this.a,{state:"ended",screenshareView:this.a}):(b.closereason&&N.A("viewerclosing",{screenshareView:this.a,closereason:b.closereason}),N.A("viewerinfo",{screenshareView:this.a,screen:b.screen,scaledview:b.scaledview,stats:b.stats}))};P.prototype.da=async function(){ra&&!O&&(Date.now(),await ra._uiready,Date.now())};P.prototype.Ud=function(){return l.S.visitorvideo&&l.S.visitorvideo.video?l.S.visitorvideo.video:"off"};P.prototype.fireEvent=function(b,d){N.A(b,d);"visitordownload"===
b&&l.send("DOC",{docdownloaded:!0,name:d.name})};P.prototype.j=async function(b){function d(){l.be(b)}function f(m){return l&&l.$c(b,m)}if("5.8.2.1"!==q.m.ver)this.V(nb,"ERR_VERSION:5.8.2.1");else{b&&!O&&this.V(Xc,"SSN_PROVISIONED");var h=await this.H();l=new u(h);"1"===K.startpaused?l.ac(!0):this.f||r.N("sessionpaused",{paused:!1});O?d():l.ad(d,f)}};P.prototype.h=function(b,d){Y.readyState=Y.READYSTATE[b];N.A(b,d)};P.prototype.B=function(){return Y.readyState<Y.READYSTATE.statereceived?(M("ERR_STATE current:"+
Y.readyState+" expected:statereceived"),!1):!0};P.c=29;P.a=32;P.b=34;P.prototype.ca=function(b,d){if(q.m&&q.a()){var f=q.m.callId,h=`https://${K.sa}/services/InternalService.asmx/${f?"ViewerError2":"ViewerError"}`,m=Ya,t=new Ta("XML");b={callid:f,ssnid:q.a(),client_num:0,message:Ha()+" "+d,err_code:b};d=[];for(var p in b)b.hasOwnProperty(p)&&d.push(encodeURIComponent(p)+"="+encodeURIComponent(b[p]));m(t,h,d.join("&"),!0,!1)}};var Xc="INTERESTING",nb="ABNORMAL";P.prototype.V=function(b,d){M("SESSION:"+
d);if(q.m&&q.m.server){var f=new Ta("JSON");f.h=q.u();Ya(f,q.B("LG"),{ssnid:q.a(),level:b,msg:d},!0,!1,function(){},function(){})}};P.prototype.u=function(b,d,f){b&&(M(b),N.A("error",{code:d,msg:b,params:f}));var h=1;switch(d){case "conndrop":h=P.b;break;case "service":h=P.a}this.ca(h,b+" "+JSON.stringify(f)+" on "+window.location.href);w.c(!1,"error")};P.prototype.ya=function(){return this.a&&this.a.video&&"off"!==this.a.video};P.prototype.Gd=function(b){X("Adding callstate for screenshare:",`ssagent-${b.view}`);
r.N(`ssagent-${b.view}`,b)};P.prototype.c=function(b,d){var f=b?"visitor":"agent";null!=l&&(l.Ob&&(f=l.Ob.reason),l.kd(b),l=null);d&&(f=d);this.T();q.clear();q=new a(K);1!==this.state&&(this.state=1,this.h("sessionend",{reason:f}))};P.prototype.ia=function(b){q.ua(b)&&(q.Na(b),this.H().then(d=>{l.Pb(d)}))};P.prototype.H=async function(){let b={};try{return window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.getMaskingDescriptor&&(b=await window.GLANCE_COBROWSE.getMaskingDescriptor({agents:q.wa()})),b.maskedelements=
b.maskedelements||[],b.unmaskedelements=b.unmaskedelements||[],b}catch(d){return console.error("getMaskingDescriptor failed: ",d.message),this.fireEvent("maskingerror",{reason:d.message}),{maskpage:!0,maskedelements:[],unmaskedelements:[]}}};P.prototype.K=function(){q.load(function(){w.j(!1)},function(b){w.u(b,"service")})};P.prototype.wa=function(){this.ga=!0};P.prototype.Ha=function(){O?this.b(window.top,{Ha:1}):q.g()?q.f(!0)||(q.ia(),N.A("focus"),l?(l.Ma(),l.pb("focus")):this.K()):q.h()&&this.c(!1)};
P.prototype.va=function(b,d){if(b.glance_viewer)J.c(b.glance_viewer,d,J.prototype.B);else if(b.glance_join)J.c(b.glance_join,J.prototype.j);else if(b.glance_iframe)this.ua(b.glance_iframe,d);else return!1;return!0};P.prototype.b=function(b,d){var f={};f.glance_iframe=d;b.postMessage(f,"*")};P.prototype.ua=function(b,d){b.re&&this.c();if(b.sb&&l)switch(b.sb){case "PDF":Gd(l.ta,b.params);break;case "XLS":Dd(l.ta,b.params)}if(b.lb&&l)l.fd(b.lb);else if(b.jb&&l)JSON.stringify(b.jb),l.Ad(b.jb);else{b.oc&&
null!==l&&(O?w.b(window.parent,b):l&&l.a&&l.a.Uc(b.oc));b.$a&&null!==l&&(b.$a.frameid===q.G?l.Sc(b.$a):l.yc(b.$a));b.Eb&&null!==l&&!Db(yb(A,A.Y))&&(A.Eb(),l.s.R("mouse"));if(b.Da){b.Da.he.ba&&null!==l&&w.c(!1);q.Oa(b.Da.m);q.Sa(b.Da.se);if(!q.h())throw Error("ERR_WRONG_GROUP");q.G=b.Da.G;q.Ma();l||H(window,"setTimeout",function(){l||w.j(!0)},0)}b.kb&&(l?l.B(b.kb.enabled):q.Ra(b.kb.enabled));b.Fb&&(l?l.Na(b.Fb.enabled):q.Qa(b.Fb.enabled));b.Zd&&l&&q.f()&&l.pc&&l.Da({ba:!1},d);b.Ha&&this.Ha()}};P.prototype.oa=
async function(b){await this.da();"string"===typeof b?b={sessionKey:b}:b||(b=w.xa);1===w.state?(this.h("sessionstarting"),w.state=2,w.g=b&&b.glanceVideo||w.g,q.start(b,function(){w.j(!0)},function(d,f){w.u(d,f||"service")})):M("ERR_ALREADYINSSN")};P.prototype.N=function(b){l&&null!=l&&l.N(b)};ra&&ra._eventListeners&&(sc(N,ra._eventListeners),delete ra._eventListeners);Y.init=function(){if(!Vc&&(K=new fd,null!==K.$)){Vc=!0;q=new a(K);le.set();D=u.b();D.addEventListener.call(window,"message",je,!1);
w=new P;ac=new fa;K.useIFrameProxy&&(ba=!0,za(K.f),Ka("message",ab,!1),za(K.f),Ka("message",Ca,!1));O?w.b(window.parent,{Zd:!0}):q.g()&&!zb(A)&&(q.ia(),w.K());if(ra){var b=ra._onload.Visitor;b&&b()}N.A("ready")}};Y.setCookieValue=function(b,d){q.Pa(b,d)};Y.getCookieValue=function(b){return q.T(b)};Y.startSession=function(b){if(O)throw Error("startSession in iframe");w.oa(b)};Y.inSession=function(){return q&&null!==q.key()};Y.sessionGroupId=function(){return q.groupId()};Y.continueSessionAt=function(b){Wc.Nd({destination:b.destination,
bc:b.destinationurl,oncomplete:b.oncomplete,Ee:b.iewarningsuppressed})};Y.crossDomain=function(b){Rc("GLANCE.Cobrowse.Visitor.crossDomain called");if(!l)return Promise.resolve();b=b||{};return $d(l.Fa,b.url,b.target)};Y.isCrossDomainDone=function(){return l?fe(l.Fa):!1};Y.getKey=function(){return q.key()};Y.isRandomKey=function(){return!q.Ib()};Y.isPageMasked=function(){return l&&l.u};Y.getStartParams=function(){w.a||(w.a=q.T("startparams"));return w.a};Y.setCameraSettings=function(b){Object.entries(b).forEach(([d,
f])=>{w.a[d]=f})};Y.setGlanceVideoSource=function(b){w.g=b||w.g};Y.setUserState=function(b,d){if(!w.B())return!1;l.rb.te(b,d);return!0};Y.getUserState=function(b){return w.B()?l.rb.getState(b):null};Y.getSessionState=function(b,d){return w.B()?l.S.getState(b,d):null};Y._reconnect=function(){!l||l.a&&l.a.readyState===SockJS.OPEN||l.pb()};Y.stopSession=function(){w.c(!0)};Y.setStartParams=function(b){w.xa=b};Y.enableRC=function(b){l&&l.B(b)};Y.startVideo=function(b,d){l&&Td(l.v,b,d)};Y.stopVideo=function(){l&&
Od(l.v)};Y.toggleVideo=function(){if(l){var b=l.v;X("toggleSession state:",b.state,"error:",b.a.error,"camera status:",b.a.camerastatus);if(b.a.error||"blocked"===b.a.camerastatus||"error"===b.a.camerastatus)delete b.a.error,b.a.camerastatus="available",b.state=Rd,Td(b,b.a);else switch(b.state){case Nd:b.a.paused?Xd(b):Pd(b)}}};Y.toggleVideoSize=function(){l&&Wd(l.v)};Y.largeVideo=function(){l&&Vd(l.v,"large")};Y.smallVideo=function(){l&&Vd(l.v,"small")};Y.setVideoBgFilterActive=function(b){l&&Qd(l.v,
b)};Y.onStopped=function(b){w.T=b};Y.addEventListener=function(b,d){O||N.add(b,d)};Y.removeEventListener=function(b,d){N.remove(b,d)};Y.addSessionMessageHandler=function(b,d){bc.a["^"+b+"$"]=d};Y.addSessionMessageListener=function(b,d){bc.a["^"+b+"$"]=d};Y.sendSessionMessage=function(b,d){if(!l)throw Error("No session");d.messageName=b;l.ia(d)};Y.readyState=0;Y.READYSTATE={sessionstarting:1,sessionstart:2,sessioncontinue:3,statereceived:4,sessionend:5};Y.viewPDF=function(b){"string"===typeof b&&(b=
{url:b});window.self===window.top||b.preview?Gd(l.ta,b):w.b(window.top,{sb:"PDF",params:b})};Y.viewXLS=function(b){window.self===window.top||b.preview?Dd(l.ta,b):w.b(window.top,{sb:"XLS",params:b})};Y.canSendDocument=function(){return!0===q.info.docshareagentdl};Y.getCallId=function(){return q.m.callId};Y.sendDocument=function(b){if(q.info.docshareagentdl)if(od(b))if(5>b.size/1048576){var d=new FileReader;d.onload=f=>{f=f.target.result;for(var h=Math.ceil(f.length/5E5),m=[],t=0;t<h;t++){var p=5E5*
t;m.push(f.slice(p,p+5E5))}m.forEach((y,x)=>{l.send("DOC",{doc:y,type:b.type,name:b.name,nmsgs:h,n:x})})};d.readAsBinaryString(b)}else M("File too large: "+b.size),w.fireEvent("documentnotsent",{name:b.name,reason:"File size limit exceeded",size:b.size});else M("Unsupported file type: "+b.type);else M("Not enabled")};Y.pauseSession=function(b){l&&l.ac(!!b.pause,b.message)};Y.isSessionPaused=function(){return l&&l.f};Y.notifyChanged=function(b){l&&(b.styles&&l.ua.now(b.styles),b.canvas&&l.Ea.now(b.canvas))};
Y.loaded=!0;var cc=window.GLANCE.Cobrowse.VisitorUI;Y.showButton=function(b){cc.showButton(b)};Y.toggleButton=function(){cc.toggleButton()};Y.showTerms=function(b){cc.showTerms(b)}})();Ob(new db(window),function(){Y&&Y.init()});function he(a){let c={visitorscreenshare:{status:"stopped",visitorscreensharerequested:"true"}};a.ja&&null!=a.ja&&(c.visitorscreenshare.descriptor=a.ja);a.b.N(c)}function ie(a){a.a&&a.a.pause();a.b&&null!=a.b&&(a.c?a.c=!1:he(a));"undefined"!==typeof a.b.v.getState()&&a.b.v.getState().video!=a.f&&Wd(a.b.v);a.status="stopped"}function me(a,c,e){a.j.A("visitorscreensharesurfacenotallowed",{accept:()=>{a.start(c,e)},decline:()=>{a.c=!1;a.stop()}})}
class ge{constructor(a,c,e){this.b=a;this.L=c;this.status="notstarted";this.a=null;this.j=e;this.c=!1;this.g="";this.h=!1}async start(a,c,e){this.f=c;e&&null!=e&&(this.ja=e);"notstarted"==this.status?(this.status="accepted",await this.create(a,c)?e&&null!=e||this.a.startSession():he(this)):"stopped"==this.status&&(this.status="started",this.a.unPause())}async create(a,c){return new Promise(e=>{let g={screenshare:!0,ss:{width:500,height:200},isAnonymous:!0,groupid:this.L.groupId(),role:"visitor",sessionkey:this.L.key()+
"S"+Math.floor(1E6*Math.random()).toString().padStart(6,"0"),maincallid:this.L.m.callId.toString(),vserver:`https://${this.L.info.vserver||"video.glance.net"}/`};this.a=new window.parent.GLANCE.Video.GlanceVideoSource(g);this.a.addEventListener("initialized",()=>{this.ja&&null!=this.ja&&this.a.resumeSession(this.ja);this.h=!0;e(!0)});this.a.addEventListener("error",()=>{this.h?this.status="stopped":(delete this.a,this.status="notstarted");e(!1)});this.a.addEventListener("sessionStarted",k=>{this.g=
ha(k.descriptor.url,2);this.ja=k.ja;k={visitorscreenshare:{status:"accepted",joinurl:this.g,screensharesurfaces:a,initialvideostate:c,visitorscreensharerequested:"true",descriptor:JSON.stringify(k.ja)}};this.b.N(k);this.status="started";Vd(this.b.v,"small");e(!0)});this.a.addEventListener("sessionPaused",()=>{ie(this)});this.a.addEventListener("sessionUnpaused",()=>{let k={visitorscreenshare:{status:"accepted",joinurl:this.g,screensharesurfaces:a,initialvideostate:c,visitorscreensharerequested:"true",
descriptor:JSON.stringify(this.ja)}};this.b.N(k);this.a.unPause();Vd(this.b.v,"small");this.status="started"});this.a.addEventListener("invalidsurface",()=>{this.c=!0;me(this,a,this.f)});this.a.initialize(null,document.getElementById("glance_visitor_screensharepreview"))})}stop(){this.a&&this.a.endSession();this.b&&null!=this.b&&(this.c?this.c=!1:he(this));this.b.v.getState().video!=this.f&&Wd(this.b.v);this.status="stopped";delete this.a}};
}).call(window); 
