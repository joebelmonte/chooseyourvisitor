var SockJS;
/* sockjs-client v1.0.3 | http://sockjs.org | MIT license */
!function(t){SockJS=t()}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e){"use strict";function n(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],3:[function(t,e){"use strict";function n(){i.call(this)}var r=t("inherits"),i=t("./eventtarget");r(n,i),n.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},n.prototype.once=function(t,e){function n(){r.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}var r=this,i=!1;this.on(t,n)},n.prototype.emit=function(t){var e=this._listeners[t];if(e)for(var n=Array.prototype.slice.call(arguments,1),r=0;r<e.length;r++)e[r].apply(this,n)},n.prototype.on=n.prototype.addListener=i.prototype.addEventListener,n.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=n},{"./eventtarget":5,inherits:54}],4:[function(t,e){"use strict";function n(t){this.type=t}n.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,e.exports=n},{}],5:[function(t,e){"use strict";function n(){this._listeners={}}n.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},n.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},n.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=n},{}],6:[function(t,e){"use strict";function n(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],7:[function(t,e){"use strict";function n(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var r=t("json3"),i=t("./utils/iframe");n.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},n.prototype._transportMessage=function(t){i.postMessage("t",t)},n.prototype._send=function(t){this._transport.send(t)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=n},{"./utils/iframe":47,json3:55}],8:[function(t,e){"use strict";var n=t("./utils/url"),r=t("./utils/event"),i=t("json3"),o=t("./facade"),s=t("./info-iframe-receiver"),a=t("./utils/iframe"),u=t("./location");e.exports=function(t,e){var l={};e.forEach(function(t){t.facadeTransport&&(l[t.facadeTransport.transportName]=t.facadeTransport)}),l[s.transportName]=s;var c;t.bootstrap_iframe=function(){var e;a.currentWindowId=u.hash.slice(1);var s=function(r){if(r.source===parent&&("undefined"==typeof c&&(c=r.origin),r.origin===c)){var s;try{s=i.parse(r.data)}catch(f){return}if(s.windowId===a.currentWindowId)switch(s.type){case"s":var h;try{h=i.parse(s.data)}catch(f){break}var d=h[0],p=h[1],v=h[2],m=h[3];if(d!==t.version)throw new Error('Incompatibile SockJS! Main site uses: "'+d+'", the iframe: "'+t.version+'".');if(!n.isOriginEqual(v,u.href)||!n.isOriginEqual(m,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+v+", "+m+")");e=new o(new l[p](v,m));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}};r.attachEvent("message",s),a.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0,json3:55}],9:[function(t,e){"use strict";function n(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(u){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()})}var r=t("events").EventEmitter,i=t("inherits"),o=t("json3"),s=t("./utils/object");i(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=n},{"./utils/object":49,debug:void 0,events:3,inherits:54,json3:55}],10:[function(t,e){"use strict";function n(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))})}var r=t("inherits"),i=t("events").EventEmitter,o=t("json3"),s=t("./transport/sender/xhr-local"),a=t("./info-ajax");r(n,i),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=n},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(t,e){(function(n){"use strict";function r(t,e){var r=this;i.call(this);var o=function(){var n=r.ifr=new u(l.transportName,e,t);n.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(n){return r.emit("finish"),void r.close()}var i=e[0],o=e[1];r.emit("finish",i,o)}r.close()}),n.once("close",function(){r.emit("finish"),r.close()})};n.document.body?o():a.attachEvent("load",o)}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/event"),u=t("./transport/iframe"),l=t("./info-iframe-receiver");o(r,i),r.enabled=function(){return u.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54,json3:55}],12:[function(t,e){"use strict";function n(t,e){var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var r=t("events").EventEmitter,i=t("inherits"),o=t("./utils/url"),s=t("./transport/sender/xdr"),a=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),l=t("./transport/sender/xhr-fake"),c=t("./info-iframe"),f=t("./info-ajax");i(n,r),n._getReceiver=function(t,e,n){return n.sameOrigin?new f(e,u):a.enabled?new f(e,a):s.enabled&&n.sameScheme?new f(e,s):c.enabled()?new c(t,e):new f(e,l)},n.prototype.doXhr=function(t,e){var r=this,i=o.addPath(t,"/info");this.xo=n._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},n.timeout),this.xo.once("finish",function(t,e){r._cleanup(!0),r.emit("finish",t,e)})},n.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},n.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},n.timeout=8e3,e.exports=n},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(t,e){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e){(function(n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");b.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&m.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return l.string(i)}}this._server=n.server||l.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===g.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var u=e.sort();u.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<u.length-1&&t===u[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var c=f.getOrigin(g.href);this._origin=c?c.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!v.hasDomain(),sameOrigin:f.isOriginEqual(this.url,g.href),sameScheme:f.isSchemeEqual(this.url,g.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&4999>=t}t("./shims");var o,s=t("url-parse"),a=t("inherits"),u=t("json3"),l=t("./utils/random"),c=t("./utils/escape"),f=t("./utils/url"),h=t("./utils/event"),d=t("./utils/transport"),p=t("./utils/object"),v=t("./utils/browser"),m=t("./utils/log"),y=t("./event/event"),b=t("./event/eventtarget"),g=t("./location"),w=t("./event/close"),x=t("./event/trans-message"),_=t("./info-receiver");a(r,b),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){var n=!0;this._close(t||1e3,e||"Normal closure",n)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(c.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=p.extend(t,this._urlInfo);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.needBody&&(!n.document.body||"undefined"!=typeof n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=new t(r,this._transUrl);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new y("heartbeat"))}if(i)try{e=u.parse(i)}catch(o){}if("undefined"!=typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){n.dispatchEvent(new x(t))});break;case"m":this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){return this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),i(t)||2e3===t||this.readyState!==r.CONNECTING?void this._close(t,e):void this._connect()},r.prototype._open=function(){this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open"))):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new y("error"));var o=new w("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return o=d(e),t("./iframe-bootstrap")(r,e),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,json3:55,"url-parse":56}],15:[function(){"use strict";function t(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function e(t){return t>>>0}function n(){}var r,i=Array.prototype,o=Object.prototype,s=Function.prototype,a=String.prototype,u=i.slice,l=o.toString,c=function(t){return"[object Function]"===o.toString.call(t)},f=function(t){return"[object Array]"===l.call(t)},h=function(t){return"[object String]"===l.call(t)},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=d?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},v=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};p(s,{bind:function(t){var e=this;if(!c(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r=u.call(arguments,1),i=function(){if(this instanceof l){var n=e.apply(this,r.concat(u.call(arguments)));return Object(n)===n?n:this}return e.apply(t,r.concat(u.call(arguments)))},o=Math.max(0,e.length-r.length),s=[],a=0;o>a;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return e.prototype&&(n.prototype=e.prototype,l.prototype=new n,n.prototype=null),l}}),p(Array,{isArray:f});var m=Object("a"),y="a"!==m[0]||!(0 in m),b=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n};p(i,{forEach:function(t){var e=v(this),n=y&&h(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!c(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!b(i.forEach));var g=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(e){var n=y&&h(this)?this.split(""):v(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=t(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in n&&n[i]===e)return i;return-1}},g);var w=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];a.split=function(n,r){var o=this;if(void 0===n&&0===r)return[];if("[object RegExp]"!==l.call(n))return w.call(this,n,r);var s,a,u,c,f=[],h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),d=0;for(n=new RegExp(n.source,h+"g"),o+="",t||(s=new RegExp("^"+n.source+"$(?!\\s)",h)),r=void 0===r?-1>>>0:e(r);(a=n.exec(o))&&(u=a.index+a[0].length,!(u>d&&(f.push(o.slice(d,a.index)),!t&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<o.length&&i.push.apply(f,a.slice(1)),c=a[0].length,d=u,f.length>=r)));)n.lastIndex===a.index&&n.lastIndex++;return d===o.length?(c||!n.test(""))&&f.push(""):f.push(o.slice(d)),f.length>r?f.slice(0,r):f}}():"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:w.call(this,t,e)});var x="	\n\f\r   ᠎             　\u2028\u2029﻿",_="​",E="["+x+"]",j=new RegExp("^"+E+E+"*"),T=new RegExp(E+E+"*$"),S=a.trim&&(x.trim()||!_.trim());p(a,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(j,"").replace(T,"")}},S);var O=a.substr,C="".substr&&"b"!=="0b".substr(-1);p(a,{substr:function(t,e){return O.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},C)},{}],16:[function(t,e){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e){(function(n){"use strict";function r(t,e,n,r){var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),u=n.XMLHttpRequest;o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new u}catch(l){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(c){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(this.xhr.withCredentials="true"),i&&i.headers)for(var f in i.headers)this.xhr.setRequestHeader(f,i.headers[f]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(n.readyState){case 3:try{e=n.status,t=n.responseText}catch(r){}1223===e&&(e=204),200===e&&t&&t.length>0&&o.emit("chunk",e,t);break;case 4:e=n.status,1223===e&&(e=204),(12005===e||12029===e)&&(e=0),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(c){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!!u;var l=["Active"].concat("Object").join("X");!r.enabled&&l in n&&(u=function(){try{return new n[l]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new u);var c=!1;try{c="withCredentials"in new u}catch(f){}r.supportsCORS=c,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(t,e){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e){(function(t){e.exports=t.WebSocket||t.MozWebSocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e){"use strict";function n(t){if(!n.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/eventsource"),s=t("./sender/xhr-cors"),a=t("eventsource");r(n,i),n.enabled=function(){return!!a},n.transportName="eventsource",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e){"use strict";function n(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}var r=t("inherits"),i=t("./receiver/htmlfile"),o=t("./sender/xhr-local"),s=t("./lib/ajax-based");r(n,s),n.enabled=function(t){return i.enabled&&t.sameOrigin},n.transportName="htmlfile",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e){"use strict";function n(t,e,r){if(!n.enabled())throw new Error("Transport created when disabled");o.call(this);var i=this;this.origin=a.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=c.string(8);var s=a.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(s,function(t){i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var r=t("inherits"),i=t("json3"),o=t("events").EventEmitter,s=t("../version"),a=t("../utils/url"),u=t("../utils/iframe"),l=t("../utils/event"),c=t("../utils/random");r(n,o),n.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},n.prototype._message=function(t){if(a.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(n){return}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=i.parse(e.data)}catch(n){return}this.emit("close",r[0],r[1]),this.close()}}},n.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},n.prototype.send=function(t){this.postMessage("m",t)},n.enabled=function(){return u.iframeEnabled},n.transportName="iframe",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54,json3:55}],23:[function(t,e){(function(n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e){"use strict";function n(t){return function(e,n,r){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var s=o.addPath(e,"/xhr_send"),a=new t("POST",s,n,i);return a.once("finish",function(t){return a=null,200!==t&&204!==t?r(new Error("http status "+t)):void r()}),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function r(t,e,r,i){s.call(this,t,e,n(i),r,i)}var i=t("inherits"),o=t("../../utils/url"),s=t("./sender-receiver");i(r,s),e.exports=r},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(t,e){"use strict";function n(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)},n.prototype.sendSchedule=function(){var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup()):t.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.stop=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=n},{debug:void 0,events:3,inherits:54}],26:[function(t,e){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e){"use strict";function n(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){t.emit("message",e)}),e.once("close",function(n,r){t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=n},{debug:void 0,events:3,inherits:54}],28:[function(t,e){"use strict";function n(t,e,n,r,a){var u=i.addPath(t,e),l=this;o.call(this,t,n),this.poll=new s(r,u,a),this.poll.on("message",function(t){l.emit("message",t)}),this.poll.once("close",function(t,e){l.poll=null,l.emit("close",t,e),l.close()})}var r=t("inherits"),i=t("../../utils/url"),o=t("./buffered-sender"),s=t("./polling");r(n,o),n.prototype.close=function(){this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},e.exports=n},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(t,e){"use strict";function n(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){e.emit("message",decodeURI(t.data))},n.onerror=function(t){var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var r=t("inherits"),i=t("events").EventEmitter,o=t("eventsource");r(n,i),n.prototype.abort=function(){this._cleanup(),this._close("user")},n.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},n.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=n},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(t,e){(function(n){"use strict";function r(t){a.call(this);var e=this;o.polluteGlobalNamespace(),this.id="a"+u.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id));var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=i(t,function(){e._cleanup(),e._close("permanent")})}var i=t("inherits"),o=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,u=t("../../utils/random");i(r,a),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},r.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in n)try{r.htmlfileEnabled=!!new n[l]("htmlfile")}catch(c){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,e){(function(n){"use strict";function r(t){var e=this;l.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=t("../../utils/iframe"),o=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),u=t("inherits"),l=t("events").EventEmitter;u(r,l),r.prototype.abort=function(){if(n[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},r.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){var e,r=this,i=this.script=n.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&n.document.attachEvent)if(s.isOpera())e=this.script2=n.document.createElement("script"),e.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;
else{try{i.htmlFor=i.id,i.event="onclick"}catch(a){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0);var u=n.document.getElementsByTagName("head")[0];u.insertBefore(i,u.firstChild),e&&u.insertBefore(e,u.firstChild)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(t,e){"use strict";function n(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()})}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(n=r.indexOf("\n"),-1===n)break;var i=r.slice(0,n);i&&this.emit("message",i)}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=n},{debug:void 0,events:3,inherits:54}],33:[function(t,e){(function(n){"use strict";function r(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(e){var r=n.document.createElement("iframe");return r.name=t,r}}function i(){o=n.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=n.document.createElement("textarea"),s.name="d",o.appendChild(s),n.document.body.appendChild(o)}var o,s,a=t("../../utils/random"),u=t("../../utils/url");e.exports=function(t,e,n){o||i();var l="a"+a.string(8);o.target=l,o.action=u.addQuery(u.addPath(t,"/jsonp_send"),"i="+l);var c=r(l);c.id=l,c.style.display="none",o.appendChild(c);try{s.value=e}catch(f){}o.submit();var h=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),s.value="",n(t))};return c.onerror=function(){h()},c.onload=function(){h()},c.onreadystatechange=function(t){"complete"===c.readyState&&h()},function(){h(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(t,e){(function(n){"use strict";function r(t,e,n){var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),u=t("../../utils/url");o(r,i),r.prototype._start=function(t,e,r){var i=this,o=new n.XDomainRequest;e=u.addQuery(e,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(a){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(t,e){"use strict";function n(t,e,n,r){i.call(this,t,e,n,r)}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled&&i.supportsCORS,e.exports=n},{"../driver/xhr":17,inherits:54}],36:[function(t,e){"use strict";function n(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},n.timeout)}var r=t("events").EventEmitter,i=t("inherits");i(n,r),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,e.exports=n},{events:3,inherits:54}],37:[function(t,e){"use strict";function n(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled,e.exports=n},{"../driver/xhr":17,inherits:54}],38:[function(t,e){"use strict";function n(t){if(!n.enabled())throw new Error("Transport created when disabled");s.call(this);var e=this,o=i.addPath(t,"/websocket");o="https"===o.slice(0,5)?"wss"+o.slice(5):"ws"+o.slice(4),this.url=o,this.ws=new a(this.url),this.ws.onmessage=function(t){e.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){e.ws.close()}),this.ws.onclose=function(t){e.emit("close",t.code,t.reason),e._cleanup()},this.ws.onerror=function(t){e.emit("close",1006,"WebSocket connection broken"),e._cleanup()}}var r=t("../utils/event"),i=t("../utils/url"),o=t("inherits"),s=t("events").EventEmitter,a=t("./driver/websocket");o(n,s),n.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},n.prototype.close=function(){this.ws&&this.ws.close(),this._cleanup()},n.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},n.enabled=function(){return!!a},n.transportName="websocket",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(t,e){"use strict";function n(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./xdr-streaming"),s=t("./receiver/xhr"),a=t("./sender/xdr");r(n,i),n.enabled=o.enabled,n.transportName="xdr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e){"use strict";function n(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xdr");r(n,i),n.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:s.enabled&&t.sameScheme},n.transportName="xdr-streaming",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e){"use strict";function n(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xhr-cors"),a=t("./sender/xhr-local");r(n,i),n.enabled=function(t){return t.nullOrigin?!1:a.enabled&&t.sameOrigin?!0:s.enabled},n.transportName="xhr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e){(function(n){"use strict";function r(t){if(!u.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),u=t("./sender/xhr-local"),l=t("../utils/browser");i(r,o),r.enabled=function(t){return t.nullOrigin?!1:l.isOpera()?!1:a.enabled},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e){(function(t){"use strict";e.exports.randomBytes=t.crypto&&t.crypto.getRandomValues?function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e){"use strict";var n,r=t("json3"),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,o=function(t){var e,n={},r=[];for(e=0;65536>e;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};e.exports={quote:function(t){var e=r.stringify(t);return i.lastIndex=0,i.test(e)?(n||(n=o(i)),e.replace(i,function(t){return n[t]})):e}}},{json3:55}],46:[function(t,e){(function(n){"use strict";var r=t("./random"),i={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};var a=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e){(function(n){"use strict";var r=t("./event"),i=t("json3"),o=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,o,s=n.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},u=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},l=function(t){s&&(u(),e(t))},c=function(t,e){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)},0)}catch(n){}};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){l("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},n.document.body.appendChild(s),i=setTimeout(function(){l("timeout")},15e3),o=r.unloadAdd(u),{post:c,cleanup:u,loaded:a}},createHtmlfile:function(t,i){var o,s,a,u=["Active"].concat("Object").join("X"),l=new n[u]("htmlfile"),c=function(){clearTimeout(o),a.onerror=null},f=function(){l&&(c(),r.unloadDel(s),a.parentNode.removeChild(a),a=l=null,CollectGarbage())},h=function(t){l&&(f(),i(t))},d=function(t,e){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(n){}};l.open(),l.write('<html><script>document.domain="'+n.document.domain+'";</script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var p=l.createElement("div");return l.body.appendChild(p),a=l.createElement("iframe"),p.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},o=setTimeout(function(){h("timeout")},15e3),s=r.unloadAdd(f),{post:d,cleanup:f,loaded:c}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0,json3:55}],48:[function(t,e){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r=t.console&&t.console[e]&&t.console[e].apply;n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},{}],50:[function(t,e){"use strict";var n=t("crypto"),r="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=r.length,i=n.randomBytes(t),o=[],s=0;t>s;s++)o.push(r.substr(i[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,n=new Array(e+1).join("0");return(n+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||n.websocket!==!1)&&(e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))}),r}}}},{debug:void 0}],52:[function(t,e){"use strict";var n=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new n(t);if("file:"===e.protocol)return null;var r=e.port;return r||(r="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{debug:void 0,"url-parse":56}],53:[function(t,e){e.exports="1.0.3"},{}],54:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(e,n,r){(function(e){(function(){function i(t,e){function n(t){if(n[t]!==m)return n[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=e.stringify,c="function"==typeof u&&g;if(c){(s=function(){return 1}).toJSON=s;try{c="0"===u(0)&&"0"===u(new r)&&'""'==u(new o)&&u(b)===m&&u(m)===m&&u()===m&&"1"===u(s)&&"[1]"==u([s])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,b,null])&&u({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===u(null,s)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(f){c=!1}}i=c}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){s=h(a);var d=5==s.a.length&&1===s.a[0];if(d){try{d=!h('"	"')}catch(f){}if(d)try{d=1!==h("01")}catch(f){}if(d)try{d=1!==h("1.")}catch(f){}}}}catch(f){d=!1}i=d}}return n[t]=!!i}t||(t=u.Object()),e||(e=u.Object());var r=t.Number||u.Number,o=t.String||u.String,a=t.Object||u.Object,l=t.Date||u.Date,c=t.SyntaxError||u.SyntaxError,f=t.TypeError||u.TypeError,h=t.Math||u.Math,d=t.JSON||u.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p,v,m,y=a.prototype,b=y.toString,g=new l(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",_="[object Date]",E="[object Number]",j="[object String]",T="[object Array]",S="[object Boolean]",O=n("bug-string-char-index");if(!g)var C=h.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(t,e){return A[e]+365*(t-1970)+C((t-1969+(e=+(e>1)))/4)-C((t-1901+e)/100)+C((t-1601+e)/400)};if((p=y.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),v=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&o++;return n=r=null,o?v=2==o?function(t,e){var n,r={},i=b.call(t)==x;for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i=b.call(t)==x;for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(t,e){var n,i,o=b.call(t)==x,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),v(t,e)},!n("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",P=function(t,e){return(I+(e||0)).slice(-t)},L="\\u00",R=function(t){for(var e='"',n=0,r=t.length,i=!O||r>10,o=i&&(O?t.split(""):t);r>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=k[s];break;default:if(32>s){e+=L+P(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},U=function(t,e,n,r,i,o,s){var a,u,l,c,h,d,y,g,w,x,O,A,k,I,L,M;try{a=e[t]}catch(q){}if("object"==typeof a&&a)if(u=b.call(a),u!=_||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(u!=E&&u!=j&&u!=T||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(N){for(h=C(a/864e5),l=C(h/365.2425)+1970-1;N(l+1,0)<=h;l++);for(c=C((h-N(l,0))/30.42);N(l,c+1)<=h;c++);h=1+h-N(l,c),d=(a%864e5+864e5)%864e5,y=C(d/36e5)%24,g=C(d/6e4)%60,w=C(d/1e3)%60,x=d%1e3}else l=a.getUTCFullYear(),c=a.getUTCMonth(),h=a.getUTCDate(),y=a.getUTCHours(),g=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(0>=l||l>=1e4?(0>l?"-":"+")+P(6,0>l?-l:l):P(4,l))+"-"+P(2,c+1)+"-"+P(2,h)+"T"+P(2,y)+":"+P(2,g)+":"+P(2,w)+"."+P(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if(u=b.call(a),u==S)return""+a;if(u==E)return a>-1/0&&1/0>a?""+a:"null";if(u==j)return R(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw f();if(s.push(a),O=[],L=o,o+=i,u==T){for(k=0,I=a.length;I>k;k++)A=U(k,a,n,r,i,o,s),O.push(A===m?"null":A);M=O.length?i?"[\n"+o+O.join(",\n"+o)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else v(r||a,function(t){var e=U(t,a,n,r,i,o,s);e!==m&&O.push(R(t)+":"+(i?" ":"")+e)}),M=O.length?i?"{\n"+o+O.join(",\n"+o)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return s.pop(),M}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if((a=b.call(e))==x)i=e;else if(a==T){o={};for(var u,l=0,c=e.length;c>l;u=e[l++],a=b.call(u),(a==j||a==E)&&(o[u]=1));}if(n)if((a=b.call(n))==E){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==j&&(r=n.length<=10?n:n.slice(0,10));return U("",(u={},u[""]=t,u),i,o,r,"",[])}}if(!n("json-parse")){var M,q,D=o.fromCharCode,W={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},J=function(){throw M=q=null,c()},B=function(){for(var t,e,n,r,i,o=q,s=o.length;s>M;)switch(i=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=O?o.charAt(M):o[M],M++,t;case 34:for(t="@",M++;s>M;)if(i=o.charCodeAt(M),32>i)J();else if(92==i)switch(i=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=W[i],M++;break;case 117:for(e=++M,n=M+4;n>M;M++)i=o.charCodeAt(M),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||J();t+=D("0x"+o.slice(e,M));break;default:J()}else{if(34==i)break;for(i=o.charCodeAt(M),e=M;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++M);t+=o.slice(e,M)}if(34==o.charCodeAt(M))return M++,t;J();default:if(e=M,45==i&&(r=!0,i=o.charCodeAt(++M)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(M+1),i>=48&&57>=i)&&J(),r=!1;s>M&&(i=o.charCodeAt(M),i>=48&&57>=i);M++);if(46==o.charCodeAt(M)){for(n=++M;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==M&&J(),M=n}if(i=o.charCodeAt(M),101==i||69==i){for(i=o.charCodeAt(++M),(43==i||45==i)&&M++,n=M;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==M&&J(),M=n}return+o.slice(e,M)}if(r&&J(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;J()}return"$"},G=function(t){var e,n;if("$"==t&&J(),"string"==typeof t){if("@"==(O?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=B(),"]"!=t;n||(n=!0))n&&(","==t?(t=B(),"]"==t&&J()):J()),","==t&&J(),e.push(G(t));return e}if("{"==t){for(e={};t=B(),"}"!=t;n||(n=!0))n&&(","==t?(t=B(),"}"==t&&J()):J()),(","==t||"string"!=typeof t||"@"!=(O?t.charAt(0):t[0])||":"!=B())&&J(),e[t.slice(1)]=G(B());return e}J()}return t},F=function(t,e,n){var r=H(t,e,n);r===m?delete t[e]:t[e]=r},H=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(b.call(i)==T)for(r=i.length;r--;)F(i,r,n);else v(i,function(t){F(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return M=0,q=""+t,n=G(B()),"$"!=B()&&J(),M=q=null,e&&b.call(e)==x?H((r={},r[""]=n,r),"",e):n}}}return e.runInContext=i,e}var o="function"==typeof t&&t.amd,s={"function":!0,object:!0},a=s[typeof r]&&r&&!r.nodeType&&r,u=s[typeof window]&&window||this,l=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),a&&!o)i(u,a);else{var c=u.JSON,f=u.JSON3,h=!1,d=i(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=c,u.JSON3=f,c=f=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}o&&t(function(){return d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e){"use strict";function n(t,e,u){if(!(this instanceof n))return new n(t,e,u);var l,c,f,h,d=s.test(t),p=typeof e,v=this,m=0;for("object"!==p&&"string"!==p&&(u=e,e=null),u&&"function"!=typeof u&&(u=o.parse),e=i(e);m<a.length;m++)c=a[m],l=c[0],h=c[1],l!==l?v[h]=t:"string"==typeof l?~(f=t.indexOf(l))&&("number"==typeof c[2]?(v[h]=t.slice(0,f),t=t.slice(f+c[2])):(v[h]=t.slice(f),t=t.slice(0,f))):(f=l.exec(t))&&(v[h]=f[1],t=t.slice(0,t.length-f[0].length)),v[h]=v[h]||(c[3]||"port"===h&&d?e[h]||"":""),c[4]&&(v[h]=v[h].toLowerCase());u&&(v.query=u(v.query)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(c=v.auth.split(":"),v.username=c[0]||"",v.password=c[1]||""),v.href=v.toString()}var r=t("requires-port"),i=t("./lolcation"),o=t("querystringify"),s=/^\/(?!\/)/,a=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[0/0,"host",void 0,1,1],[/\:(\d+)$/,"port"],[0/0,"hostname",void 0,1,1]];n.prototype.set=function(t,e,n){var i=this;return"query"===t?("string"==typeof e&&(e=(n||o.parse)(e)),i[t]=e):"port"===t?(i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="")):"hostname"===t?(i[t]=e,i.port&&(e+=":"+i.port),i.host=e):"host"===t?(i[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),i.hostname=e[0],i.port=e[1])):i[t]=e,i.href=i.toString(),i},n.prototype.toString=function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol+"//";return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.hostname,n.port&&(r+=":"+n.port),r+=n.pathname,n.query&&(e="object"==typeof n.query?t(n.query):n.query,r+=("?"===e.charAt(0)?"":"?")+e),n.hash&&(r+=n.hash),r},n.qs=o,n.location=i,e.exports=n},{"./lolcation":57,querystringify:58,"requires-port":59}],57:[function(t,e){(function(n){"use strict";var r,i={hash:1,query:1};e.exports=function(e){e=e||n.location||{},r=r||t("./");var o,s={},a=typeof e;if("blob:"===e.protocol)s=new r(unescape(e.pathname),{});else if("string"===a){s=new r(e,{});for(o in i)delete s[o]}else if("object"===a)for(o in e)o in i||(s[o]=e[o]);return s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":56}],58:[function(t,e,n){"use strict";function r(t){for(var e,n=/([^=?&]+)=([^&]*)/g,r={};e=n.exec(t);r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return r}function i(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var r in t)o.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=i,n.parse=r},{}],59:[function(t,e){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 22!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)});
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var n=void 0,u=!0,aa=this;function ba(e,d){var c=e.split("."),f=aa;!(c[0]in f)&&f.execScript&&f.execScript("var "+c[0]);for(var a;c.length&&(a=c.shift());)!c.length&&d!==n?f[a]=d:f=f[a]?f[a]:f[a]={}};var C="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function K(e,d){this.index="number"===typeof d?d:0;this.d=0;this.buffer=e instanceof(C?Uint8Array:Array)?e:new (C?Uint8Array:Array)(32768);if(2*this.buffer.length<=this.index)throw Error("invalid index");this.buffer.length<=this.index&&ca(this)}function ca(e){var d=e.buffer,c,f=d.length,a=new (C?Uint8Array:Array)(f<<1);if(C)a.set(d);else for(c=0;c<f;++c)a[c]=d[c];return e.buffer=a}
K.prototype.a=function(e,d,c){var f=this.buffer,a=this.index,b=this.d,k=f[a],m;c&&1<d&&(e=8<d?(L[e&255]<<24|L[e>>>8&255]<<16|L[e>>>16&255]<<8|L[e>>>24&255])>>32-d:L[e]>>8-d);if(8>d+b)k=k<<d|e,b+=d;else for(m=0;m<d;++m)k=k<<1|e>>d-m-1&1,8===++b&&(b=0,f[a++]=L[k],k=0,a===f.length&&(f=ca(this)));f[a]=k;this.buffer=f;this.d=b;this.index=a};K.prototype.finish=function(){var e=this.buffer,d=this.index,c;0<this.d&&(e[d]<<=8-this.d,e[d]=L[e[d]],d++);C?c=e.subarray(0,d):(e.length=d,c=e);return c};
var ga=new (C?Uint8Array:Array)(256),M;for(M=0;256>M;++M){for(var R=M,S=R,ha=7,R=R>>>1;R;R>>>=1)S<<=1,S|=R&1,--ha;ga[M]=(S<<ha&255)>>>0}var L=ga;function ja(e){this.buffer=new (C?Uint16Array:Array)(2*e);this.length=0}ja.prototype.getParent=function(e){return 2*((e-2)/4|0)};ja.prototype.push=function(e,d){var c,f,a=this.buffer,b;c=this.length;a[this.length++]=d;for(a[this.length++]=e;0<c;)if(f=this.getParent(c),a[c]>a[f])b=a[c],a[c]=a[f],a[f]=b,b=a[c+1],a[c+1]=a[f+1],a[f+1]=b,c=f;else break;return this.length};
ja.prototype.pop=function(){var e,d,c=this.buffer,f,a,b;d=c[0];e=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(b=0;;){a=2*b+2;if(a>=this.length)break;a+2<this.length&&c[a+2]>c[a]&&(a+=2);if(c[a]>c[b])f=c[b],c[b]=c[a],c[a]=f,f=c[b+1],c[b+1]=c[a+1],c[a+1]=f;else break;b=a}return{index:e,value:d,length:this.length}};function ka(e,d){this.e=ma;this.f=0;this.input=C&&e instanceof Array?new Uint8Array(e):e;this.c=0;d&&(d.lazy&&(this.f=d.lazy),"number"===typeof d.compressionType&&(this.e=d.compressionType),d.outputBuffer&&(this.b=C&&d.outputBuffer instanceof Array?new Uint8Array(d.outputBuffer):d.outputBuffer),"number"===typeof d.outputIndex&&(this.c=d.outputIndex));this.b||(this.b=new (C?Uint8Array:Array)(32768))}var ma=2,T=[],U;
for(U=0;288>U;U++)switch(u){case 143>=U:T.push([U+48,8]);break;case 255>=U:T.push([U-144+400,9]);break;case 279>=U:T.push([U-256+0,7]);break;case 287>=U:T.push([U-280+192,8]);break;default:throw"invalid literal: "+U;}
ka.prototype.h=function(){var e,d,c,f,a=this.input;switch(this.e){case 0:c=0;for(f=a.length;c<f;){d=C?a.subarray(c,c+65535):a.slice(c,c+65535);c+=d.length;var b=d,k=c===f,m=n,g=n,p=n,v=n,x=n,l=this.b,h=this.c;if(C){for(l=new Uint8Array(this.b.buffer);l.length<=h+b.length+5;)l=new Uint8Array(l.length<<1);l.set(this.b)}m=k?1:0;l[h++]=m|0;g=b.length;p=~g+65536&65535;l[h++]=g&255;l[h++]=g>>>8&255;l[h++]=p&255;l[h++]=p>>>8&255;if(C)l.set(b,h),h+=b.length,l=l.subarray(0,h);else{v=0;for(x=b.length;v<x;++v)l[h++]=
b[v];l.length=h}this.c=h;this.b=l}break;case 1:var q=new K(C?new Uint8Array(this.b.buffer):this.b,this.c);q.a(1,1,u);q.a(1,2,u);var t=na(this,a),w,da,z;w=0;for(da=t.length;w<da;w++)if(z=t[w],K.prototype.a.apply(q,T[z]),256<z)q.a(t[++w],t[++w],u),q.a(t[++w],5),q.a(t[++w],t[++w],u);else if(256===z)break;this.b=q.finish();this.c=this.b.length;break;case ma:var B=new K(C?new Uint8Array(this.b.buffer):this.b,this.c),ra,J,N,O,P,Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W,sa,X,ta,ea,ia=Array(19),
ua,Q,fa,y,va;ra=ma;B.a(1,1,u);B.a(ra,2,u);J=na(this,a);W=oa(this.j,15);sa=pa(W);X=oa(this.i,7);ta=pa(X);for(N=286;257<N&&0===W[N-1];N--);for(O=30;1<O&&0===X[O-1];O--);var wa=N,xa=O,F=new (C?Uint32Array:Array)(wa+xa),r,G,s,Y,E=new (C?Uint32Array:Array)(316),D,A,H=new (C?Uint8Array:Array)(19);for(r=G=0;r<wa;r++)F[G++]=W[r];for(r=0;r<xa;r++)F[G++]=X[r];if(!C){r=0;for(Y=H.length;r<Y;++r)H[r]=0}r=D=0;for(Y=F.length;r<Y;r+=G){for(G=1;r+G<Y&&F[r+G]===F[r];++G);s=G;if(0===F[r])if(3>s)for(;0<s--;)E[D++]=0,
H[0]++;else for(;0<s;)A=138>s?s:138,A>s-3&&A<s&&(A=s-3),10>=A?(E[D++]=17,E[D++]=A-3,H[17]++):(E[D++]=18,E[D++]=A-11,H[18]++),s-=A;else if(E[D++]=F[r],H[F[r]]++,s--,3>s)for(;0<s--;)E[D++]=F[r],H[F[r]]++;else for(;0<s;)A=6>s?s:6,A>s-3&&A<s&&(A=s-3),E[D++]=16,E[D++]=A-3,H[16]++,s-=A}e=C?E.subarray(0,D):E.slice(0,D);ea=oa(H,7);for(y=0;19>y;y++)ia[y]=ea[Ia[y]];for(P=19;4<P&&0===ia[P-1];P--);ua=pa(ea);B.a(N-257,5,u);B.a(O-1,5,u);B.a(P-4,4,u);for(y=0;y<P;y++)B.a(ia[y],3,u);y=0;for(va=e.length;y<va;y++)if(Q=
e[y],B.a(ua[Q],ea[Q],u),16<=Q){y++;switch(Q){case 16:fa=2;break;case 17:fa=3;break;case 18:fa=7;break;default:throw"invalid code: "+Q;}B.a(e[y],fa,u)}var ya=[sa,W],za=[ta,X],I,Aa,Z,la,Ba,Ca,Da,Ea;Ba=ya[0];Ca=ya[1];Da=za[0];Ea=za[1];I=0;for(Aa=J.length;I<Aa;++I)if(Z=J[I],B.a(Ba[Z],Ca[Z],u),256<Z)B.a(J[++I],J[++I],u),la=J[++I],B.a(Da[la],Ea[la],u),B.a(J[++I],J[++I],u);else if(256===Z)break;this.b=B.finish();this.c=this.b.length;break;default:throw"invalid compression type";}return this.b};
function qa(e,d){this.length=e;this.g=d}
var Fa=function(){function e(a){switch(u){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var d=[],c,f;for(c=3;258>=c;c++)f=e(c),d[c]=f[2]<<24|
f[1]<<16|f[0];return d}(),Ga=C?new Uint32Array(Fa):Fa;
function na(e,d){function c(a,c){var b=a.g,d=[],f=0,e;e=Ga[a.length];d[f++]=e&65535;d[f++]=e>>16&255;d[f++]=e>>24;var g;switch(u){case 1===b:g=[0,b-1,0];break;case 2===b:g=[1,b-2,0];break;case 3===b:g=[2,b-3,0];break;case 4===b:g=[3,b-4,0];break;case 6>=b:g=[4,b-5,1];break;case 8>=b:g=[5,b-7,1];break;case 12>=b:g=[6,b-9,2];break;case 16>=b:g=[7,b-13,2];break;case 24>=b:g=[8,b-17,3];break;case 32>=b:g=[9,b-25,3];break;case 48>=b:g=[10,b-33,4];break;case 64>=b:g=[11,b-49,4];break;case 96>=b:g=[12,b-
65,5];break;case 128>=b:g=[13,b-97,5];break;case 192>=b:g=[14,b-129,6];break;case 256>=b:g=[15,b-193,6];break;case 384>=b:g=[16,b-257,7];break;case 512>=b:g=[17,b-385,7];break;case 768>=b:g=[18,b-513,8];break;case 1024>=b:g=[19,b-769,8];break;case 1536>=b:g=[20,b-1025,9];break;case 2048>=b:g=[21,b-1537,9];break;case 3072>=b:g=[22,b-2049,10];break;case 4096>=b:g=[23,b-3073,10];break;case 6144>=b:g=[24,b-4097,11];break;case 8192>=b:g=[25,b-6145,11];break;case 12288>=b:g=[26,b-8193,12];break;case 16384>=
b:g=[27,b-12289,12];break;case 24576>=b:g=[28,b-16385,13];break;case 32768>=b:g=[29,b-24577,13];break;default:throw"invalid distance";}e=g;d[f++]=e[0];d[f++]=e[1];d[f++]=e[2];var k,m;k=0;for(m=d.length;k<m;++k)l[h++]=d[k];t[d[0]]++;w[d[3]]++;q=a.length+c-1;x=null}var f,a,b,k,m,g={},p,v,x,l=C?new Uint16Array(2*d.length):[],h=0,q=0,t=new (C?Uint32Array:Array)(286),w=new (C?Uint32Array:Array)(30),da=e.f,z;if(!C){for(b=0;285>=b;)t[b++]=0;for(b=0;29>=b;)w[b++]=0}t[256]=1;f=0;for(a=d.length;f<a;++f){b=
m=0;for(k=3;b<k&&f+b!==a;++b)m=m<<8|d[f+b];g[m]===n&&(g[m]=[]);p=g[m];if(!(0<q--)){for(;0<p.length&&32768<f-p[0];)p.shift();if(f+3>=a){x&&c(x,-1);b=0;for(k=a-f;b<k;++b)z=d[f+b],l[h++]=z,++t[z];break}0<p.length?(v=Ha(d,f,p),x?x.length<v.length?(z=d[f-1],l[h++]=z,++t[z],c(v,0)):c(x,-1):v.length<da?x=v:c(v,0)):x?c(x,-1):(z=d[f],l[h++]=z,++t[z])}p.push(f)}l[h++]=256;t[256]++;e.j=t;e.i=w;return C?l.subarray(0,h):l}
function Ha(e,d,c){var f,a,b=0,k,m,g,p,v=e.length;m=0;p=c.length;a:for(;m<p;m++){f=c[p-m-1];k=3;if(3<b){for(g=b;3<g;g--)if(e[f+g-1]!==e[d+g-1])continue a;k=b}for(;258>k&&d+k<v&&e[f+k]===e[d+k];)++k;k>b&&(a=f,b=k);if(258===k)break}return new qa(b,d-a)}
function oa(e,d){var c=e.length,f=new ja(572),a=new (C?Uint8Array:Array)(c),b,k,m,g,p;if(!C)for(g=0;g<c;g++)a[g]=0;for(g=0;g<c;++g)0<e[g]&&f.push(g,e[g]);b=Array(f.length/2);k=new (C?Uint32Array:Array)(f.length/2);if(1===b.length)return a[f.pop().index]=1,a;g=0;for(p=f.length/2;g<p;++g)b[g]=f.pop(),k[g]=b[g].value;m=Ja(k,k.length,d);g=0;for(p=b.length;g<p;++g)a[b[g].index]=m[g];return a}
function Ja(e,d,c){function f(a){var b=g[a][p[a]];b===d?(f(a+1),f(a+1)):--k[b];++p[a]}var a=new (C?Uint16Array:Array)(c),b=new (C?Uint8Array:Array)(c),k=new (C?Uint8Array:Array)(d),m=Array(c),g=Array(c),p=Array(c),v=(1<<c)-d,x=1<<c-1,l,h,q,t,w;a[c-1]=d;for(h=0;h<c;++h)v<x?b[h]=0:(b[h]=1,v-=x),v<<=1,a[c-2-h]=(a[c-1-h]/2|0)+d;a[0]=b[0];m[0]=Array(a[0]);g[0]=Array(a[0]);for(h=1;h<c;++h)a[h]>2*a[h-1]+b[h]&&(a[h]=2*a[h-1]+b[h]),m[h]=Array(a[h]),g[h]=Array(a[h]);for(l=0;l<d;++l)k[l]=c;for(q=0;q<a[c-1];++q)m[c-
1][q]=e[q],g[c-1][q]=q;for(l=0;l<c;++l)p[l]=0;1===b[c-1]&&(--k[0],++p[c-1]);for(h=c-2;0<=h;--h){t=l=0;w=p[h+1];for(q=0;q<a[h];q++)t=m[h+1][w]+m[h+1][w+1],t>e[l]?(m[h][q]=t,g[h][q]=d,w+=2):(m[h][q]=e[l],g[h][q]=l,++l);p[h]=0;1===b[h]&&f(h)}return k}
function pa(e){var d=new (C?Uint16Array:Array)(e.length),c=[],f=[],a=0,b,k,m,g;b=0;for(k=e.length;b<k;b++)c[e[b]]=(c[e[b]]|0)+1;b=1;for(k=16;b<=k;b++)f[b]=a,a+=c[b]|0,a<<=1;b=0;for(k=e.length;b<k;b++){a=f[e[b]];f[e[b]]+=1;m=d[b]=0;for(g=e[b];m<g;m++)d[b]=d[b]<<1|a&1,a>>>=1}return d};ba("GLANCE.Lib.Zlib.RawDeflate",ka);ba("GLANCE.Lib.Zlib.RawDeflate.prototype.compress",ka.prototype.h);var Ka={NONE:0,FIXED:1,DYNAMIC:ma},V,La,$,Ma;if(Object.keys)V=Object.keys(Ka);else for(La in V=[],$=0,Ka)V[$++]=La;$=0;for(Ma=V.length;$<Ma;++$)La=V[$],ba("GLANCE.Lib.Zlib.RawDeflate.CompressionType."+La,Ka[La]);}).call(this);

/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var k=void 0,aa=this;function r(c,d){var a=c.split("."),b=aa;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==k?b[e]=d:b=b[e]?b[e]:b[e]={}};var t="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function u(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,l,n,m,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(l=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){n=0;m=h;for(s=0;s<g;++s)n=n<<1|m&1,m>>=1;x=g<<16|p;for(s=n;s<e;s+=l)f[s]=x;++h}++g;h<<=1;l<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=t?new Uint8Array(c):c;this.l=!1;this.i=y;this.p=!1;if(d||!(d={}))d.index&&(this.d=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.p=d.resize);switch(this.i){case A:this.a=32768;this.b=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.a=0;this.b=new (t?Uint8Array:Array)(this.h);this.e=this.u;this.m=this.r;this.j=this.s;break;default:throw Error("invalid inflate mode");
}}var A=0,y=1;
w.prototype.t=function(){for(;!this.l;){var c=B(this,3);c&1&&(this.l=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.d,b=this.b,e=this.a,f=d.length,g=k,h=k,l=b.length,n=k;this.c=this.f=0;if(a+1>=f)throw Error("invalid uncompressed block header: LEN");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error("invalid uncompressed block header: NLEN");h=d[a++]|d[a++]<<8;if(g===~h)throw Error("invalid uncompressed block header: length verify");if(a+g>d.length)throw Error("input buffer is broken");switch(this.i){case A:for(;e+g>
b.length;){n=l-e;g-=n;if(t)b.set(d.subarray(a,a+n),e),e+=n,a+=n;else for(;n--;)b[e++]=d[a++];this.a=e;b=this.e();e=this.a}break;case y:for(;e+g>b.length;)b=this.e({o:2});break;default:throw Error("invalid inflate mode");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.d=a;this.a=e;this.b=b;break;case 1:this.j(ba,ca);break;case 2:for(var m=B(this,5)+257,p=B(this,5)+1,s=B(this,4)+4,x=new (t?Uint8Array:Array)(C.length),Q=k,R=k,S=k,v=k,M=k,F=k,z=k,q=k,T=k,q=0;q<s;++q)x[C[q]]=
B(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[C[q]]=0}Q=u(x);v=new (t?Uint8Array:Array)(m+p);q=0;for(T=m+p;q<T;)switch(M=D(this,Q),M){case 16:for(z=3+B(this,2);z--;)v[q++]=F;break;case 17:for(z=3+B(this,3);z--;)v[q++]=0;F=0;break;case 18:for(z=11+B(this,7);z--;)v[q++]=0;F=0;break;default:F=v[q++]=M}R=t?u(v.subarray(0,m)):u(v.slice(0,m));S=t?u(v.subarray(m)):u(v.slice(m));this.j(R,S);break;default:throw Error("unknown BTYPE: "+c);}}return this.m()};
var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=t?new Uint16Array(E):E,G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],H=t?new Uint16Array(G):G,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],J=t?new Uint8Array(I):I,K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],L=t?new Uint16Array(K):K,N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,
13],O=t?new Uint8Array(N):N,P=new (t?Uint8Array:Array)(288),U,da;U=0;for(da=P.length;U<da;++U)P[U]=143>=U?8:255>=U?9:279>=U?7:8;var ba=u(P),V=new (t?Uint8Array:Array)(30),W,ea;W=0;for(ea=V.length;W<ea;++W)V[W]=5;var ca=u(V);function B(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h;b<d;){if(f>=g)throw Error("input buffer is broken");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.c=b-d;c.d=f;return h}
function D(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h=d[0],l=d[1],n,m;b<l&&!(f>=g);)a|=e[f++]<<b,b+=8;n=h[a&(1<<l)-1];m=n>>>16;if(m>b)throw Error("invalid code length: "+m);c.f=a>>m;c.c=b-m;c.d=f;return n&65535}
w.prototype.j=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length-258,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(this.a=b,a=this.e(),b=this.a),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b>=e&&(this.a=b,a=this.e(),b=this.a);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.s=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b+l>e&&(a=this.e(),e=a.length);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.a-32768),d=this.a-32768,a,b,e=this.b;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.k+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.a=32768;return e};
w.prototype.u=function(c){var d,a=this.input.length/this.d+1|0,b,e,f,g=this.input,h=this.b;c&&("number"===typeof c.o&&(a=c.o),"number"===typeof c.q&&(a+=c.q));2>a?(b=(g.length-this.d)/this.n[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.b=d};
w.prototype.m=function(){var c=0,d=this.b,a=this.g,b,e=new (t?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,l;if(0===a.length)return t?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(l=b.length;h<l;++h)e[c++]=b[h]}f=32768;for(g=this.a;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};
w.prototype.r=function(){var c,d=this.a;t?this.p?(c=new Uint8Array(d),c.set(this.b.subarray(0,d))):c=this.b.subarray(0,d):(this.b.length>d&&(this.b.length=d),c=this.b);return this.buffer=c};r("GLANCE.Lib.Zlib.RawInflate",w);r("GLANCE.Lib.Zlib.RawInflate.prototype.decompress",w.prototype.t);var X={ADAPTIVE:y,BLOCK:A},Y,Z,$,fa;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(fa=Y.length;$<fa;++$)Z=Y[$],r("GLANCE.Lib.Zlib.RawInflate.BufferType."+Z,X[Z]);}).call(this);

(function() {/*
 Copyright 2022 Glance Networks, Inc.
*/
var v;function aa(a,...c){!window.console||!window.console[a]||window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.disableLogging||(c=c.map(e=>{if("object"===typeof e)try{e=JSON.stringify(e)}catch(g){console.error(g),e="unable to convert object to string"}return"string"===typeof e?e.replace(/[\r\n]/g," ").replace("<","&lt;"):e}),window.console[a](...c))}function C(...a){aa("log",...a)}function F(...a){aa("error",...a)}function G(...a){C("DEBUG:",...a)}function ba(...a){C("XDOM:",...a)}
function da(...a){C("RES:",...a)}function K(...a){C("VID:",...a)}function ea(a){if(!a)if(window.console&&window.console.error)F("ASSERT");else throw Error("ASSERT");};/*
 browser["firefox"] && */
/*
 Copyright (c) 2022 Glance Networks, Inc.
*/
var fa;window.GLANCE=window.GLANCE||{};window.GLANCE.VERSION="6.3.1.0";window.GLANCE.PATCH="";window.GLANCE.Lib=window.GLANCE.Lib||{};var ha={Db:"GLANCE_KEYTYPE_RANDOM"};ha={Db:"GLANCE_KEYTYPE_RANDOM"};var ia,ja=["6","3","1","0"];ia=1E6*parseInt(ja[0])+1E3*parseInt(ja[1])+parseInt(ja[2]);
function ka(a,c){c=c||"clip";if(URL.toString().includes("[native code]"))var e=(new URL(a)).hostname;else e=L.window.URL,e=(new (Function.bind.apply(e,[e,a]))).hostname;return`https://${e}/viv/VideoPlayer.html?offer=${a}&scaling=${c}&noendpage=1&guestid={guestid}&conntype={role}`}
var R=function(){var a=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),e=a.match(/(edge)[\s\/:]([\w\d\.]+)?/)||a.match(/(opera|ie|firefox|chrome|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||a.match(/(rv):([\w\d\.]+)/)||[null,"unknown",0];"crios"===e[1]?e[1]="chrome":"rv"===e[1]&&(e[1]="ie");a={extend:Function.prototype.extend,name:"version"==e[1]?e[3]:e[1],version:"ie"==e[1]&&document.documentMode||parseFloat("opera"==e[1]&&e[4]?e[4]:e[2]),Ea:{name:a.match(/ip(?:ad|od|hone)/)||
c.match(/mac/)&&"undefined"!==typeof navigator.g?"ios":(a.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]},Ie:{We:!!document.evaluate,Ke:!!window.Te,query:!!document.querySelector,json:!!window.JSON},Je:{},Re:function(){return"ios"==this.Ea.name||"android"==this.Ea.name}};document.documentMode&&window.XDomainRequest?(a.name="ie",a.version=document.documentMode):window.navigator&&navigator.appVersion&&-1!=navigator.appVersion.indexOf("MSIE 7.")&&(a.name="ie",a.version="7");a[a.name]=
!0;a[a.name+parseInt(a.version,10)]=!0;a.Ea[a.Ea.name]=!0;return a}();function la(a){var c=c||document;return S(c,"querySelector","iframe[frameid='"+a+"']")}function ma(a){for(a=String(Math.round(Math.random()*Math.pow(10,a)));4>a.length;)a="0"+a;return a}function na(){let a=new Uint32Array(8);window.crypto.getRandomValues(a);let c="";a.forEach(e=>{c+=e.toString(36)});return c}function oa(a){var c={},e=RegExp("ssagent-"),g;for(g in a)g.match(e)&&(c[g.substr(8)]=a[g]);return c}function ra(){}
ra.prototype.set=function(a,c){S(window,"clearTimeout",this.ta);var e=this;this.ta=S(window,"setTimeout",function(){delete e.ta;c&&c()},a)};ra.prototype.clear=function(){S(window,"clearTimeout",this.ta);delete this.ta};if(void 0===sa)var sa=function(a){return ta&&L?L.window.JSON.stringify(a):JSON.stringify(a)};
function ua(a){a.onmessage=function(c){c=JSON.parse(c.data);a.Wc&&a.Wc(c)};a.dd=function(c){c=sa(c);a.send(c)};a.Ne=function(c){return c&&c.code||0};a.Oe=function(c){return c&&c.reason||""}}
function va(a,c){var e={};if(fa)var g=new wa(a);else R.ie9&&"http:"===window.location.protocol&&(e.protocols_whitelist=["iframe-eventsource","iframe-htmlfile"]),g=new SockJS(a,"",e);g.hb=0;g.Qd=function(){g.mc();c&&g.transport&&!g.transport.match(/^iframe-/)&&(g.wc=S(window,"setInterval",function(){g.hb++;g.Vc&&g.Vc({hb:g.hb})},c))};g.mc=function(){g.wc&&S(window,"clearInterval",g.wc)};ua(g);g.onclose=function(k){g.mc();g.Tc&&g.Tc(k)};g.onheartbeat=function(){g.hb=0;g.Qd();g.Uc&&g.Uc()};return g}
var xa=!1,ya,za;function Aa(a){ya=a;if(!document.getElementById("glance_request_proxy")){var c=document.createElement("iframe");c.id="glance_request_proxy";c.width="0px";c.height="0px";c.style.border="none";c.src="https://"+a+"/RequestProxy.htm?1";c.onload=function(){xa=!0};document.body.appendChild(c)}za=document.getElementById("glance_request_proxy").contentWindow}function Ca(a,c){xa?za.postMessage(a,c||"https://"+ya):S(window,"setTimeout",function(){Ca(a,c)},100)}
function wa(a){this.readyState=SockJS.CONNECTING;this.g=Math.round(1E6*Math.random());Da=Da||{};Da[this.g]=this;Ca({from:"GSockJSProxy",sockid:this.g,cmd:"open",url:a})}var Da;
function Ea(a){if(T(a.origin)===T(ya)&&"undefined"!=typeof a.data.to&&"GSockJSProxy"==a.data.to){var c=Da[a.data.sockid];if(c)switch(a.data.event.type){case "open":c.readyState=SockJS.OPEN;if(c.onopen)c.onopen(a.data.event);break;case "heartbeat":c.onheartbeat();break;case "message":c.onmessage(a.data.event);break;case "close":c.readyState=SockJS.CLOSED;c.onclose(a.data.event);break;default:C("UNKNOWN GLANCE SOCKJS PROXY MESSAGE: "+JSON.stringify(a.data))}}}
wa.prototype.send=function(a){Ca({from:"GSockJSProxy",sockid:this.g,cmd:"send",data:a})};wa.prototype.close=function(){this.readyState=SockJS.CLOSING;Ca({from:"GSockJSProxy",sockid:this.g,cmd:"close"})};var Fa=1;function Ga(a){if(void 0===a||null===a)return a;a=sa(a);a=(new TextEncoder).encode(a);var c=(new window.GLANCE.Lib.Zlib.RawDeflate(a)).compress();a="";c=new Uint8Array(c);for(var e=c.byteLength,g=0;g<e;g++)a+=String.fromCharCode(c[g]);return{_c:window.btoa(a)}}
function Ha(a){if(null===a||a instanceof String&&0===a.length)return null;if(void 0===a._c)return a;a=window.atob(a._c);for(var c=a.length,e=new Uint8Array(c),g=0;g<c;g++)e[g]=a.charCodeAt(g);a=(new window.GLANCE.Lib.Zlib.RawInflate(e.buffer)).decompress();a=(new TextDecoder).decode(a);return JSON.parse(a)}function Ia(a,c,e){if(void 0!==a)return e=e||Object.keys(a),e.forEach(function(g){void 0!==a[g]&&(c[g]=a[g])}),c}
function Ja(){function a(e,g){for(e=e.toString();e.length<g;)e="0"+e;return e}var c=new Date;return c.getUTCFullYear()+"/"+(c.getUTCMonth()+1)+"/"+c.getUTCDate()+" "+a(c.getUTCHours(),2)+":"+a(c.getUTCMinutes(),2)+":"+a(c.getUTCSeconds(),2)}function Ka(){}Ka.prototype.set=function(){};var La={};function Ma(a,c,e){S(window,"addEventListener",a,c,e)}function Na(a,c){S(window,"removeEventListener",a,c)}function Oa(a,c,e,g){var k={};k[c]=e;a.postMessage(k,void 0!==g?g:"*")}
function Pa(a,c){function e(g){if("string"===typeof g.data)try{var k=JSON.parse(g.data)}catch(p){return!1}else k=g.data;void 0!==k.glance_xdomain&&(c&&!Qa(g.origin,c)?F("UNTRUSTED_ORIGIN:"+g.origin+" "+JSON.stringify(k)):a(g.source,k.glance_xdomain))}S(window,"addEventListener","message",e);return e}function Ra(a){Ma(void 0!==window.onpagehide?"pagehide":"unload",a)}function Sa(a){void 0!==window.onpageshow&&Ma("pageshow",a)}
function Ta(a){function c(g){for(var k in g)if("object"===typeof g[k]){c(g[k]);a:{var p=void 0;var B=g[k];if(B instanceof Array||B instanceof String)p=!1;else{for(p in B)if(B.hasOwnProperty(p)){p=!1;break a}p=!0}}p&&delete g[k]}}function e(g){if(!(g instanceof Array||g instanceof String))for(var k in g)void 0===g[k]?delete g[k]:"object"===typeof g[k]&&e(g[k])}e(a);c(a)}function Ua(a,c){var e=a.indexOf("#");return 0>e?a+(-1===a.indexOf("?")?"?":"&")+c:Ua(a.substring(0,e),c)+a.substring(e)}
function Va(a){fa?this.l=new Wa(a):this.g=new window.XMLHttpRequest;this.response=null;this.type=a}Va.prototype.abort=function(){this.l?this.l.abort():this.g.abort()};
Va.prototype.onreadystatechange=function(){if(4==this.g.readyState){S(window,"clearTimeout",this.s);delete this.s;var a="error";if(0==this.g.status)C(this.method+" to "+this.url+" failed: network"),this.h(!0,"connection",this.g.status);else if(200!==this.g.status){F(this.method+" to "+this.url+" failed with status: "+this.g.status);"text"===this.g.responseType&&null!==this.g.responseText&&C(this.g.responseText);if(401===this.g.status||403===this.g.status)a="authorization",this.j&&this.j.Me();this.h(!1,
a,this.g.status)}else{if(""!==this.g.response){if("XML"===this.accept)this.response=this.g.responseXML&&this.g.responseXML.documentElement,null===this.response&&F("Invalid XML response: "+this.g.responseText);else if(this.K){for(var c=new Uint8Array(this.g.responseText.length),e=0;e<this.g.responseText.length;e++)c[e]=this.g.responseText.charCodeAt(e)&255;this.response=new Blob([c],{type:this.g.getResponseHeader("Content-Type")})}else if("blob"===this.g.responseType)this.response=this.g.response;
else if(this.g.responseXML)this.response=Xa(this.g.responseXML.childNodes[0].childNodes[0].nodeValue);else if("HTML"===this.accept||"TEXT"===this.accept)this.response=this.g.responseText;else if(this.response=Xa(this.g.responseText),null===this.response){C(this.method+" to "+this.url+" failed - can't parse response "+this.g.responseText);this.h(!1,a);return}if(void 0!==this.response.err&&void 0!==this.response.msg){C(this.method+" to "+this.url+" failed with error:"+this.response.err+" "+this.response.msg);
this.h(!1,a);return}}this.onsuccess(this.response)}}};function Xa(a){var c=null;try{c=JSON.parse(a)}catch(e){return C("JSON parse failed with error: "+e.toString()+" parsing: "+a),null}return c}Va.prototype.getResponseHeader=function(a){return this.g.getResponseHeader(a)};function Ya(a){a.accept="HTML";a.o="text/html"}Va.prototype.get=function(a,c,e,g,k){this.method="GET";Za(this,a,null,c,e,g,k)};
function Za(a,c,e,g,k,p,B){a.url=c;a.onsuccess=void 0!==p?p:function(){};a.h=void 0!==B?B:function(){};a.method=a.method||"POST";if(a.l)$a(a.l,c,e,g,k,p,B);else{p=a.B||("JSON"===a.type?"application/json; charset=utf-8":"application/x-www-form-urlencoded; charset=utf-8");if("string"===typeof e)var z=e;else e instanceof Blob?(p=e.type,z=e):e&&(z="JSON"===a.type?sa(e):"data="+sa(e));R.safari&&a.G&&(a.s=S(window,"setTimeout",function(){C(this.method+" to "+this.url+" failed - timedout (Safari)");this.h(!1,
"timedout")}.bind(a),a.G));a.g.onreadystatechange=function(){a.onreadystatechange()};try{a.g.open(a.method,c,g),void 0!==a.o&&a.g.setRequestHeader("Accept",a.o),void 0!==a.g.setRequestHeader&&"GET"!==a.method&&a.g.setRequestHeader("Content-type",p),a.j&&a.j.be()?a.g.setRequestHeader("Authorization","Bearer "+a.j.be()):a.m&&a.g.setRequestHeader("Authorization","Bearer "+a.m),a.g.withCredentials=k,a.g.send(z)}catch(t){C(a.method+" to "+c+" failed with: "+t.toString()),a.h(!1,t.toString())}}}
function Wa(a){this.type=a;ab=this}var ab;function $a(a,c,e,g,k,p,B){a.onsuccess=p;a.h=B;Ca({from:"IFrameProxyRequest",type:a.type,url:c,obj:e,async:g,withcred:k})}Wa.prototype.abort=function(){Wa.postMessage({from:"IFrameProxyRequest",abort:!0})};function bb(a){if(T(a.origin)===T(ya)&&"undefined"!=typeof a.data.to&&"IFrameProxyRequest"==a.data.to)if(a.data.success)ab.onsuccess(a.data.response);else ab.h()}function cb(a,c){this.name=a;this.domain=c||db(new eb(window))}v=cb.prototype;
v.eb=function(a,c){var e=new Date;e.setUTCHours(e.getUTCHours()+8);document.cookie=this.name+"="+escape(sa(a))+"; expires="+e.toGMTString()+"; domain="+this.domain+"; path=/"+(c||a.Ue?";secure":"")};v.va=function(){var a=this.get();return a?JSON.parse(a):null};v.get=function(){return this.Ka()?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null};
v.Za=function(){var a=new Date;a.setDate(a.getDate()-1);document.cookie=escape(this.name)+"=; expires="+a.toGMTString()+"; domain="+this.domain+"; path=/"};v.Ka=function(){return(new RegExp("(?:^|;\\s*)"+escape(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)};function fb(a){this.name=a}v=fb.prototype;v.eb=function(a){var c=new Date;c.setUTCHours(c.getUTCHours()+8);localStorage.setItem(this.name,sa(a));localStorage.setItem(this.name+"_exp",c.toGMTString())};
v.va=function(){if(!this.Ka())return null;var a=localStorage.getItem(this.name);return JSON.parse(a)};v.get=function(){return this.Ka()?localStorage.getItem(this.name):null};v.Za=function(){localStorage.removeItem(this.name);localStorage.removeItem(this.name+"_exp")};v.Ka=function(){var a=localStorage.getItem(this.name+"_exp");if(!a)return!1;a=new Date(a);return a<new Date?(this.Za(),!1):!0};function gb(a,c){this.g=[new cb(a,c),new fb(a)]}v=gb.prototype;
v.eb=function(a,c){this.g[0].eb(a,c);this.g[1].eb(a,c)};v.va=function(){return this.g[0].va()||this.g[1].va()};v.get=function(){return this.g[0].get()||this.g[1].get()};v.Za=function(){this.g[0].Za();this.g[1].Za()};v.Ka=function(){return this.g[0].Ka()||this.g[1].Ka()};function hb(a){var c={};["url","name","visitorselected","agentselected"].forEach(e=>{a.hasOwnProperty(e)&&(c[e]=a[e])});return c}function ib(a){this.event=a||window.event;this.g={x:this.event.clientX,y:this.event.clientY}}
function jb(a,c){if("undefined"!==typeof CustomEvent)try{var e=new CustomEvent(c)}catch(g){}e||(e=document.createEvent("HTMLEvents"),e.initEvent(c,!0,!0));a.dispatchEvent(e)}function kb(a,c){c=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:String.fromCharCode(c.code),"char":String.fromCharCode(c.code),shiftKey:!1});a.dispatchEvent(c)}
function lb(a){function c(g){g=(48+parseInt(g)).toString(16);return"\\"+((6<=g.length?"":Array(7-g.length>>>0).join("0"))+g)}function e(g){return"\\"+g}if(a)return a=a.trim().replace(/[^\w\d-_]/g,e),/^\d/.test(a)&&(a=a.replace(/^\d/,c)),/^-/.test(a)&&(a=a.replace(/^-/,e)),a}
function eb(a){this.v=a.document;this.la=a;this.ba={x:-1,y:-1};this.Le=R;var c=[["hidden","visibilitychange"],["mozHidden","mozvisibilitychange"],["webkitHidden","webkitvisibilitychange"],["msHidden","msvisibilitychange"],["oHidden","ovisibilitychange"]];for(a=0;a<c.length;a++)if(c[a][0]in document){this.cc=c[a][0];this.Dd=c[a][1];break}}
function mb(a){var c=a;a=a.split("?");1<a.length&&(c=a[0]);c=(new RegExp(/(?:.*?:\/\/){0,1}([^\/:]+)/)).exec(c);return null===c||2>c.length||0>c[1].indexOf(".")?null:c[1]}
function T(a){var c=new RegExp(/^(?:[a-z]{1,5}:\/\/|)([^:\?\/]*)/),e=a.match(/^\d+\.\d+.\d+.\d+$/);c=c.exec(a);if(e)return a;if(null===c||2!==c.length)return"about:"!==a&&C("ERR_DOMAINPARSE: "+a),null;e=c[1].split(".");return 1===e.length?(C("ERR_DOMAINPARSE: "+a),null):2===e.length?e.join("."):3===e.length?e.slice(1).join("."):4>=e[e.length-2].length?e.slice(e.length-3).join("."):e.slice(e.length-2).join(".")}
function Qa(a,c){var e=!1;a=mb(a);if(null===a||!c)return!1;c.forEach(function(g,k){"object"===typeof g&&(g=g.domain);if(a.match(new RegExp("\\."+g+"$","i"))||a===g)e={index:k,domain:g}});return e}v=eb.prototype;v.Pb=function(){for(var a=this.la.location.protocol,c=this.la;("about:"===a||"javascript:"===a)&&c.parent!==c;)a=c.parent.location.protocol,c=c.parent;return a.replace(/:/g,"")};
function db(a){var c=a.la.location.hostname;for(a=a.la;""===c&&a.parent!==a;)c=a.parent.location.hostname,a=a.parent;return T(c)}function nb(a){for(var c=window.location.href.toLowerCase(),e=0;e<a.length;e++)if(0<=c.indexOf(a[e].toLowerCase()))return!0;return!1}function ob(a,c){for(var e=new ArrayBuffer(a.length),g=new Uint8Array(e),k=0,p=a.length;k<p;k++)g[k]=a.charCodeAt(k);return new Blob([e],{type:c})}
function pb(a){function c(g){if(g=V("children",g))for(var k=0;k<g.length;k++){var p=X(g[k]);p.element?(p=window.getComputedStyle(p.element),p=null===p?!1:(p.overflowX+p.overflowY).match(/scroll|auto/)):p=!1;p&&e.push(g[k]);c(g[k])}}var e=[];c(a);return e}v.getElementsByTagName=function(a){return S(this.v,"getElementsByTagName",a)};
function sb(a,c){for(var e=db(a);c&&!/^(?:body|html)$/i.test(X(c).element.tagName);){if(c instanceof DocumentFragment){c=null;break}if("a"===c.tagName.toLowerCase())break;c=c.parentNode}if(!c||"a"!==c.tagName.toLowerCase())return!1;a=c.href;a=a.baseVal||a;var g=a.indexOf("//");if(0>g)return!1;0===g&&(a="http:"+a);return c.hasAttribute("download")||a.startsWith("blob:")?!1:T(a)!==e}
async function tb(a,c){return new Promise((e,g)=>{var k=a.v.createElement("script");k.onload=e;k.onerror=g;for(const p in c)k.setAttribute(p,c[p]);k.setAttribute("charset","UTF-8");a.v.head.appendChild(k)})}v.pb=1;v.sd=2;function ub(a,c){var e=a.ca(),g=vb(a),k=wb(a.v.body);if(null===k)return!1;var p=c===a.pb?k.overflowY:k.overflowX;return(c===a.pb?g.y:g.x)>(c===a.pb?e.y:e.x)&&("visible"===k.overflow||"visible"===p||"auto"===k.overflow||"auto"===p||"scroll"===p)}
function xb(a,c){return S(a.v,"getElementById",c)}function yb(a){a.Rc=function(c){c=new ib(c);a.ba.x=c.g.x||-1;a.ba.y=c.g.y||-1;return!0};a.Sc=function(){a.ba.x=-1;a.ba.y=-1;return!0};a.addEventListener("mousemove",a.Rc);a.addEventListener("mouseout",a.Sc)}function zb(a){a.click={x:-1,y:-1};a.Qc=function(c){c=new ib(c);a.click.x=c.g.x||0;a.click.y=c.g.y||0;a.click.ts=Date.now();return!0};a.addEventListener("click",a.Qc)}v.Ib=function(){this.ba={x:-1,y:-1}};
function Ab(a){var c=a.click;a.click={x:-1,y:-1};return Bb(a,c)}function Cb(a){return void 0===a.cc?!1:a.v[a.cc]}function Db(a,c){a.v.addEventListener(a.Dd,c)}
function Eb(a,c){function e(B){if(!B||"body"===B.tagName.toLowerCase())return!1;let z=wb(B).position;return"fixed"===z||"sticky"===z?!0:e(V("parentElement",B))}var g,k=0,p={};for(Ia(a,p);(g=Fb(p))&&e(g);)if(g.getAttribute("class"),g.getAttribute("data-gid"),JSON.stringify(p),p[c]+=50,10<k++)return document.body;g.getAttribute("class");g.getAttribute("data-gid");JSON.stringify(p);return g||document.body}
function Fb(a){a=document.elementsFromPoint(a.x,a.y).filter(c=>"glance_overlay"!==c.id)[0];a||(a=document.body);3==a.nodeType&&(a=a.parentNode);return a}function Gb(a){a=a.client||a;return 0>a.x||0>a.y}
function Bb(a,c,e,g){if(c&&(0>c.x||0>c.y))return{client:{x:Math.round(c.x),y:Math.round(c.y)}};c=c||Hb(a,e);e=e||Ib(a,c);a=X(g?Eb(c,g):Fb(c));if(a.matches("#glance_session_widget *")||a.matches("#glance_screensharepreview"))a=X(document.getElementById("glance_session_widget"));g=Jb(a);return{client:{x:Math.round(c.x),y:Math.round(c.y)},relative:{x:Math.round(e.x-g.x),y:Math.round(e.y-g.y),element:a.u()}}}
function Kb(a,c,e){if(0===e)return{offset:0};var g=a.ca(),k=Lb(a);a=Bb(a,void 0,{x:"x"===c?e:g.x/2+k.x,y:"y"===c?e:g.y/2+k.y},c).relative;return{offset:e,relative:{element:a.element,offset:a[c]}}}function Mb(a,c,e,g){if(!e)return g;var k={element:e.element};k[c]=e.offset;k["x"===c?"y":"x"]=0;return(a=Nb(a,k))?a[c]:g}function Ob(a,c,e){return(c=Nb(a,c))?Hb(a,c):e}
function Nb(a,c,e){a=c?Pb(X(a.v.documentElement),c.element,!1):null;if(null===a)return C("Element not found for relative coords"),e;e=Jb(X(a));return{x:e.x+c.x,y:e.y+c.y}}function Qb(a,c,e){var g;return c.replace(RegExp("url\\s*\\(['\"]?(\\s*(?!.*//.*).+?)['\"]?\\)","g"),function(k,p){"/"!==p.charAt(0)&&(g=a.u())&&(p=g+p);return"url("+e+a.la.location.host+p+")"})}v.head=function(){return void 0!==this.v.head?this.v.head:this.getElementsByTagName("head")[0]};
function Rb(a,c){a.la.addEventListener&&(document.readyState.match(/complete/)?c():(a.la.addEventListener("load",c),a.v.addEventListener("DOMContentLoaded",c,!1)))}function Sb(a){return a.v.compatMode&&"CSS1Compat"!==a.v.compatMode?a.v.body:a.v.documentElement}v.ca=function(){if(void 0!==window.orientation)return{x:window.innerWidth,y:window.innerHeight};var a=Sb(this);return{x:a.clientWidth,y:a.clientHeight}};
function vb(a){if(a.v.width)return{x:a.v.width,y:a.v.height};a=Sb(a);return{x:a.scrollWidth,y:a.scrollHeight}}function Tb(a){var c=a.ca();a=vb(a);for(var e=["x","y"],g,k,p,B,z={},t=0;t<e.length;t++)g=e[t],k=Math.round(Math.pow(c[g],2)/a[g]),p=c[g]-4,B=0,a[g]>c[g]&&(B=(p-k)/(a[g]-c[g])),B=Math.round(1E4*B)/1E4,z[g]={tabsz:k,ratio:B};return z}
function Lb(a){if(void 0!==window.pageXOffset)return{x:Math.round(a.la.pageXOffset),y:Math.round(a.la.pageYOffset)};if(void 0!==document.documentElement.scrollTop)return{x:a.v.documentElement.scrollLeft,y:a.v.documentElement.scrollTop};if(void 0!==document.body.scrollLeft)return{x:a.v.body.scrollLeft,y:a.v.body.scrollTop};throw Error("Can't get page scroll");}function Hb(a,c){a=Lb(a);return{x:c.x-a.x,y:c.y-a.y}}function Ib(a,c){a=Lb(a);return{x:c.x+a.x,y:c.y+a.y}}
v.scrollTo=function(a,c,e){var g=Lb(this);g[a]=c;a={left:g.x,top:g.y,behavior:e?"smooth":"auto"};R.ie11||R.edge?window.scrollTo(g.x,g.y):window.scrollTo(a);Lb(this)};v.u=function(){var a=Ub(),c=a.match(/(((.*?)\/)*)([^\/]+)/);return 0>a.indexOf(".")?a:c?c[1]:null};function Ub(){return window.GLANCE.Cobrowse.Loader._origpath}function wb(a){return window.getComputedStyle(a,void 0)}v.addEventListener=function(a,c,e){S(this.v,"addEventListener",a,c,e)};
v.removeEventListener=function(a,c,e){S(this.v,"removeEventListener",a,c,e)};function Vb(a){this.element=a}var ta,L,Wb;function X(a){return new Vb(a)}v=Vb.prototype;v.show=function(a){void 0===a&&(a=!0);this.element.className.match(new RegExp(a?"glance_show":"glance_hide","g"))||(this.element.className=this.element.className.replace(new RegExp(a?"glance_hide":"glance_show","g"),a?"glance_show":"glance_hide"),Xb(this,a?"glance_show":"glance_hide"))};
function Yb(a){var c=a.element.id?' id="'+a.element.id+'"':"";return'<meta data-gid="'+a.element.getAttribute("data-gid")+'"'+c+"></meta>"}function Xb(a,c){"string"===typeof a.element.className&&a.element.className.match(new RegExp("\\b"+c+"\\b","g"))||(a.element.className+=" "+c)}v.addEventListener=function(a,c,e){S(this.element,"addEventListener",c,e)};v.removeEventListener=function(a,c,e){S(this.element,"removeEventListener",c,e)};
function Zb(a){return a.element.attachShadow==Element.prototype.attachShadow&&V("shadowRoot",a.element)}
function $b(a,c){var e;"click"===c&&a.element.tagName.match(/input|textarea/i)&&(a.element.focus(),(a.element.tagName.match(/^textarea$/i)||a.element.type.match(/^(text|datetime|email|password|tel|url|number)$/i))&&"number"!==a.element.type&&(a.element.selectionStart=a.element.selectionEnd));if("click"===c&&void 0!==a.element.click)a.element.click();else{void 0===e&&(e={view:window,bubbles:!0,cancelable:!0});try{var g=new MouseEvent(c,e)}catch(k){g=a.element.ownerDocument.createEvent("MouseEvents"),
g.initMouseEvent(c,!0,!0,a.element.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,1,null)}a.element.dispatchEvent(g)}}
function V(a,c){if(!ta||1!==c.nodeType)return c[a];var e=ta?L:window;if(ta)try{var g=e.document.createElement(c.nodeName)}catch(p){g=e.document.createElement("div")}else g=c;g=e.Object.getPrototypeOf(g);if(!g)return c[a];if("contentWindow"===a)return e.Object.getOwnPropertyDescriptor(g,a).get.call(c);for(var k;!(k=e.Object.getOwnPropertyDescriptor(g,a))||0>k.get.toString().indexOf("[native code]");)if(g=e.Object.getPrototypeOf(g),!g)return c[a];return k.get.call(c)}
function S(a,c,...e){return ta&&L&&a.nodeType?"#document"===a.nodeName?L.document[c].apply(a,e):"#document-fragment"===a.nodeName?L.DocumentFragment.prototype[c].apply(a,e):L.document.body[c].apply(a,e):ta&&L&&"[object Window]"===a.toString()?L.window[c].apply(a,e):a[c].apply(a,e)}
function ac(a,c){return ta&&L&&L.document[a]?"#document"===c.nodeName?L.document[a]:"#document-fragment"===c.nodeName?L.DocumentFragment.prototype[a]:L.document.body[a]:ta&&L&&"[object Window]"===c.toString()?L.window[a]:c[a]}function bc(a){var c;try{return c=ta?L.clone?L.clone(a.element):S(a.element,"cloneNode",!0):a.element.cloneNode(!0)}catch(e){C("deepClone failed for "+a.element.tagName+" error:"+e.message)}return a.element.cloneNode(!0)}
function cc(a,c){return c.contains?R.ie11&&a.element.nodeType===Node.TEXT_NODE?a.element.parentNode===c||S(c,"contains",a.element.parentNode):S(c,"contains",a.element):!1}v.remove=function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)};v.empty=function(){for(;this.element.hasChildNodes();)this.element.removeChild(this.element.childNodes[0])};
v.ca=function(){if(this.element.getBoundingClientRect){var a=this.element.getBoundingClientRect();return{width:Math.round(a.right-a.left),height:Math.round(a.bottom-a.top)}}return{width:this.element.offsetWidth,height:this.element.offsetHeight}};function hc(a,c,e){a.element.style.width=c+"px";a.element.style.height=e+"px"}function ic(a){return/^(?:head)$/i.test(a.element.tagName)}
function Jb(a,c){if(a.element.tagName.match(/html/i))return{x:0,y:0};var e=a.element.getBoundingClientRect(),g=document.documentElement,k=Lb(new eb(window));if(c=!c)a=wb(a.element),c="fixed"===(a?a.getPropertyValue("position"):"");a=c;return{x:parseInt(e.left)+(a?0:k.x)-g.clientLeft,y:parseInt(e.top)+(a?0:k.y)-g.clientTop}}function jc(a,c,e){a.element.style.left=c+"px";a.element.style.top=e+"px"}
v.moveTo=function(a,c){function e(){10>B++?(k+=z,p+=t,jc(g,Math.floor(k),Math.floor(p)),g.j=S(window,"setTimeout",e,20)):jc(g,a,c)}void 0!==this.j&&S(window,"clearTimeout",this.j);var g=this,k=parseInt(this.element.style.left),p=parseInt(this.element.style.top);isNaN(k)&&(k=-999);isNaN(p)&&(p=-999);var B=0,z=(a-k)/10,t=(c-p)/10;0===z&&0===t||e()};v.Fa=function(){null!=this.h&&S(window,"clearTimeout",this.h);this.h=null;this.g&&S(window,"clearInterval",this.g);this.g=null};
v.xa=function(a){this.opacity=a;this.element.style.opacity=this.opacity/100;this.element.style.filter="alpha(opacity = "+this.opacity+")"};function kc(a,c,e){var g=new Date;null!==a.g&&a.Fa();a.g=S(window,"setInterval",function(){var k=new Date-g;5E3<=k?(a.xa(0),a.Fa(),e&&e()):a.xa(Math.max(0,c(k/5E3)))},50)}
v.u=function(){for(var a=[],c=this,e;c.element&&c.element.tagName;){if(/^(?:body|html)$/i.test(c.element.tagName)||ic(c)){a.unshift(c.element==document?"document":c.element.tagName.toLowerCase());break}var g=V("parentNode",c.element);if(null===g)return null;e=(e=c.element.getAttribute("id"))?"#"+lb(e):void 0;if(c.element.getAttribute("data-gid")){a.unshift('[data-gid="'+c.element.getAttribute("data-gid")+'"]');break}else if(e&&1===lc(X(g),e).length){if(a.unshift(e),1===lc(X(document.documentElement),
e).length)break}else{e=a;var k=e.unshift,p=1,B=c.element==document?"document":c.element.tagName.toLowerCase();for(c=c.element.previousElementSibling;null!=c;c=c.previousElementSibling)c.tagName.toLowerCase()===B&&p++;c=lb(B)+":nth-of-type("+p+")";k.call(e,c)}c=X(g)}return a.join(">")};var mc=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector;Vb.prototype.matches=function(a){return mc.call(this.element,a)};
function nc(a,c){return 0<c.length&&a.matches(c.join(","))}function lc(a,c){return S(a.element,"querySelectorAll",c)}function oc(a){if(!a)return null;a=a.replace(/'/g,'"');return(a=a.match(RegExp('\\[data-gid="(.*-.*)"\\]')))&&2===a.length?a[1]:null}function pc(a,c){function e(g,k,p){return null===g?null:(g=S(g,"querySelector","[data-gid='"+k.slice(0,p+1).join("-")+"']"))?p===k.length-1?g:e(g.shadowRoot,k,p+1):null}c=oc(c);if(!c)return null;c=c.split("-");return e(a.element.ownerDocument,c,0)}
function Pb(a,c,e){function g(p){if(e)throw Error(p);C(p);return null}if(a.element===document.documentElement&&"html"===c)return a.element;void 0===e&&(e=!0);var k=S(a.element,"querySelectorAll",c);return 1===k.length?k[0]:1<k.length?g("Nonunique selector: "+c):(a=pc(a,c))?a:g("Element not found: "+c)}
Vb.prototype.Ob=function(a){var c=V("type",this.element)||"";a={tag:V("tagName",this.element),type:c,path:this.u(),id:V("id",this.element),name:V("name",this.element),sel:V("selectedIndex",this.element),value:a||V("value",this.element)};"string"===typeof a.value&&(a.value=a.value.replace(/<\/script>/gi,"<\\/script>"));c.match(/^(radio|checkbox)$/i)&&(a.checked=this.element.checked);return a};function qc(){this.g={}}
function rc(a,c){var e=c.messageName;delete c.messageName;Object.keys(a.g).forEach(function(g){if((new RegExp(g)).test(e))a.g[g](e,c)})}function sc(){this.listeners=this.g={}}function tc(a,c){c=c.listeners;for(var e in c)a.g[e]=(a.g[e]||[]).concat(c[e])}sc.prototype.add=function(a,c){this.g[a]=this.g[a]||[];this.g[a].push(c)};sc.prototype.remove=function(a,c){a=this.g[a];void 0!==a&&(c=a.indexOf(c),0<=c&&a.splice(c,1))};
sc.prototype.F=function(a,c){c&&JSON.stringify(c);var e=this.g[a];if(void 0!==e)for(a=0;a<e.length;a++)e[a](c)};function uc(a){function c(B){return B.replace(/[\\]:/g,":").replace(":","\\:")}var e=new RegExp(/\[([^\[\]]*)\]/g);try{var g="",k="",p=a.cssRules||a.rules;for(a=0;a<p.length;a++)k=p[a].cssText,k=k.replace(e,c),g+=k+" ";return g}catch(B){return C("Exception getting csstext for stylesheet:"+B.toString()),""}}
function vc(){this.g=[];this.m=function(){return!0};this.s=function(a){return a};this.l=function(a,c){return a.getAttribute(c)};this.h=function(){return!0};this.o=[]}function wc(a,c){delete c.Ga;if(1===c.nodeType&&(c.removeAttribute("data-gid"),c.removeAttribute("data-sdid"),c.removeAttribute("data-gcid"),V("children",c))){for(var e=0;e<V("children",c).length;e++)wc(a,V("children",c)[e]);if(Zb(X(c)))for(c=V("children",c.shadowRoot),e=0;e<c.length;e++)wc(a,c[e])}}
function xc(a,c,e){e=e||"";if(1===c.nodeType){if(a.j)for(var g=0;g<a.j.length;g++)if(c==a.j[g]||cc(X(c),a.j[g])){wc(a,c);return}c.Ga||(g=e?[e,Fa].join("-"):Fa,c.Ga=g,c.setAttribute("data-gid",g),"CANVAS"===c.tagName&&c.setAttribute("data-gcid",g),Zb(X(c))&&c.setAttribute("data-sdid",g),Fa++);g=V("children",c);!g&&R.ie11&&(g=V("childNodes",c));if(g)for(var k=0;k<g.length;k++)xc(a,g[k],e);if(Zb(X(c)))for(g=yc(c),k=0;k<g.length;k++)xc(a,g[k],c.Ga)}}
function zc(a,c,e){c.getAttribute("data-gid");a.u(c);a.j=0<a.o.length?S(document,"querySelectorAll",a.o.join(",")):[];xc(a,c,e);delete a.j}vc.prototype.log=function(){};vc.prototype.u=function(a){var c=X(a).u();return null===c?null:a.jc&&!/^(head|body)$/i.test(a.tagName)?'[data-gid="'+a.getAttribute("data-gid")+'"]':c};vc.prototype.B=function(a,c){Ac(this,a,c);a=this.g;this.g=[];return a};
function Ac(a,c,e){var g,k=c.attributes,p=e.attributes;c.id!==e.id&&(e.jc=!0);for(g=0;g<k.length;g++)"data-gid"!==k.item(g).nodeName&&e.getAttribute(k.item(g).nodeName)!=k.item(g).nodeValue&&Bc(a,e,k.item(g).nodeName);for(g=0;g<p.length;g++)"data-gid"===p.item(g).nodeName||c.getAttribute(p.item(g).nodeName)||Bc(a,e,p.item(g).nodeName);a:if(k=V("children",c),p=V("children",e),void 0===k||void 0===p)g=void 0===k!==(void 0===p);else if(k.length!=p.length)g=Cc(a,e);else{for(g=0;g<k.length;g++)if(k[g].tagName!==
p[g].tagName){g=Cc(a,e);break a}g=!1}if(g=!g){a:if(g=V("children",c),k=V("children",e),g&&k&&0===g.length&&0===k.length)c.textContent!==e.textContent&&a.h(e)&&(a.u(e),Dc(a,e,e.textContent)),g=!0;else{p=V("childNodes",c);var B=V("childNodes",e);if(p.length!==B.length)Cc(a,e),g=!0;else{for(var z=0;z<p.length;z++)if(g=p[z],k=B[z],g.nodeType!==k.nodeType||g.nodeValue!==k.nodeValue){Cc(a,e);g=!0;break a}g=void 0}}g=!g}if(g)for(c=V("children",c),g=V("children",e),e=0;void 0!==c&&e<c.length;e++)Ac(a,c[e],
g[e])}function Ec(a){if(void 0!==window.matchMedia)for(var c=S(document.head,"getElementsByTagName","link"),e=0;e<c.length;e++)a.g.push({diff:"SETATTR",path:a.u(c[e]),attr:"media",value:""===c[e].media||window.matchMedia(c[e].media).matches?"all":"none"});return Fc(a)}function Bc(a,c,e){var g=a.u(c);if(null===g)c.getAttribute(e);else{var k=a.l(c,e);!1===k?c.getAttribute(e):a.g.push({diff:k||""===k?"SETATTR":"REMATTR",path:g,attr:e,value:k})}}
function Dc(a,c,e){c=a.u(c);null!==c&&a.g.push({diff:"CONTENT",path:c,data:e})}function yc(a){return Zb(X(a))?V("children",V("shadowRoot",a)):V("children",a)}function Cc(a,c){a.u(c);a.m(c);a.g.push({diff:"HTML",path:a.u(c),data:a.s(c.innerHTML)});return!0}function Gc(a,c){var e=bc(X(c));a.m(c,e)?(c=V("outerHTML",e),c||(c=document.createElement("div"),c.appendChild(e),c=c.innerHTML),a=a.s(c)):a=Yb(X(e));return a}
function Hc(a,c){var e=a.u(c);if(e&&a.h(c)){c=V("childNodes",c);for(var g=[],k=0;k<c.length;k++)switch(c[k].nodeType){case 1:g.push({gid:c[k].getAttribute("data-gid")});break;case 3:g.push({text:c[k].textContent});break;case 8:g.push({comment:c[k].data})}a.g.push({diff:"CHILDORDER",path:e,data:g})}}
function Ic(a,c){var e=a.u(c);if(e&&(1!==c.nodeType||!c.tagName.match(/textarea/i))){c.getAttribute("data-gid");c.getAttribute("data-gid")||a.u(c);for(var g=V("children",c),k=0;g&&k<g.length;k++)zc(a,g[k]);if(c=Gc(a,c))a.g.push({diff:"REPLACE",path:e,data:c}),"html"!==e||Wb||Ic(a,document.head)}}
function Jc(a,c){function e(I){c.push({target:I,type:"replacedNode"})}function g(I){if(!(I instanceof HTMLHtmlElement)){var n;if(!(n=!I.getAttribute("data-gid"))&&(n=!Wb))a:{n=S(X(I).element,"querySelectorAll","*");for(var H=0;H<n.length;H++)if(!n[H].getAttribute("data-gid")){n=!0;break a}n=!1}if(n)e(I);else a:{for(n=0;n<t.length;n++)if(t[n].target===I)break a;t.push({target:I,type:"childOrder"})}}}function k(I){I=V("childNodes",I);for(var n=1;n<I.length;n++)if(I[n].nodeType===I[n-1].nodeType&&(3===
I[n].nodeType||8===I[n].nodeType))return!0;return!1}function p(I){for(var n=0;n<c.length;n++)if(c[n]!==I&&"attributes"===I.type&&"attributes"===c[n].type&&I.target===c[n].target&&I.attributeName===c[n].attributeName)return I.target;return!1}function B(I){var n,H,N=X(I.target);for(n=0;n<c.length;n++)if(c[n]!==I&&"childList"===c[n].type)for(H=0;c[n].ja&&H<c[n].ja.length;H++)if(I.target===c[n].ja[H]||cc(N,c[n].ja[H]))return c[n].ja[H];return!1}function z(I){var n;for(n=0;n<c.length;n++)if(c[n]!==I&&
"replacedNode"===c[n].type&&(I.target===c[n].target||cc(X(I.target),c[n].target)))return c[n].target;return!1}(new Ka).set();var t=[];if(500<c.length){C("Mutation overflow");for(var D=!1,Q=0;Q<c.length&&!D;Q++)if(c[Q].target===document.head||V("parentElement",c[Q].target)===document.head)D=!0;c.length=0;D&&Ic(a,document.head);Ic(a,document.body)}else{c.forEach(function(I){"attributes"===I.type&&"id"===I.attributeName&&I.target.id&&(I.target.jc=!0);"childList"===I.type&&(I.Bc=[],I.Cc=[])});for(D=0;D<
c.length;D++){Q=B(c[D]);var W=V("parentElement",c[D].target);Q?(c.splice(D,1),D--):"characterData"===c[D].type&&W&&k(W)&&(a.u(c[D].target),a.u(W),g(W),c.splice(D,1),D--)}c.forEach(function(I){var n;if(n="childList"===I.type){a:{for(n=0;n<c.length;n++)if(c[n].target===I.target&&"replacedNode"===c[n].type){n=!0;break a}n=!1}n=!n}if(n){if(0<I.ja.length)for(n=0;n<c.length;n++)if("childList"===c[n].type&&c[n].target===I.target&&0<c[n].S.length){a.u(I.target);g(I.target);return}if(I.nextSibling&&3===I.nextSibling.nodeType)Wb?
(a.u(I.target),g(I.target)):(a.u(I.target),e(I.target));else for(n=0;n<I.S.length;n++)if(3===I.S[n].nodeType){a.u(I.target);e(I.target);break}}});for(D=0;D<c.length;D++)cc(X(c[D].target),document.documentElement)||(c.splice(D,1),D--);for(D=0;D<c.length;D++)if("childList"===c[D].type&&0!==c[D].ja.length)for(Q=0;Q<c[D].ja.length;Q++){W=c[D].ja[Q];for(var ca=!1,pa=D+1;!ca&&pa<c.length;pa++)if("childList"===c[pa].type)for(var Ba=0;Ba<c[pa].S.length;Ba++)if(W===c[pa].S[Ba]){c[D].Bc.push(Q);c[pa].Cc.push(Ba);
ca=!0;break}}Array.prototype.push.apply(c,t);for(D=0;D<c.length;D++)if(Q=z(c[D]))c.splice(D,1),D--;for(D=0;D<c.length;D++)if(Q=p(c[D]))a.u(Q),c.splice(D,1),D--}}
function Kc(a,c){c.forEach(function(e){if("childList"===e.type)for(var g=0;g<e.S.length;g++)1===e.S[g].nodeType&&(e.S[g].Ga&&delete e.S[g].ad,e.S[g].Ga&&(e.S[g].ad=e.S[g].Ga,delete e.S[g].Ga,e.S[g].removeAttribute("data-gid")))});Jc(a,c);c.forEach(function(e){switch(e.type){case "attributes":Bc(a,e.target,e.attributeName);break;case "characterData":e=e.target;var g,k=e.parentNode;for(g=0;g<V("childNodes",k).length;g++)if(V("childNodes",k)[g]===e){var p=g;break}void 0===p?C("Node not found in _addContentDiffFromMutation"):
a.h(k)&&(ShadowRoot&&k instanceof ShadowRoot&&(k=k.host),a.g.push({diff:"CONTENT",path:a.u(k),data:e.textContent,node:p}),a.u(k),V("childNodes",k));break;case "childList":p=e.target;k=e.ja;var B=e.S,z=e.nextSibling;z&&1===z.nodeType&&(cc(X(z),document.documentElement)&&V("parentElement",z)===p?z.getAttribute("data-gid"):z=null);a.u(p);var t=a.u(p);if(null!==t){var D={diff:"CHILDLIST",path:t,nsib:z&&k?a.u(z):null,added:[],removed:[]};if(k)for(t=0;t<k.length;t++)if(!(0<=e.Bc.indexOf(t))){var Q=V("parentNode",
k[t]);if(Q!==p)Q||(delete k[t].Ga,1===k[t].nodeType&&k[t].removeAttribute("data-gid"));else{if(1===k[t].nodeType){zc(a,k[t]);g=Gc(a,k[t]);if(!g)continue;k[t].getAttribute("data-gid")}else if(3===k[t].nodeType)g=a.h(p)?k[t].nodeValue:"";else if(8===k[t].nodeType)g=k[t].nodeValue;else continue;D.added.push({nodeType:k[t].nodeType,tagName:k[t].tagName,value:g})}}if(B)for(t=0;t<B.length;t++)if(!(0<=e.Cc.indexOf(t))){switch(B[t].nodeType){case 1:g=B[t].ad;if(!g)continue;break;case 3:g=B[t].nodeValue;break;
default:C("==> Ignoring remove node type "+B[t].nodeType)}D.removed.push({nodeType:B[t].nodeType,value:g})}if(0!==D.removed.length||0!==D.added.length)a.g.push(D),z&&8===z.nodeType&&Hc(a,p)}break;case "replacedNode":Ic(a,e.target);break;case "childOrder":Hc(a,e.target);break;default:C("Unrecognized mutation record type "+e.type)}})}function Lc(a,c){a.m=c}function Mc(a,c){a.s=c}function Nc(a,c){a.l=c}function Oc(a,c){a.h=c}function Fc(a){var c=a.g;a.g=[];return c};function Pc(a,c){if(void 0!==a){var e=e||Object.keys(a);e.forEach(function(g){void 0!==a[g]&&(c[g]=a[g])})}}function Qc(a){var c={};if(!a)return c;var e=0;for(a=a.attributes;e<a.length;e++){var g=a[e].nodeName.match(/data-(.*)/);g&&2===g.length&&(c[g[1]]=a[e].nodeValue)}return c}function Rc(){var a=window.GLANCE_COBROWSE?window.GLANCE_COBROWSE:{},c=document.getElementById("cobrowsescript"),e=document.getElementById("glance-cobrowse");c=Qc(c);e=Qc(e);Pc(c,a);Pc(e,a);return a};var Sc=["6","3","1","0"].slice(0,3).join("."),Tc=Sc+"M";
function Uc(){this.ea=document.getElementById("cobrowsescript")||document.getElementById("glance-cobrowse");this.o=document.getElementById("glance-cobrowse");if(null!==this.ea){var a=Rc();Pc(a,this);var c=RegExp("//(.*)/").exec("string"===typeof this.ea.src?this.ea.src:a.scriptserver+"/");this.h=c&&2===c.length?c[1]:"www.glancecdn.net/cobrowse";this.h=this.h.replace("/js","");this.B=this.h.replace("cobrowse","video");a.cbexperiment&&(this.h=this.h.replace("cobrowse","cbexperiment"),this.B=this.B.replace("video",
"videoexperiment"));this.g=a.groupid||this.ea.getAttribute("groupid");this.ya=a.ws||this.ea.getAttribute("ws")||"www.glance.net";this.m=this.ya+"/cobrowse";this.P=!this.ya.match("\\.glance\\.net$");this.M=a.cookiedomain;this.aa=a.ui;this.l=a.cookietype;this.uri=a.uri;this.j=a.site||this.ea.getAttribute("site")||"production";JSON.parse(a.inputevents||"{}");if(!this.g)throw Error("data-groupid missing");a=a.additionalgroupids||"";this.s=[this.g].concat(a?a.split(","):[]);this.s=this.s.map(function(e){if(!parseInt(e))throw Error("data-groupid invalid: "+
e);return parseInt(e)});if(!/staging|production/i.test(this.j))throw Error("data-site invalid");}}function Vc(a,...c){if(!a.G){let e=document.createElement("iframe");e.style.display="none";e.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(e);a.G=e.contentWindow}a=a.G.URL;return new (Function.bind.apply(a,[a,...c]))}function Wc(a,c){return URL.toString().includes("[native code]")?(new URL(`https://${a.h}/${c}`)).href:Vc(a,`https://${a.h}/${c}`).href}
function ad(a,c){return URL.toString().includes("[native code]")?(new URL(`https://${a.ya}/${c}`)).href:Vc(a,`https://${a.ya}/${c}`).href}function bd(a,c){c=parseInt(c);return a.g===c||0<=a.s.indexOf(c)}
function cd(a,c,e){function g(p,B,z){z.forEach(t=>{p[t]=B[t]||p[t]})}var k={};g(k,c,["video","content"]);g(k,a,["name","email","phone","video","content"]);k.sessionKey=k.sessionKey||a.visitorid||"GLANCE_KEYTYPE_RANDOM";"off"!==k.video&&!1===c.nwayvideoallowed&&(console.error("ERR_NO_NWAYVIDEO_SETTINGS"),k.video="off");Object.assign(k,e||{});return k}
async function dd(a){let c=e=>new Promise(g=>{if(document.querySelector(`script[src*=${e}]`))g();else{let k=document.createElement("script");k.addEventListener("load",g);k.setAttribute("type","text/javascript");k.setAttribute("src",`//${a.B}/source/js/${e}_${Tc}.js`);document.head.appendChild(k)}});await c("browserCap");return c("GlanceVideoSource")}
function ed(a,c){function e(p,B,z){if(!document.getElementById(p)){var t=document.createElement("link"),D=document.getElementsByTagName("head")[0];t.id=p;t.type="text/css";t.rel="stylesheet";t.media="all";t.href=B;z=z||D.firstElementChild;D.insertBefore(t,z)}}function g(p){return new Promise(B=>{let z=document.getElementById(p);"1"===z.getAttribute("data-loaded")?B():(z.addEventListener("load",()=>{z.setAttribute("data-loaded","1");B()},{once:!0}),z.addEventListener("error",B,{once:!0}))})}a.K||e("glance_ss",
Wc(a,"styles/Cobrowse_"+Sc+".css"));if(a.K!==c){a.K=c;var k=document.getElementById("glance_customss");k&&k.parentElement.removeChild(k);e("glance_customss",Wc(a,"customstyles/CustomSkin_"+c+"_"+a.j.substr(0,1).toUpperCase()+".css?gv=4&v="+a.custver),document.getElementById("glance_ss").nextElementSibling)}Promise.all([g("glance_ss"),g("glance_customss")]).then(()=>{})}function fd(a){switch(a.l){case "ls":var c=fb;break;case "dual":c=gb;break;default:c=cb}return new c("glance_ssn_info",a.M)}
function gd(a){return["application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)||a.name.match(".csv")};var hd={},id;function jd(a={UseUniversalCAM:!1,CServerCAMURL:""}){id=a}
function kd(a,c,e){hd.oa?G("Connection to CAM service already established, readyState:",hd.oa.readyState):(hd.oa=new WebSocket(`wss://${a}/visitorws/${c}`),hd.oa.onclose=g=>{G("Connection to CAM service closed, event:",g);delete hd.oa},hd.oa.onerror=()=>{F("Connection to CAM service closed error:");delete hd.oa},hd.oa.onmessage=g=>{g=JSON.parse(g.data);switch(g.mtype){case "connected":da(`Connected to CAM service with token ${e}`);break;case "resreq":ld(g.data.url,g.data.accepttype,g.data.reply)}},
hd.oa.onopen=()=>{hd.oa.send(JSON.stringify({mtype:"connect",data:{groupid:c,visitorid:e}}))})}function ld(a,c,e){var g=hd.oa;da(`Received resource request for url: ${a} accept type: ${c}`);let k={mtype:"resup",data:{reply:e}};md(a,c,function(p,B,z){k.data.http_status=z;k.data.content_type=B;g.send(JSON.stringify(k));g.send(p)},function(p){k.data.http_status=p;g.send(JSON.stringify(k))})}
function nd(a){let c=(new URL(document.baseURI)).hostname;return a.startsWith("blob")?(id.Cd?id.rd:"")+a.replace(/^blob:/,"blob-").replace(/:\/\//,"-"):a.replace(/^\/\//,"https-").replace(/:\/\//,"-").replace(/^\//,`https-${c}/`).replace(":443/","/")}function od(a){return!a||!a.match(/^(http:|https:|blob:http:|blob:https:){0,1}\/\//)&&0!==a.indexOf("/")?a:nd(a)}var pd=/url\(['"]{0,1}(.*?)['"]{0,1}\)/;function qd(a){return a.replace(pd,function(c,e){return"url('"+od(e)+"')"})}
function rd(a){return a.replace(/url\(['"]{0,1}(\/\/|\/|http:\/\/|https:\/\/)(.*?)['"]{0,1}\)/g,function(c,e,g){return"url('"+nd(e+g)+"')"})}
async function sd(a,c,e,g,k,p){function B(){da("Posted resource",a)}function z(){da("Post resource failed",a)}function t(D,Q,W){var ca=new Va;ca.m=g;ca.B=Q;Za(ca,p+"?ssnid="+e+(k?"&frameid="+k:"")+"&url="+encodeURIComponent(a)+"&httpstatus="+W,D,!0,!1,B,z)}0<a.indexOf("glance-no-fetch")||await md(a,c,t,function(D){D=D||0;da("Resource request failed",a,"http status:",D);t("","",D)})}
async function md(a,c,e,g){var k=new eb(window);let p=["include","omit"];for(let D=0;2>D;D++)try{var B=fetch,z=a,t=z;window!==window.parent||window.location.pathname===Ub()||0<=z.indexOf("//")||0===z.indexOf("/")||(t=k.u()+"/"+z,da("Page path changed, request relative url as absolute",t));let Q=await B(t,{method:"GET",mode:"cors",credentials:p[D],headers:{Accept:c}});if(Q.ok){let W=await Q.blob(),ca=Q.headers.get("Content-Type");da(`Received resource ${a} content type: ${ca} blob type: ${W.type}`);
ca!==W.type&&console.warn(`content type ${ca} and blob type ${W.type} are not identical`);e(W,ca,200)}else g(Q.status);return}catch(Q){da(`Exception fetching resource ${a} error: ${Q.message}`)}g(0)};function td(a){this.m=a;ud(this,!0);this.j=new ra;this.g=new ra;this.l={x:-1,y:-1}}td.prototype.stop=function(){ud(this,!1);this.g.clear();this.j.clear()};function ud(a,c){c=c?document.addEventListener:document.removeEventListener;a.h||(a.h=function(e){vd(a,e)});c.call(document,"mousedown",a.h);c.call(document,"mousemove",a.h);c.call(document,"keydown",a.h);c.call(document,"scroll",a.h,!0)}
function vd(a,c){if(void 0===a.j.ta||!c.type.match(/^(scroll|mousedown)$/)){var e=new ib(c);if("mousemove"===c.type){if(32>Math.abs(a.l.x-e.g.x)&&32>Math.abs(a.l.y-e.g.y))return;a.l={x:e.g.x,y:e.g.y}}a.m.Kd(c)&&a.g.set(1500,function(){a.m.Jd()})}};function wd(a){this.o=a;this.m=[];this.h={};this.h["#document"]=new Set;this.g=[];this.j=[];this.s=[];this.l={};document.adoptedStyleSheets&&document.adoptedStyleSheets.forEach(g=>{g=xd(this,"#document",g);this.h["#document"].add(g);this.g.push("#document")});var c=this,e=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){this.getAttribute("data-gid");var g=e.apply(this,arguments);this.getAttribute("data-gid")&&!this.getAttribute("data-sdid")&&this.setAttribute("data-sdid",this.getAttribute("data-gid"));
yd(c,this);return g}}function zd(a,c){if(c&&Object.keys(a.l).length!==a.s.length)for(var e of a.s)c={...e},c.sheet=uc(c.sheet),a.l[c.styleid]=c;if(0!==Object.keys(a.l).length)return e=a.l,a.l={},JSON.stringify(Object.keys(e)),e}function Ad(a,c){for(var e=0;e<c.length;e++){Zb(X(c[e]))&&(yd(a,c[e]),Ad(a,yc(c[e])));let g=V("children",c[e]);g&&Ad(a,g)}}function Bd(a,c){c=pb(c.shadowRoot);0<c.length&&a.o.Lb.Md(c)}
function xd(a,c,e){var g=a.s.find(k=>{if(k.sheet.cssRules.length!==e.cssRules.length)return!1;let p=Math.floor(e.cssRules.length/2);return k.sheet.cssRules[p]&&e.cssRules[p]?k.sheet.cssRules[p].cssText===e.cssRules[p].cssText:!1});if(g)return g.styleid;g=`${c}-${e.cssRules.length}-${ma(4)}`;c={tagname:c,styleid:g,sheet:e};a.s.push(c);c={...c};c.sheet=uc(e);a.l[g]=c;return g}
function yd(a,c){if(c.shadowRoot)if(c.getAttribute("data-gid")){0>a.g.indexOf(c)&&a.g.push(c);a.h[c.getAttribute("data-gid")]||(a.h[c.getAttribute("data-gid")]=new Set);var e=a.h[c.getAttribute("data-gid")],g=c.shadowRoot.adoptedStyleSheets;if(e&&g&&e.size<g.length)for(let k of g)g=xd(a,c.tagName,k),e.add(g);0<=a.m.indexOf(c)||(a.m.push(c),(new MutationObserver(function(k){0>a.g.indexOf(c)&&a.g.push(c);k.forEach(function(p){if("childList"==p.type)for(var B=0;B<p.addedNodes.length;B++){var z=p.addedNodes[B];
1==z.nodeType&&(zc(a.o.O,z,c.getAttribute("data-gid")),Zb(X(z))&&(c.getAttribute("data-sdid"),yd(a,z)))}})})).observe(c.shadowRoot,{childList:!0,characterData:!0,attributes:!0,subtree:!0}),Bd(a,c),c.shadowRoot.addEventListener("scroll",function(k){a.o.C.qc(k.target)},!0))}else-1===a.j.indexOf(c)&&a.j.push(c)}
function Cd(a){if(0!==a.g.length){for(var c={},e=0;e<a.g.length;e++){if("#document"===a.g[e]&&a.h["#document"]){c["#document"]=Ga({styleids:Array.from(a.h["#document"].keys())});continue}if(!a.g[e].getAttribute("data-sdid"))continue;var g=a.g[e].getAttribute("data-sdid"),k=a.g[e].getAttribute("data-gid");let p=[];a.h[k]&&(p=Array.from(a.h[k].keys()));let B="";k=(a.querySelectorAll("[data-gid='"+k+"']").length?a.querySelectorAll("[data-gid='"+k+"']")[0]:a.g[e]).shadowRoot.children;for(let z=0;z<k.length;z++)B+=
Gc(a.o.O,k[z]);JSON.stringify(p);c[g]=Ga({html:B,styleids:p})}a.g=[];return c}}wd.prototype.querySelectorAll=function(a){var c=[];this.m.forEach(function(e){Array.prototype.push.apply(c,Array.from(S(e.shadowRoot,"querySelectorAll",a)))});Array.prototype.push.apply(c,Array.from(S(document,"querySelectorAll",a)));return c};function Dd(a){for(let c=a.j.length-1;0<=c;--c)a.j[c].offsetParent&&a.j[c].getAttribute("data-gid")&&(yd(a,a.j[c]),a.j.splice(c,1))}
function Ed(a){(document.adoptedStyleSheets?document.adoptedStyleSheets.length:0)!==a.s.filter(g=>"#document"===g.tagname).length&&(a.h["#document"]=new Set,document.adoptedStyleSheets.forEach(g=>{g=xd(a,"#document",g);a.h["#document"].add(g)}),a.g.push("#document"));for(let g=a.m.length-1;0<=g;--g){var c=a.m[g];c.isConnected&&Zb(X(c))||a.m.splice(g,1);let k=c.getAttribute("data-gid");if(k&&c.shadowRoot.querySelectorAll("*:not([data-gid])").length){var e=c.shadowRoot.querySelectorAll("*:not([data-gid])");
for(let p=0;p<e.length;p++)xc(a.o.O,e[p],k)}e=(e=a.querySelectorAll("[data-gid='"+k+"']").length?a.querySelectorAll("[data-gid='"+k+"']")[0]:c)&&e.shadowRoot?e.shadowRoot.adoptedStyleSheets:null;if(a.h[k]&&e&&e.length!==a.h[k].size&&c.shadowRoot){c.getAttribute("data-gid");a.h[k]=new Set;e=c.shadowRoot.adoptedStyleSheets;for(let p of e)e=xd(a,c.tagName,p),a.h[k].add(e);a.g.push(c)}Dd(a)}};function Fd(a,c,e,g){this.N=a;this.R=c;this.l=e;this.j=g;this.o=!!g}function Gd(a){var c;(null==(c=a.L)?0:c.contentWindow)&&(c=a.L.contentWindow.GPDF)&&c.Close();a.g&&a.L.remove();a.g=null}function Hd(a,c){a.url=c.url;a.data=c.data;Gd(a);Id(a,"XLS",c,()=>{let e=g=>{new a.g.la.XLSViewer({data:g,downloadURL:a.url,options:c.options})};a.url?Jd(a,a.url).then(g=>{e(g)}).catch(g=>{e({error:g})}):a.data&&e(a.data)})}
function Kd(a,c){Gd(a);Id(a,"PDF",c,function(){var e=Object.assign(c,{mode:R.ie?"canvas":this.R.info.pdfmode||"canvas"});const g=this.L.contentWindow.GPDF;g.waitready.then(function(){g.View(e)})})}
function Id(a,c,e,g){a.s=g;a.m=e.preview;a.j||(a.j=document.createElement("div"),document.body.appendChild(a.j));a.L=a.j.querySelector("#glance_"+c.toLowerCase()+"viewer");a.L||(a.L=document.createElement("iframe"),a.L.id="glance_"+c.toLowerCase()+"viewer",a.L.title="Glance "+c+" Viewer",a.j.appendChild(a.L));a.L.removeAttribute("data-agentinteractive");a.m&&(a.L.style.width="100%",a.L.style.height="99%");var k="PDF"===c?a.B:a.G;Ld(a,c,async p=>{a.L.contentDocument.documentElement.innerHTML=p;a.g=
new eb(a.L.contentWindow);Rb(a.g,async()=>{if(e.showdl&&e.data&&a.R.info.docsharevisitordl&&"true"===e.download){let z=a.L.contentDocument.getElementById("glance_dl");var B=ob(e.data,e.showdl);z.href=window.URL.createObjectURL(B);z.download=e.name;z.style.display="inline-block";z.onclick=()=>{a.l.fireEvent("visitordownload",hb(e))}}e.agentselected&&"closedoc nextTab prevtab pageselect zoomselect zoomout zoomin floating-button-next floating-button-previous pdf-find-button pdf-find-previous pdf-find-next pdf-find-close pdf-find-input".split(" ").forEach(z=>
{(z=a.L.contentDocument.getElementById(z))&&z.setAttribute("data-agentinteractive","remote")});if(!a.m&&!a.o){a.l.fireEvent("documentviewed",hb(e));a.L.contentDocument.querySelector(".firstcontrol").addEventListener("keydown",function(z){"Tab"===z.key&&z.shiftKey&&z.preventDefault()});a.L.contentDocument.querySelector(".lastcontrol").addEventListener("keydown",function(z){"Tab"!==z.key||z.shiftKey||z.preventDefault()});if("large"===a.l.ae()){window.GLANCE.Cobrowse.Visitor.smallVideo();let z=t=>{"docviewerclosed"===
t.data&&(window.GLANCE.Cobrowse.Visitor.largeVideo(),window.removeEventListener("message",z))};window.addEventListener("message",z)}window.addEventListener("message",z=>{"docviewerclosed"===z.data&&(Gd(a),a.o||a.l.T({docshare:{enabled:!1}}))})}a.o||await tb(a.g,{id:"glance-cobrowse","data-groupid":a.R.groupId(),"data-ws":a.N.ya,src:a.N.ea.getAttribute("src")});k.bind(a)()})},a.h.bind(a))}
async function Jd(a,c){var e=await S(window,"fetch",c),g=await e.blob();return new Promise((k,p)=>{e.ok||p(e);var B=new FileReader;B.addEventListener("load",function(){k(B.result)},!1);B.onerror=()=>{p(a)};B.readAsBinaryString(g)})}function Ld(a,c,e,g){a=Wc(a.N,"styles/"+c+"Viewer_"+Sc+".html");c=new Va;Ya(c);c.get(a,!0,!1,function(k){e&&e(k)},g)}
Fd.prototype.G=async function(){if(this.m){var a=this.L.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("xlslink").style.display="none";a.getElementById("tabname").style.display="none";a.getElementById("the-page").classList+="glance_masked"}xb(this.g,"viewer-css").href=Wc(this.N,"styles/XLSViewer_"+Sc+".css");await tb(this.g,{src:Wc(this.N,"js/xlsx.full.min.js"),type:"text/javascript"});await tb(this.g,{src:Wc(this.N,"js/XLSViewer_"+Tc+".js"),type:"text/javascript"});
this.s()};
Fd.prototype.B=async function(){if(this.m){var a=this.L.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("the-page").classList+="glance_masked"}xb(this.g,"viewer-css");xb(this.g,"viewer-css").href=Wc(this.N,"styles/PDFViewer_"+Sc+".css");await tb(this.g,{src:Wc(this.N,"js/jquery-3.6.0.min.js"),type:"text/javascript"});await tb(this.g,{src:Wc(this.N,"js/pdfjs2.16/pdf.js"),type:"text/javascript"});await tb(this.g,{src:Wc(this.N,"js/pdfjs2.16/pdf.worker.js"),type:"text/javascript"});
await tb(this.g,{src:Wc(this.N,"js/PDFViewer_"+Tc+".js"),type:"text/javascript"});this.s()};Fd.prototype.h=function(){};window.GLANCE.DocumentViewer=Fd;async function Md(a,c,e){K("_startOrResume",c);if(!Nd(a)&&(a.state=Od,c.previewelementid=c.previewelementid||"glance_videopreview",c.visitorvideoelementid=c.visitorvideoelementid||"glance_video_0",c.video=c.video||"small",a.g=c,a.l.da(),a.o=document.getElementById(c.previewelementid),Pd(a),"notsupported"!==c.camerastatus))if(c.error)K("Start or resume video session with error:",c.error),a.j.fireEvent("visitorvideoerror",{error:c.error});else{await dd(a.R.N);var g={maincid:a.R.A.callId,sessionkey:`${a.R.key().substring(0,
50)}V${Math.floor(ma(6))}`,mime:'video/webm; codecs="avc1.42E01E"',vserver:`https://${a.R.info.vserver}/`,isAnonymous:!0,bgType:c.videobgtype,bgFilterEnabled:"none"!==c.videobgtype,conntype:"visitor",guestid:0,groupid:a.R.groupId()};Object.assign(g,Qd(a,g.bgFilterEnabled?"dynamic":c.video));K("Initializing visitor video with options",JSON.stringify(g));a.h=e||new window.GLANCE.Video.GlanceVideoSource(g);e&&(e.removeAllEventListeners(),e.setOptions(g));a.h.addEventListener("error",(k,p)=>{K(`Video error '${k}'`,
p);a.j.$("ABNORMAL",`Visitor video error '${k}'`);delete a.g.sessionkey;a.g.error=k;a.l.da();a.j.fireEvent("visitorvideoerror",{error:k})});a.h.addEventListener("sessionStarted",k=>{K("Video session started, relay:",k);a.j.fireEvent("visitorvideostarted",{width:k.descriptor.videowidth,height:k.descriptor.videoheight});a.state=Rd;c.paused&&a.j.fireEvent("visitorvideopaused",{});a.l.da();a.g.sessionkey=k.descriptor.passcode;a.g.descriptor=JSON.stringify(k.descriptor);if(a.m){k=k.descriptor.url;var p=
c.visitorvideoelementid;document.getElementById(p).setAttribute("data-src",ka(k));a.j.Nd({ssnid:k,joinurl:ka(k),type:"forward",params:{type:"forward"},view:p})}a.h.setAccepterCount(a.s)});a.h.addEventListener("bgFilterPerformanceFail",()=>{a.j.$("ABNORMAL","Visitor video background filter performance failure");a.j.fireEvent("videobgfilterfailed",{failuremode:a.R.info.videobgfilterfailmode,performancefail:!0});switch(a.R.info.videobgfilterfailmode){case "abortvideo":Sd(a);a.g.camerastatus="aborted";
a.l.da();break;case "abortbgfilter":Td(a),a.g.videobgtype="none",Pd(a),Ud(a,!1)}});a.h.addEventListener("profileUpdated",k=>{K("profileUpdated:",k.descriptor);a.g.descriptor=JSON.stringify(k.descriptor);a.l.da()});a.h.addEventListener("sessionEnded",(k,p)=>{K("Video session ended, reason:",p?p.reason:"",k);a.state===Vd?K("Ignoring sessionEnded event from blurred connection"):(delete a.g.sessionkey,delete a.h,p&&"Session timed out"===p.reason?(a.j.$("ABNORMAL",`Visitor video ended:'${p.reason}'`),
a.g.error=p.reason,a.j.fireEvent("visitorvideoerror",{error:p.reason})):a.j.fireEvent("visitorvideostopped",{}),a.state=Wd,a.l.da())});a.g.videosource&&"available"===a.g.camerastatus&&(e?a.h.startPreview(a.o,c.paused):await a.h.initialize(a.g.videosource,a.o,c.paused),a.g&&a.g.error||(a.m||!a.g.descriptor?a.h.startSession(c.paused,c.videobgfilter):(a.h.setBgFilterActive(c.videobgfilter),a.h.resumeSession(a.g.descriptor))))}}
function Xd(a,c,e){K("Start visitor video",c);K("Reusing existing source:",!!e,"with stream:",e&&!!e.stream);a.j.$("INTERESTING","Visitor video start");a.m=!0;Md(a,c,e)}function Yd(a,c){K("Continue visitor video",c);a.m=!1;Md(a,c)}function Pd(a){a.B.Y.sa("visitorvideo",{video:a.g.video,camerastatus:a.g.error?"error":a.g.camerastatus,videobgfilter:a.g.videobgfilter,videobgtype:a.g.videobgtype})}
function Qd(a,c){a=a.R.info.videooptions[c];try{return JSON.parse(a)}catch(e){return F("ERR_BADVIDOPTIONS"),{}}}function Zd(a,c){a.g&&a.g.video!==c&&(a.h&&(K("Updating visitor video options",Qd(a,c)),a.h.updateVideoOptions(Qd(a,c))),a.j.$("INTERESTING",`Resizing video:${c}`),a.g.video=c,Pd(a))}function $d(a){Zd(a,"small"===a.g.video?"large":"small")}function Nd(a){return a.state>Vd&&a.state<Wd}
function Sd(a){a.h&&(K("Ending visitor video"),document.getElementById(a.g.visitorvideoelementid).removeAttribute("data-src"),a.j.$("INTERESTING","Visitor video ending"),a.h.endSession(),a.state=Wd,delete a.h)}function Td(a){a.j.$("INTERESTING","Visitor video pause");a.h.pause();window.setTimeout(()=>{a.j.fireEvent("visitorvideopaused",{})},300);a.g.paused=!0;a.l.da()}
function Ud(a,c){a.j.$("INTERESTING","Visitor video background filter active:");a.h.setBgFilterActive(c);a.g.videobgfilter=c;a.l.da()}function ae(a){a.j.$("INTERESTING","Visitor video unpause");a.h.unPause();window.setTimeout(()=>{a.j.fireEvent("visitorvideoresumed",{})},500);a.g.paused=!1;a.l.da()}class be{constructor(a,c,e,g){this.j=a;this.R=c;this.B=e;this.l=g;this.state=Vd}getState(){if(this.g)return this.g}blur(){delete this.g;delete this.h;this.state=Vd}}var Vd=0,Od=1,Rd=2,Wd=3;function ce(a,c){this.j=fd(a);this.N=a;this.g=c}
function de(a,c,e){ba("crossDomain",c,e);a.m=c;a.h="_blank"===e;a.n=-1;if(!ee(a))return ba("All domains cookied"),c&&(a.h?window.open(c):window.location.href=c),Promise.resolve();a.l||(a.l=Pa(function(g,k){ba("initiator got:",k.type,k);switch(k.type){case 1:fe(a);g=ge(a);k={type:2};k.cookieinfo=a.j.va();k.nexthelper=ee(a)?ge(a):"";k.desturl=a.h?a.m:"";ba("Posting cookie info to helper",g,k);Oa(a.w,"glance_xdomain",k,g);k.nexthelper&&he(a,k.nexthelper);break;case 3:fe(a),ie(a)}},a.g));e=ge(a);a.w=
window.open(e,"",a.h?"":"location=0, status=0, titlebar=0, menubar=0, width=5, height=5");ba("opened",e);he(a,e);return new Promise(function(g,k){c&&!Qa(c,a.g)?k("ERR_XDOMURL_NOT_ALLOWED "+c):(a.o=g,a.s=k)})}ce.prototype.done=function(){this.l&&Na("message",this.l);delete this.l};function ge(a){var c=a.g[a.n].helper;c.length&&(c=Ua(c,"GlanceSession=1"+`&groupid=${a.N.g}&data-site=${a.N.j}`));return c}
function he(a,c){ba("setting timeout to hear from ",c);a.timeout=setTimeout(e=>{F("no ready_to_continue recieved from "+e);ee(a)?(ba("navigating helper window to ",ge(a)),a.w.location.replace(ge(a)),he(a,ge(a))):(ba("that was the last domain, finishing"),ie(a))},4E3,c);ba("timeout number:",a.timeout)}function fe(a){a.timeout&&(ba("clearing timeout because we got ready_to_continue:",a.timeout),clearTimeout(a.timeout))}
function ie(a){ba("setCrossDomainDone");var c=a.j.va();c.xdomdone||(c.xdomdone=!0,a.j.eb(c,"secure"===a.N.l));!a.h&&a.m&&(window.location.href=a.m);a.h||a.w.close();a.done();a.o()}function ee(a){for(;++a.n<a.g.length;)if(!(a.g[a.n].thirdparty||a.N.ya.includes(a.g[a.n].domain)||window.location.host.endsWith(a.g[a.n].domain)))return!0;return!1}function je(a){a=a.j.va();if(!a)throw Error("ERR_XDOM_BADCOOKIE");return a.xdomdone};window.GLANCE=window.GLANCE||{};window.GLANCE.Cobrowse=window.GLANCE.Cobrowse||{};window.GLANCE.Cobrowse.Visitor=window.GLANCE.Cobrowse.Visitor||{};var Y=window.GLANCE.Cobrowse.Visitor;
(function(){function a(b){this.N=b;var d=fd(J);this.M=O?function(){}:function(){this.o()||G("GROUP_MISMATCH");d.eb(this.A,"secure"===J.l)};this.m=function(){O||(this.A=d.va());return this.A&&this.o()?!0:!1};this.o=function(){return this.A&&bd(J,this.groupId())};this.Sa=function(f){this.A=f};this.Wa=function(f){this.info=f};this.s=function(){return this.info.proxy||this.info.universalcam};this.Ra=function(f){this.h={...f};qb.setItem("glance_cobrowse_agentinfo",sa({agents:this.h,ssnid:this.g()}))};
this.Ba=function(){if(this.h)return this.h;let f=JSON.parse(qb.getItem("glance_cobrowse_agentinfo"));return f?f.ssnid!==this.g()?(qb.removeItem("glance_cobrowse_agentinfo"),null):this.h=f.agents:null};this.za=function(f){if(!this.h)return!0;f=f.agentlist;let h=this.h.agentlist;if(f.length!==h.length)return!0;for(let m=0;m<f.length;m++)if(f[m].guestid!==h[m].guestid)return!0;return!1};this.clear=function(){delete this.info;delete this.h;!O&&this.o()&&(qb.removeItem("glance_cobrowse_agentinfo"),delete this.A,
d.Za())};this.g=function(){return this.A.ssnid};this.G=function(){return this.A.tok};this.Xa=function(){return this.A.ssnid.split(".")[2]};this.groupId=function(){return this.A?this.A.ssnid.split(".")[0]:null};this.ia=!1;this.Va=function(f){this.ia=f};this.ha=!1;this.Ua=function(f){this.ha=f};this.key=function(){return this.A?this.A.sessionKey:null};this.Qb=function(){return this.A.Qb};this.K=function(f){var h="443"!==this.info.port?":"+this.info.port:"";if(!J.P&&T(J.ya)!==T(this.A.server))throw Error("INVALID_CSERVER:"+
this.A.server);return"https://"+this.A.server+h+"/visitor/"+f};this.Ta=function(f,h){O||(this.A[f]=h,this.M())};this.aa=function(f){return this.A[f]};this.Qa=function(){this.ka=this.A.ka};this.ma=function(){this.l(!0)||(this.A.ka=d.va().ka+1,this.M(),this.ka=this.A.ka)};this.na=function(){O||(this.ka=0)};this.Aa=function(){M.F("blur");H.l();l&&(l.D.blur(),l.Dc());Y.readyState=0};this.l=function(f){return(f||this.m())&&this.A?this.ka===this.A.ka:!1};this.start=function(f,h,m){var u=f&&f.groupid||J.g;
"secure"===J.l&&"https:"!==window.location.protocol?(C("ERR_SECURECOOKIE"),m("Unable to start a session on an insecure page.")):this.P(u).then(()=>{x.g=cd(J,this.info,f)}).then(()=>this.Da(u)).then(q=>this.Ca(q.coloSelectUrl)).then(q=>this.Pa(u,q)).then(h,function(q){q=q||"";if("string"==typeof q)m(`Unable to start a session at ${J.ya} (${q})`);else{switch(q.status){case 13:var y="dupkey"}m(q.message,y)}})};this.Da=function(f){f=ad(J,`services/authorizationservice/GetVisitorSettings3?groupid=${f}&site=${J.j}&service=cobrowse`);
return S(window,"fetch",f).then(h=>{if(!h.ok)throw Error(`Unable to get visitor settings: ${h.status} ${h.statusText}`);return h.json()}).catch(h=>{throw Error(`Unable to get visitor settings (${h.message})`);})};this.Ca=function(f){return new Promise((h,m)=>{f="https://"+f;(new Va("JSON")).get(f,!0,!1,function(u){u.colo_id?h(u.colo_id):(C("ERR_COLOID"),m("colo select no colo id"))},function(u,q){m(`colo select ${q}`)})})};this.Pa=function(f,h){return new Promise((m,u)=>{var q=x.g.sessionKey||J.visitorid||
ha.Db;bd(J,f)||u({message:"Invalid group id "+f});var y=new Va("JSON"),w=this,E=R.Ea.name;0>["win","ios","mac","android"].indexOf(E)&&(E="win");var P=ad(J,"services/SessionProvisioning/StartSession2");Za(y,P,{authToken:"",sessionType:4,groupid:f,mainCallId:0,callflags:"staging"===J.j?524288:0,clientVersion:ia,coloId:h,disambiguateId:Math.floor(2147483647*Math.random()),platform:E,sessionKey:q,name:x.g.name,email:x.g.email,phone:x.g.phone},!0,!1,function(U){U||(C("ERR_NOSESSIONINFO"),u());U.callId?
(w.info.ssnid=U.sessionId,w.A={ssnid:U.sessionId,tok:na(),ka:1,Qb:q!=ha.Db,server:U.serverName,ver:"6.3.1.0",startparams:{video:w.info.video}},Ia(U,w.A,["sessionKey","callId"]),w.M(),w.ka=1,m()):u(U)},()=>{u()})})};this.P=function(f){f=ad(J,`api/CobrowseSettings/VisitorSettings?groupid=${f}&site=${J.j}&ver=${"6.3.1.0"}`);return S(window,"fetch",f).then(h=>{if(!h.ok)throw Error(`Unable to get cobrowse settings: ${h.status} ${h.statusText}`);return h.json()}).then(h=>this.info=h).catch(h=>{throw Error(`Unable to get cobrowse settings (${h.message})`);
})};this.load=function(f,h){void 0!==this.info?f():this.P(this.groupId()).then(f).catch(h)};this.B=function(f){f&&l&&(l.Ac=!1);this.j=f};this.Pb=function(){return this.info.agenthttp?"//":"https://"};this.m()||this.clear();this.j=!0;this.ka=0}function c(){c.self=this;this.kb(!0)}function e(b){this.fa=b}function g(b,d,f,h){b.push("input[type='password']");b.push("input[type='hidden']");let m=[];this.g=[];var u=this;b.forEach(function(q){var y=[],w=q.match(/(.*?)@@\[(.*)\]$/);w&&3===w.length&&(q=w[1],
y=w[2].replace(/\s+/g,"").split(","));m.push(q);u.g.push(y)});h.push(".glance_controllable");this.Ha=new e(m);this.ob=new e(d);this.cd=new e(h);this.h=f}function k(b){this.lb=b}function p(){}function B(){}function z(){}function t(b){this.m=b;this.l=!1;this.U={};this.Hb=[];this.nb=!0}function D(b,d){this.g=b;this.l=d}function Q(){this.Tb={}}function W(b){this.hd=b}function ca(b){var d=A.v.createElement("div");d.id="glance_agent_cursor2";d.setAttribute("glance_cobrowse_suppress",1);b.appendChild(d);
var f=X(d);f.jb=!1;f.moveTo=function(h,m){var u=f.ca(),q=vb(A);Vb.prototype.moveTo.call(f,Math.min(h,q.x-u.width),Math.min(m,q.y-u.height))};return f}function pa(){return{jb:!1,cb:function(b){x.h(window.top,{sb:b})},Oc:function(b,d){x.h(window.parent,{sb:{moveTo:{x:b,y:d},I:r.I}})},remove:function(){},show:function(b){this.jb&&this.cb({fd:{show:b}})},moveTo:function(b,d){this.Oc(b,d)}}}function Ba(b){function d(){l.W&&l.H&&l.H.fb(l.W)}var f=A.v.createElement("div");f.id="glance_gesture";f.setAttribute("glance_cobrowse_suppress",
1);var h=A.v.createElement("span");h.id="glance_gesture_label";f.appendChild(h);b.appendChild(f);b=X(f);b.label=h;Ma("scroll",d);b.fb=function(m){var u=Jb(m,!0);m=m.ca();u.width=m.width;u.height=m.height;this.pc(u)};b.Vb=function(m){this.element.setAttribute("data-agentnum",this.Ya.num);this.element.setAttribute("data-role",this.Ya.role);this.Ya.name?this.label.innerText=this.Ya.name:m=!1;this.label.style.visibility=m?"visible":"hidden"};b.gb=function(){kc(this,function(m){return.6>m?100:100-(m-.6)/
.4*100},function(){l&&l.W&&delete l.W})};b.pc=function(m){jc(this,m.x-6,m.y-6);hc(this,m.width,m.height);Xb(this,"elem_gest");this.Vb(!0)};b.Ma=function(){this.Fa();this.xa(0);l.W&&delete l.W};b.$c=function(){Na("scroll",d);this.remove()};return b}function I(){Ma("scroll",function(){l&&l.W&&l.H.fb(l.W)});return{fb:function(b){b=b.element.getBoundingClientRect();var d=A.ca(),f=Math.max(b.left,0),h=Math.max(b.top,0);b={x:f,y:h,width:Math.min(b.left+b.width,d.x)-f,height:Math.min(b.top+b.height,d.y)-
h};0>=b.width||0>=b.height?this.Ma():this.Nc(b)},Nc:function(b){JSON.stringify({ub:{rect:{x:b.x,y:b.y,width:b.width,height:b.height},I:r.I}});x.h(window.parent,{ub:{rect:{x:b.x,y:b.y,width:b.width,height:b.height},I:r.I,kc:this.Ya}})},cb:function(b){x.h(window.top,{ub:b})},Fa:function(){this.cb({Fa:!0})},gb:function(){this.cb({gb:!0})},xa:function(b){this.cb({xa:{opacity:b}})},Ma:function(){l.W&&delete l.W;this.cb({Ma:!0})},$c:function(){}}}function n(b){G("CoBrowseSession:"+window.location.href);
if(!bd(J,r.groupId()))throw Error("BAD_GROUP_ID "+r.groupId()+" not in tag");O||"custom"!==J.aa||ed(J,r.groupId());var d=this;this.s={};Ma("error",n.g);yb(A);zb(A);this.Mc=new me;this.Ja=new ce(J,r.info.trusteddomains);this.D=new be(x,r,this,t);this.m=new ke(this,r,M);this.Dc();r.info.cleancontext&&(ta=!0);r.info.usechildorder&&(Wb=!0);this.O=new vc;Lc(this.O,function(f,h){d.J.Td(f);return h?d.Hc(f,h):!0});Mc(this.O,function(f){return d.Fb(f)});Nc(this.O,function(f,h){return d.xd(f,h)});Oc(this.O,
function(f){return!d.h.ra(f)});this.O.o=r.info.nogids;(this.B=(this.B=0<r.info.urlwhitelist.length&&!nb(r.info.urlwhitelist))||nb(r.info.urlblacklist))&&document.body.classList.add("glance_masked");this.dc(b);this.he();this.Qa();this.je();this.Lb=new c;this.od=r.info.hoverables?new D(r.info.hoverables,"_hover"):null;this.C=new t(this);this.o=!1;dc.firefox&&(this.Ca=new k(new p));this.za=new k(new z);this.K=new k(new Xc);this.Oa=new wd(this);this.ua=new Fd(J,r,x);r.info.pdflinks&&Ld(this.ua,"PDF");
if(r.info.inputpoller||window.frameElement&&"glance_pdfviewer"===window.frameElement.id)this.Aa=new k(new B);this.aa=new td(this);this.J={values:{},Sb:{},qa:function(f,h){if(h===this.values[f])return!1;this.values[f]=h;return!0},ce:function(f,h){this.ye=!0;return this.qa("input-"+f,h)},ed:function(f){this.Sb[f]=!0},vc:function(f){return this.Sb[f]},nc:function(f){delete this.values[f]},Sd:function(){for(var f in this.values)f.match(/^input-/)&&delete this.values[f]},Td:function(f){function h(u,q){u=
S(u,"getElementsByTagName",q);for(q=0;q<u.length;q++)m.nc("input-"+X(u[q]).u())}if(this.ye){var m=this;h(f,"input");h(f,"textarea");h(f,"select")}},clear:function(){this.values={};this.Sb={};delete this.Pe},xe:new Ka};O||(this.Ta=new oe);this.H=O?I():Ba(this.Ta.$a);this.j=O?pa():ca(this.Ta.$a);r.ia&&this.G(!0);r.ha&&this.Sa(!0)}function H(b){this.g=b;this.Z=xb(A,b);H.g[b]=this}function N(){this.P=function(){};this.state=1;this.aa=!1;var b=this;Ra(function(){b.Ba()});Sa(function(){Cb(A)||b.La()});
Db(A,function(){l&&Cb(A)?r.na():b.La()});Ma("focus",function(){b.La();return!0})}function pe(b){var d=b.data;if(d.glance_invoke){var f=d.glance_invoke;ec.get(f.groupid,function(h){var m=T(b.origin)===db(A)&&d.origin?d.origin:b.origin;if(T(m)!==db(A)&&!Qa(m,h.chatDomains))throw Error("UNTRUSTED_INVOKE group: "+f.groupid+" origin: "+m);if(!bd(J,f.groupid))throw Error("INVOKE_WRONG_GRP:"+f.groupid);if(f.args&&f.args.groupid&&f.args.groupid!=f.groupid)throw Error("INVOKE_GRP_ARG_CONFLICT");f.groupid!=
J.g&&(f.args=f.args||{},f.args.groupid=f.groupid);Y[f.func](f.args)})}else null===mb(J.m)?C("ERR_WEBSERVER "+J.m):function(h,m){if(/^about|javascript:/.test(h))return m(!0);var u=T(mb(J.m)),q=db(A),y=T(h);if(y===u||y===q)return m(!0);ec.get(J.g,function(w){m(Qa(h,w.trustedDomains))})}(b.origin,function(h){if(h)return x.Aa(d,b.source);d.glance_iframe&&F("ERR_UNTRUSTED_GLANCE_IFRAME "+b.origin)})}var dc=R;if(dc.ie8||dc.ie7)return null;var qb=localStorage,A=new eb(window),qe=window.GLANCE_COBROWSE&&
window.GLANCE_COBROWSE.toplevel,O=window!==window.parent&&!qe,Yc=!1,l=null,x=null,ec=null,r,J=null,M=null,re=new Ka,fc=new qc,qa=window.GLANCE&&window.GLANCE.Cobrowse&&window.GLANCE.Cobrowse.Loader;M=new sc;M.F=function(b,d){sc.prototype.F.call(this,b,d);if(!O&&0<=["sessionstart","sessionend","error"].indexOf(b)){var f=window.GLANCE&&window.GLANCE.Presence&&window.GLANCE.Presence.Visitor&&window.GLANCE.Presence.Visitor.instance;f&&f.fire("visitor"+b,d)}};c.prototype.$d=function(){this.wa=pb(document.documentElement).concat(this.Ub)};
c.prototype.Md=function(b){this.Ub=this.Ub?this.Ub.concat(b):b;if(this.wa)for(var d=0;d<b.length;d++)0>this.wa.indexOf(b[d])&&this.wa.push(b[d]);else this.wa=b};c.prototype.Na=function(b){this.wa&&b.target&&0>this.wa.indexOf(b.target)&&(G("Adding new scrollable",b.target),this.wa.push(b.target))};c.Na=function(b){b.target!==document&&"true"!==b.target.getAttribute("data-independentscroll")&&(c.self.Na(b),t.Na(b),l.Na(b))};c.prototype.kb=function(b){(b?ac("addEventListener",document):ac("removeEventListener",
document)).call(document,"scroll",c.Na,!0)};c.prototype.Zd=function(b){this.ue&&(b="all",this.ue=!1);if(!l.J.vc("es"))this.$d(),b=this.wa,l.J.ed("es");else if("all"===b)b=this.wa;else if(!b||0==b.length)return;for(var d=[],f=0;f<b.length;f++)b[f]&&d.push({path:X(b[f]).u(),y:b[f].scrollTop,x:b[f].scrollLeft});JSON.stringify(d);return 0<d.length?d:void 0};e.prototype.Ec=function(){return 0===this.fa.length};e.prototype.h=function(b){var d=[];b=X(b);for(var f=0;f<this.fa.length;f++)b.matches(this.fa[f])&&
d.push(f);return 0<d.length?d:null};e.prototype.j=function(b){var d=X(b);if(!this.g){this.g={};for(var f=0;f<this.fa.length;f++)this.g[f]=S(document,"querySelectorAll",this.fa[f])}for(f=0;f<this.fa.length;f++){b=this.g[f];for(var h=0;h<b.length;h++){var m=b[h];if((m=Zb(X(m))?V("childNodes",V("shadowRoot",m)):V("childNodes",m))&&0!==m.length&&cc(d,b[h]))return!0}}return!1};g.prototype.Rd=function(){delete this.Ha.g;delete this.ob.g};g.prototype.Kc=function(b){var d="",f;for(f=0;f<b;f++)d+="*";return d};
g.prototype.ra=function(b){var d=X(b);if(ic(d)||cc(d,document.head))return!1;if("string"===typeof b.type&&b.type.match(/^hidden$/i))return[];if(this.h)return(b=xb(A,"glance_cobrowse_btn"))&&cc(d,b)?null:[];if("undefined"!==typeof ShadowRoot&&b instanceof ShadowRoot)return this.ra(b.host);d=this.Ha.h(b);return null!==d?d:this.Ha.j(b)||b&&b.getRootNode&&b.getRootNode()&&b.getRootNode().host&&this.ra(b.getRootNode().host)?[]:this.ob.Ec()?null:this.Rb(b,!1)?null:[]};g.prototype.Rb=function(b,d){return b.hasAttribute("id")&&
"glance_cobrowse_btn"===b.getAttribute("id")||this.ob.h(b)?!0:d?!1:this.ob.j(b)};g.g="value checked src href title alt data".split(" ");g.prototype.Fc=function(b,d){if(!b.parentNode&&/^body$/i.test(b.tagName))return!1;b=this.ra(b);if(null===b)return!1;if(0<=g.g.indexOf(d))return G("isMaskedAttribute found standard masked attribute "+d),!0;for(var f=0;f<b.length;f++)if(0<=this.g[b[f]].indexOf(d))return G("isMaskedAttribute found custom masked attribute "+d),!0;return!1};g.prototype.ve=function(b,d){g.g.forEach(function(h){b.getAttribute(h)&&
(G("removeMaskedAttributes removing standard masked attribute "+h+" from "+b.tagName),b.removeAttribute(h))});var f=this;d.forEach(function(h){f.g[h].forEach(function(m){b.getAttribute(m)&&(G("removeMaskedAttributes removing custom masked attribute "+m+" from "+b.tagName),b.removeAttribute(m))})})};g.prototype.ke=function(){function b(q,y){var w=document.createElement(q.tagName),E=X(q).u();h.Fc(q,"style")||(w.style.cssText=q.style.cssText);var P=X(q).ca();if(l.J.qa(E+"-w",P.width)||l.J.qa(E+"-h",
P.height))for(w.style.width=P.width+"px",w.style.height=P.height+"px",y.push({diff:"SETATTR",path:E,attr:"style",value:w.getAttribute("style")}),w=0;q.children&&w<q.children.length;w++)h.Rb(q.children[w],!0)||b(q.children[w],y)}for(var d=[],f,h=this,m=0;m<this.Ha.fa.length;m++){f=S(document,"querySelectorAll",this.Ha.fa[m]);for(var u=0;u<f.length;u++)f[u].tagName.match(/^(input|select|option|textarea)$/i)||b(f[u],d)}return d};k.prototype.start=function(b){this.stop();this.lb.vb();var d=this;b&&this.lb.ab();
this.interval=S(window,"setInterval",function(){l&&d.lb.ab()},300)};k.prototype.stop=function(){S(window,"clearInterval",this.interval)};k.prototype.now=function(b){this.lb.ab(b)};p.prototype.vb=function(){this.h()};p.prototype.ab=function(){for(var b={},d=S(document.head,"getElementsByTagName","link"),f=0;f<d.length;f++)if(d[f].disabled&&(b[d[f].getAttribute("data-gid")]=!0),d[f].disabled!==!!this.g[d[f].getAttribute("data-gid")]){var h=t,m=h.l;var u=l.O;var q=d[f],y=u.u(q);u.g.push({diff:q.disabled?
"SETATTR":"REMATTR",path:y,attr:"disabled",value:""});sa(u.g[u.g.length-1]);u=Fc(u);m.call(h,u)}this.g=b};p.prototype.h=function(){this.g={};for(var b=S(document.head,"getElementsByTagName","link"),d=0;d<b.length;d++)b[d].disabled&&(this.g[b[d].getAttribute("data-gid")]=!0)};class Xc{constructor(){this.h=!1}vb(){}j(b){var d=document.createElement("canvas");d.width=b.width;d.height=b.height;b=d.getContext("2d");b.fillStyle="#999999";b.fillRect(0,0,d.width,d.height);return d.toDataURL("image/png")}async ab(b){if(!this.h){this.h=
!0;try{this.g=this.g||{};var d=[];Array.prototype.push.apply(d,document.getElementsByTagName("canvas"));Array.prototype.push.apply(d,l.Oa.querySelectorAll("canvas"));for(var f=0;f<d.length;f++){await new Promise(q=>setTimeout(q,0));try{var h=d[f],m=h.getAttribute("data-gcid");if(m&&!(b&&b.gcids&&0>b.gcids.indexOf(m))){if(l.h.ra(h))if(l.J.values["canvas-"+m])continue;else var u=Xc.j(h);else u=h.toDataURL("image/png");l.J.qa("canvas-"+m,u)&&(this.g[m]={data:u},l.C.X("canvas",!0))}}catch(q){F("Exception in canvas check:"+
q.toString())}}}finally{this.h=!1}}}Yd(){if(0!==Object.keys(this.g).length&&!l.l){Object.keys(this.g);var b=this.g;this.g={};return b}}}B.prototype.vb=function(){};B.prototype.ab=function(){t.g()};z.prototype.h=function(){this.g=[];for(var b=document.styleSheets,d=0;d<b.length;d++)b[d].ownerNode&&"STYLE"===b[d].ownerNode.tagName&&b[d].ownerNode.getAttribute("data-gid")&&this.g.push(b[d]);return 0<this.g.length};z.prototype.vb=function(){};z.prototype.ab=function(){if(this.h()&&l){Ed(l.Oa);for(var b,
d=0;d<this.g.length;d++)b=l.tc(this.g[d]),null!==b&&l.J.qa("ss-"+d,b)&&Dc(l.O,this.g[d].ownerNode,b);b=Fc(l.O);0<b.length&&t.l(b)}};t.prototype.start=function(){this.l=!0;S(document,"addEventListener","mousemove",t.j);S(document,"addEventListener","keydown",t.o);S(document,"addEventListener","mousedown",t.g);S(document,"addEventListener","mouseup",t.g);S(document,"addEventListener","paste",t.g);S(document,"addEventListener","cut",t.g);S(window,"addEventListener","scroll",t.m);S(window,"addEventListener",
"resize",t.s);var b=t.B,d=!MutationObserver.toString().includes("native code")&&ta?L:window;La.wb=new d.MutationObserver(b);La.wb.observe(document,{childList:!0,characterData:!0,attributes:!0,subtree:!0})};t.prototype.clearTimeout=function(){this.timeout&&(S(window,"clearTimeout",this.timeout),delete this.timeout)};t.prototype.j=function(b){this.clearTimeout();this.nb=this.ga=!0;this.g(void 0!==b?b:0)};t.prototype.g=function(b){var d=this;this.timeout||(this.timeout=S(window,"setTimeout",function(){d.h()},
b))};t.s=function(){l.C.X("resize")};t.g=function(){l.C.X("inputs");l.C.nb=!0};t.j=function(){l.C.X("mouse")};t.G=function(){l.C.X("ssnmsg")};t.da=function(){l&&l.C.X("callstate",!0)};t.Na=function(b){l.C.qc(b.target)};t.m=function(){l.C.X("scroll")};t.o=function(b){b.target&&b.target.tagName.match(/^(input|select|textarea)$/i)?l.C.Hb.push(b.target):l.C.nb=!0;l.C.X("inputs")};t.h={};t.T=function(b,d){t.h[b]=d;l.C.X("callstate",!0)};t.prototype.o=function(){var b=[];if(this.nb){var d=S(document,"querySelectorAll",
"input,select,textarea");Array.from?b=Array.from(d).concat(Array.from(l.Oa.querySelectorAll("input,select,textarea"))):b=d}else b=this.Hb;this.Hb=[];this.nb=!1;return b};t.l=function(b){ea(0<b.length);l.C.X("dom");l.C.U.V=(l.C.U.V||[]).concat(b)};t.B=function(b){null!==l&&!l.C.ga&&0<l.C.re(b)&&l.C.X("dom")};t.prototype.qc=function(b){this.X("elemscroll");this.U.zb||(this.U.zb=[]);for(var d=this.U.zb,f=0;f<d.length&&d[f]!==b;f++);f===d.length&&this.U.zb.push(b)};t.prototype.re=function(b){var d=0;
this.U.bb||(this.U.bb=[],this.U.bb.Lc={});for(var f=0;f<b.length;f++){var h=b[f].target;if(!(1===h.nodeType&&"script"==h.tagName.toLowerCase()||1===h.nodeType&&h.getAttribute("glance_cobrowse_suppress"))){this.U.bb.Lc[b[f].type]=!0;"childList"===b[f].type&&(b[f].ja=b[f].addedNodes,b[f].S=b[f].removedNodes);if(h===document.documentElement){if(O&&"childList"==b[f].type){let m=!0;b[f].ja.forEach(u=>{["head","body"].includes(u.nodeName.toLowerCase())||(m=!1)});b[f].S.forEach(u=>{["head","body"].includes(u.nodeName.toLowerCase())||
(m=!1)});if(!m)continue}if(O&&"attributes"!==b[f].type){l.ha();return}}"DOMAttrModified"===b[f].type&&"data-gid"===b[f].attrName||"attributes"===b[f].type&&"data-gid"===b[f].attributeName||(this.U.bb.push(b[f]),d++)}}return d};t.prototype.stop=function(){S(document,"removeEventListener","mousemove",t.j);S(document,"removeEventListener","keydown",t.o);S(document,"removeEventListener","mousedown",t.g);S(document,"removeEventListener","mouseup",t.g);S(document,"removeEventListener","paste",t.g);S(document,
"removeEventListener","cut",t.g);S(window,"removeEventListener","scroll",t.m);S(window,"removeEventListener","resize",t.s);La.wb&&La.wb.disconnect();delete La.wb;this.clearTimeout()};t.prototype.h=function(){var b=this.U?this.U:{};this.U={};this.m.Ee(this.ga?{ga:!0}:b);this.s();delete this.ga};t.prototype.s=function(){delete this.timeout;0<Object.keys(this.U).length&&this.g(100)};t.prototype.X=function(b,d){var f=this;this.U[b]=!0;3===x.state&&(d?f.h():this.timeout||(this.timeout=S(window,"setTimeout",
function(){f.h()},100)))};D.prototype.h=function(b){return b.replace(/[^a-zA-Z0-9-]/g,"_").replace(/^_/,"")};D.prototype.j=function(b){for(var d="",f=0;f<this.g.length;f++)X(b).matches(this.g[f])&&(d+=this.h(this.g[f])+this.l+" ");return 0<d.length?d.trim():null};Q.prototype.get=function(b,d,f){var h=this;if(void 0!==this.Tb[b])d(this.Tb[b]);else{var m=new Va("JSON4"),u=ad(J,"cobrowse/CobrowseSettings.asmx/GetGroupSettings");Za(m,u,{groupid:b},!0,!1,function(q){h.Tb[b]=q;d(q)},f||function(){C("ERR_CB_SETTINGS")})}};
class me{constructor(){this.g=new ra;this.kb(!0)}kb(b){(b?A.addEventListener:A.removeEventListener).call(A,"click",d=>this.onclick(d),!0)}onclick(b){ea(l);if(l){this.g.set(100,()=>{let m;return null==(m=l)?void 0:m.K.now()});var d=b.target;Zb(X(d))&&(d=b.path[0]);var f="A"===d.tagName;if(!f)for(var h=d;h=h.parentElement;)if("A"===h.nodeName){f=!0;d=h;break}if(f&&!b.target.matches("a#glance_dl"))if(sb(A,d)&&Qa(d.href,r.info.trusteddomains)){if(!je(l.Ja))Zc.onclick(b,d)}else r.info.pdflinks&&nc(X(d),
r.info.pdflinks)&&(window.self!==window.top?(b.preventDefault(),x.h(window.top,{Bb:"PDF",params:{url:d.href}})):(b.preventDefault(),Kd(l.ua,{url:d.href})))}}}var Zc={onclick:function(b,d){ea(l);b.isTrusted&&!R.ie11&&(b.preventDefault(),ba("link clicked:",d.href),de(l.Ja,d.href,d.target).then(function(){}).catch(function(){F("ERR_CROSS_DOMAIN")}))},Ud:function(b){if(!Qa(b.destination||b.oc,r.info.trusteddomains))return F("continueSessionAt: "+b.destination+" not configured in cross domain settings"),
!1;if(je(l.Ja))return!0;de(l.Ja,b.oc,b.Se?"_blank":"_self").then(function(){ba("crossDomain complete");if(b.oncomplete)b.oncomplete()}).catch(function(){C("ERR_CROSS_DOMAIN")});return!1}};W.prototype.sa=function(b,d){var f;(f=!this[b])||(f=sa(this[b])!==sa(d));return f?(this[b]=d,M.F(this.hd?this.hd:b,d),!0):!1};W.prototype.getState=function(b,d){if(b=this[b])return d&&(b=b[d],!b)?void 0:b};W.prototype.Be=function(b,d){this[b]=d;l.C.X("user")};class oe{constructor(){this.$a=A.v.createElement("div");
this.$a.id="glance_gesture_container";A.v.body.appendChild(this.$a);let b=()=>{var d=X(this.$a);if("static"!==wb(document.body).position){let f=Jb(X(document.body),!0);jc(d,-f.x,-f.y)}else jc(d,0,0)};b();this.g=window.setInterval(b,5E3)}remove(){this.$a.remove();window.clearInterval(this.g)}}n.prototype.dc=function(b){var d;(d=!this.h)||(d=JSON.stringify(l.zd)!==JSON.stringify(b));d&&(this.zd=b,"undefined"!==typeof b.maskpage&&(this.B=b.maskpage),d=[...r.info.masked,...b.maskedelements],b=[...(r.info.unmasked||
[]),...b.unmaskedelements],this.h=new g(d,b,this.B,r.info.selectiveEditing),r.j||l.ha())};n.prototype.yc=function(b,d){if(b!==this.l||d)this.l=b,t.T("sessionpaused",{paused:!!b,message:d}),b||this.ha(),M.F("sessionpaused",{paused:b})};n.prototype.Dc=function(){this.rb=0;this.Y=new W;this.Y.screenshare=new W("screenshare");this.Ab=new W;H.g={}};n.h=function(){var b=xb(A,"glance-clean-context");if(b)return b.contentWindow;b=document.createElement("iframe");b.setAttribute("id","glance-clean-context");
b.setAttribute("style","display:none");b.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(b);var d=document.createElement("script");d.src=Wc(J,"js/GlanceCleanContext_"+Tc+".js");R.firefox?b.addEventListener("load",function(){G("Adding script to clean context after iframe load");b.contentDocument.documentElement.innerHTML="<!DOCTYPE html><html><head></head><body>clean context</body></html>";b.contentWindow.document.head.appendChild(d)}):b.contentWindow.document.head.appendChild(d);
return b.contentWindow};n.g=function(b){if(b.error&&b.error.stack&&!(0>b.error.stack.indexOf("Glance"))){try{var d="JS Error in "+window.location.href+": ";d+=b.error.name+" "+b.error.message+b.error.stack;x.ha(N.j,d)}catch(f){C("ERR_REPORTERROR")}Na("error",n.g)}};n.prototype.se=function(b){b?this.ne():this.sc(!1)};n.prototype.yb=function(b){x.$(rb,"WS_RECON: "+(b||""));var d=this;this.rb++;this.Wb(function(){d.ha()},function(){return d.pd(!1)})};n.prototype.pd=function(b,d){if(x.aa)return!1;x.$(rb,
"WS_DROP");G("onConnectionDrop: newsesssion="+b+" this.connected="+this.connected+" this.reconnects="+this.rb);(b=(!b||this.connected)&&30>this.rb)?this.Ba(!1):x.B("Connect failed "+(d||""),"conndrop",{server:r.A?r.A.server:"server"});return b};n.prototype.Ba=function(b){this.Y.sa("connection",{status:b?"ok":"reconnecting"})};n.prototype.Ld=function(){var b=this.Pa;delete this.Pa;return b};n.prototype.na=function(b){this.Pa=this.Pa||[];this.Pa.push(b);t.G()};n.prototype.ha=function(){r.B(!0);this.J.clear();
this.C.j()};n.prototype.Va=function(b){if(document.body.contains(b)&&this.h.ra(b)||b.getAttribute("data-no-cobrowse-content")||b.getAttribute("data-independent-content"))return!1;var d=V("src",b);d=d&&Qa(d,r.info.trusteddomains);return this.Wa(b)||this.ge(b)||d};n.prototype.Wa=function(b){if("IFRAME"!==b.tagName)return!1;let d=V("src",b);return!d||"glance_pdfviewer"===b.id&&R.ie||/^(javascript|about):/i.test(d)||""===b.getAttribute("src")||void 0===b.baseURI&&d==window.location.href.match(/.*\//)?
!0:!1};n.prototype.ge=function(b){let d=V("src",b);if(/^glance_/i.test(b.id)||0===d.length)return!1;b=mb(d);return null===b||T(b)!==db(A)?!1:!0};n.prototype.Qa=function(){function b(q){V("contentWindow",q).setTimeout(function(){jb(q.contentWindow,"load")},1E3)}function d(q,y){if("glance_pdfviewer"!==q.id){var w=V("src",q);if(w.match(/^javascript:/)&&!y)q.getAttribute("frameid"),S(window,"setTimeout",function(){d(q,!0)},1E3);else{try{var E=q.contentDocument}catch(P){C("can't access contentDocument src="+
w+" ==> "+P.toString()+E);return}if(q.contentDocument){if(null===q.contentDocument.head){if("application/xhtml+xml"===q.contentDocument.contentType){q.getAttribute("frameid");return}try{q.contentDocument.head=q.contentDocument.createElement("head")}catch(P){}if(null===q.contentDocument.head){y?q.getAttribute("frameid"):(q.getAttribute("frameid"),S(window,"setTimeout",function(){d(q,!0)},1E3));return}}if(!q.contentDocument.getElementById("cobrowsescript")&&!q.contentDocument.getElementById("glance-cobrowse")){y=
q.contentDocument.createElement("script");for(w=0;w<J.ea.attributes.length;w++)"src"!==J.ea.attributes[w].name&&y.setAttribute(J.ea.attributes[w].name,J.ea.attributes[w].value);if(J.o)for(w=0;w<J.o.attributes.length;w++)y.setAttribute(J.o.attributes[w].name,J.o.attributes[w].value);y.setAttribute("id","glance-cobrowse");q.contentDocument.head.appendChild(y);y.setAttribute("src",J.ea.getAttribute("src"));q.getAttribute("frameid");h.Wa(q)&&b(q)}}else C("!contentDocument src="+w)}}}function f(q){function y(E){E=
S(w.documentElement,"getElementsByTagName",E);return 0<E.length&&0<E[0].children.length}try{var w=q.contentDocument;return"complete"===w.readyState&&(y("head")||y("body"))}catch(E){}return!1}var h=this,m,u=S(document,"getElementsByTagName","iframe");for(m=0;m<u.length;m++)!u[m].getAttribute("frameid")&&this.Va(u[m])&&(u[m].setAttribute("frameid",Math.floor(2147483647*Math.random())),u[m].getAttribute("frameid"),this.Wa(u[m]),f(u[m]),S(u[m],"addEventListener","load",function(q){q.target.getAttribute("frameid");
d(q.target)}),this.Wa(u[m])||f(u[m]))&&(u[m].getAttribute("frameid"),d(u[m]))};n.prototype.bd=function(){var b,d=S(document,"getElementsByTagName","iframe"),f=[];for(b=0;b<d.length;b++)this.Va(d[b])&&V("contentWindow",d[b])&&f.push(d[b]);return f};n.prototype.Yc=function(b){var d=la(b.I);d?x.h(d.contentWindow,{ib:b}):this.Xa({ib:b})};n.prototype.Xa=function(b){var d,f=this.bd();for(d=0;d<f.length;d++)void 0!==V("contentWindow",f[d])&&x.h(V("contentWindow",f[d]),b)};n.prototype.Ia=function(b,d){this.Qa();
var f,h=this.bd();this.Ac=!0;for(f=0;f<h.length;f++)if(!d||V("contentWindow",h[f])===d){var m=h[f].getAttribute("frameid");x.h(V("contentWindow",h[f]),{Ia:{I:m,pe:b,A:r.A,Ae:r.info},tb:{enabled:this.o}})}};n.prototype.je=function(){function b(u){let q=document.createElement("span");q.classList.add("glance-mock-title");q.innerHTML=u;return q}function d(u){if(null!=m){let q=S(document,"querySelectorAll","[title]:hover");for(let y=0;y<q.length;y++)if(m==q[y])return;h(u)}}function f(u){h(u);m=u.target;
let q=b(m.getAttribute("title"));"IFRAME"!=m.tagName.toUpperCase()&&(S(window,"setTimeout",()=>{q.style.left=A.ba.x+12+"px";q.style.top=A.ba.y+12+"px";q.style.opacity="1"},500),window.top.document.body.appendChild(q))}function h(){m=null;let u=window.top.document.body.querySelectorAll(".glance-mock-title");for(let q=0;q<u.length;q++)u[q].style.display="none"}let m=null;this.Gc=function(){let u=S(document,"querySelectorAll","[title]");for(let q=0;q<u.length;q++){let y=u[q];ac("removeEventListener",
y).call(y,"mouseenter",f);ac("addEventListener",y).call(y,"mouseenter",f);ac("removeEventListener",y).call(y,"mouseleave",h);ac("addEventListener",y).call(y,"mouseleave",h);ac("removeEventListener",document).call(document,"mousemove",d);ac("addEventListener",document).call(document,"mousemove",d)}};this.Gc()};n.prototype.he=function(){function b(w){y.P=w;l.C.X("focus")}function d(){l&&b(null)}function f(w){R.firefox&&y.P&&y.P!==w.target?d():y.P===w.target?d():b(w.target)}function h(w){var E=w.key||
w.charCode||w.keyCode,P=13===E||"Enter"===E;y.P!==w.target||9!==E&&"Tab"!==E&&27!==E&&"Esc"!==E&&!P?R.chrome&&R.Ea.win&&null===y.P&&P&&b(w.target):d()}function m(w){R.Ea.mac&&R.safari&&f(w)}function u(w){y.P===w.target&&d()}function q(){S(window,"setTimeout",function(){d()},100)}var y=this;this.Eb=function(w){var E,P=S(A,"getElementsByTagName","select");for(E=0;E<P.length;E++){var U=P[E];var Z=w?ac("addEventListener",U):ac("removeEventListener",U);Z.call(U,"click",f);Z.call(U,"keyup",h);R.chrome&&
Z.call(U,"keypress",h);Z.call(U,"change",q);Z.call(U,"blur",u);Z.call(U,"mousedown",m)}Z=w?ac("addEventListener",window):ac("removeEventListener",window);Z.call(window,"resize",d);Z.call(window,"scroll",d);Z.call(window,"blur",d)};this.Eb(!0)};n.prototype.Fe=function(){let b=lc(X(document.body),"iframe[data-independent-content]");for(let d=0;d<b.length;d++)b[d].removeAttribute("data-src")};n.prototype.vd=function(b){var d=A;d.v.removeEventListener("mousemove",d.Rc);d.v.removeEventListener("mouseout",
d.Sc);A.v.removeEventListener("click",A.Qc);this.C.stop();S(window,"clearTimeout",this.Xe);S(window,"clearInterval",this.Ve);H.m();this.Fe();Sd(this.D);!O&&r.m()&&b?this.send("LS",{}):this.Ra();this.Eb(!1);wc(this.O,document.head);wc(this.O,document.body);this.Lb.kb(!1);void 0!==this.Ta&&this.Ta.remove();void 0!==this.H&&this.H.$c();void 0!==this.j&&this.j.remove();this.Cb&&this.Cb.stop();this.Ca&&this.Ca.stop();this.Mc&&this.Mc.kb(!1);this.za&&this.za.stop();this.K&&this.K.stop();this.Aa&&this.Aa.stop();
let f;"glance_documentpreviewframe"!==(null==(f=window.frameElement)?void 0:f.id)&&(Gd(l.ua),document.getElementById("glance_pdfviewer")&&document.getElementById("glance_pdfviewer").remove(),document.getElementById("glance_xlsviewer")&&document.getElementById("glance_xlsviewer").remove());this.G(!1);this.Xa({ze:!0});this.aa.stop();Na("error",n.g);this.Ja.done();"started"==this.m.status&&this.fc()};n.prototype.Zc=function(){var b=null;try{if(b=A.v.activeElement,!b)return null}catch(d){return null}return b};
n.prototype.Ed=function(){var b=this.Zc();return b?X(b).u():null};n.prototype.Jb=function(){var b,d="";if(void 0!==window.matchMedia){var f=A.head().getElementsByTagName("link");for(b=0;b<f.length;b++)if(""===f[b].media)d+="1";else{var h=window.matchMedia(f[b].media);d+=h&&h.matches?"1":"0"}}return d};n.prototype.ld=function(){var b=A.v.head.cloneNode(!0);this.Ic(A.head(),b);return this.Fb(b.innerHTML)};n.prototype.$b=function(b){var d;for(d=0;d<b.length;d++){if(this.Va(b[d])||b[d].getAttribute("data-no-cobrowse-content")||
b[d].getAttribute("data-independent-content"))b[d].removeAttribute("src"),b[d].removeAttribute("srcdoc");b[d].setAttribute("sandbox","")}0<b.length&&this.Qa()};n.prototype.le=function(){for(var b=editableels,d=0;d<b.length;d++)switch(editableel=b[d],Xb(X(editableel),"glance_controllable"),editableel.tagName.toUpperCase()){case "FORM":editableel.setAttribute("autocomplete","false"),editableel.querySelectorAll("input").forEach(f=>{f.setAttribute("autocomplete","off")});case "INPUT":editableel.setAttribute("autocomplete",
"off")}};n.prototype.ma=function(b,d,f){function h(w,E){u.ve(E,f);E.tagName.match(/^SVG|AUDIO|VIDEO|OBJECT$/i)&&X(E).empty();w&&(w=X(w).ca(),hc(X(E),w.width,w.height));for(w=0;w<E.childNodes.length;w++)3===E.childNodes[w].nodeType&&(E.childNodes[w].textContent="string"===typeof E.childNodes[w].textContent&&""!==E.childNodes[w].textContent.trim()?" ":"")}var m;if(!b||b.length!==d.length)throw F(`ERR_INVALIDNESTING in parent of: ${d[0].tagName} data-gid ${d[0].getAttribute("data-gid")}`),Error("ERR_MASKEDFIELDS");
b&&b.length!==d.length&&(F(`ERR_INVALIDNESTING in parent of: ${d[0].tagName} data-gid ${d[0].getAttribute("data-gid")}`),b=void 0);for(var u=this.h,q=0;q<d.length;q++){var y=d[q];y.setAttribute("aria-label","masked item");switch(y.tagName.toUpperCase()){case "TEXTAREA":case "INPUT":switch(y.type.toLowerCase()){case "checkbox":case "radio":y.removeAttribute("checked");break;case "button":case "submit":break;default:y.setAttribute("value",this.h.Kc(b?b[q].value.length:1))}break;case "SELECT":X(y).empty();
(m=b?X(b[q]).ca().width:0)&&y.setAttribute("style","width:"+m+"px");m=document.createElement("option");m.innerHTML="*******";y.appendChild(m);break;case "OPTION":y.textContent="*******";break;case "STYLE":break;case "LINK":"stylesheet"!==y.getAttribute("rel")&&h(b&&b[q],y);break;default:if(this.ee=!0,h(b&&b[q],y),y.children&&0<y.children.length){if(!b){this.ma(void 0,y.children,[]);break}let w=V("children",b[q]),E=[],P=[];if(w.length!==y.children.length)F(`ERR_INVALIDNESTING ${b[q].tagName} data-gid ${b[q].getAttribute("data-gid")}`),
this.ma(void 0,y.children,[]);else{for(m=0;m<w.length;m++)this.h.Rb(w[m],!0)||(E.push(w[m]),P.push(y.children[m]));this.ma(E,P,[])}}}}};n.prototype.me=function(b,d){var f,h,m,u=[];if(f=this.h.ra(b))if(this.ma([b],[d],f),0<f.length&&Xb(X(d),"glance_masked"),this.h.ob.Ec())return;for(h=0;h<this.h.Ha.fa.length;h++){var q=S(b,"querySelectorAll",this.h.Ha.fa[h]);f=S(d,"querySelectorAll",this.h.Ha.fa[h]);for(m=0;m<f.length;m++)u.push(f[m]);this.ma(q,f,[h])}for(h=0;h<u.length;h++)Xb(X(u[h]),"glance_masked");
f=S(d,"getElementsByTagName","input");for(h=0;h<f.length;h++)"hidden"===f[h].type&&(f[h].value="");for(h=0;h<this.h.cd.fa.length;h++)editableels=S(d,"querySelectorAll",this.h.cd.fa[h]),this.le()};n.prototype.jd=function(){if(r.I)return A.u()?nd(A.u()).replace(/\//g,"-"):ssinfo.I};n.prototype.Ge=function(b){let d=r.info.proxy&&!r.info.universalcam,f=r.info.universalcam;var h=document.head.querySelector("base[href]");if(!h||d||f){var m=A.v.createElement("base"),u=r.I?"/glance"+this.jd():"";h="/agent/resource/"+
r.g()+u+"/"+nd(h?h.href:A.u());u=new URL(document.baseURI);let q=u.pathname.split("/");0<q.slice(-1).indexOf(".")&&(q=q.slice(0,-1));u=nd(u.origin+q.join("/"));u=`https://${f}/resource/request/${r.groupId()}/0/${u}`;jd({Cd:!!f,rd:`https://${r.A.server}:${r.info.port}${h}/`});m.href=d?h:f?u:"//"+A.la.location.host+A.u();b.insertBefore(m,b.firstChild)}else this.hc(b,"link"),this.hc(b,"base")};n.prototype.Jc=function(b){for(var d=b.querySelectorAll("link[integrity]"),f=0;f<d.length;f++)d[f].removeAttribute("integrity");
"LINK"===b.tagName&&b.removeAttribute("integrity")};n.prototype.Ic=function(b,d){function f(q){return!q.tagName.match(/^(head|base|link|meta|noscript|style|template|title)$/i)||q.tagName.match(/meta/i)&&q.getAttribute("http-equiv")&&q.getAttribute("http-equiv").match(/^(X-Frame-Options|Content-Security-Policy)$/i)||r.s()&&"BASE"===q.tagName||q.matches("link[as='script']")?!0:!1}var h;if(f(d))return!1;var m=V("children",d);for(h=0;m&&h<m.length;h++){var u=m[h];f(u)&&(u.outerHTML=Yb(X(u)))}b===document.head&&
this.Ge(d);if(void 0!==window.matchMedia)for(u=S(b,"getElementsByTagName","link"),b=S(d,"getElementsByTagName","link"),m=this.Jb(),h=0;h<b.length;h++)b[h].media="1"===m.substr(h,1)?"all":"none",u.length>h&&u[h].disabled&&!b[h].disabled&&b[h].setAttribute("disabled","true");this.Jc(d);this.Xc(d);r.s()&&this.Yb(d);return!0};n.prototype.Xc=function(b){var d=S(b,"getElementsByTagName","style");"STYLE"===b.tagName&&(d=[b]);for(b=0;b<d.length;b++){a:{var f=d[b];for(var h=A.v.styleSheets,m=0;m<h.length;m++)if(h[m].ownerNode&&
h[m].ownerNode.getAttribute("data-gid")===f.getAttribute("data-gid")){f=h[m];break a}f=null}null!==f&&(f=this.tc(f),null!==f&&(d[b].innerHTML=f))}};n.prototype.tc=function(b){b=uc(b);if(null===b)return null;r.s()&&(b=rd(b));return b};n.prototype.xd=function(b,d){return d.match(/^src$/i)&&"IFRAME"===b.tagName&&(this.Va(b)||b.getAttribute("data-no-cobrowse-content")||b.getAttribute("data-independent-content"))||this.h.Fc(b,d)||d.match(/^on.*/i)||"integrity"===d||"pattern"===d?!1:"class"===d&&null!==
b.parentNode&&this.h.ra(b)?b.getAttribute("class")+" glance_masked":r.s()?this.Zb(b,d):b.getAttribute(d)};n.prototype.yd=function(b,d){"IFRAME"===d.tagName?this.$b([d]):this.$b(S(d,"getElementsByTagName","iframe"));if(b.tagName.match(/script/i))return d.removeAttribute("src"),d.innerHTML="",!0;var f=S(d,"getElementsByTagName","script");for(var h=0;h<f.length;h++){var m=f[h];m.removeAttribute("src");m.innerHTML=""}this.Jc(d);f=lc(X(d),"[glance_cobrowse_suppress='1']");for(h=0;h<f.length;h++)f[h].outerHTML=
Yb(X(f[h]));f=lc(X(d),"[pattern]");for(h=0;h<f.length;h++)f[h].removeAttribute("pattern");b.parentNode&&X(b).matches("meta[http-equiv='X-Frame-Options'][content='deny']")&&d.removeAttribute("content");f=lc(X(d),"meta[http-equiv='X-Frame-Options'][content='deny']");for(h=0;h<f.length;h++)f[h].removeAttribute("content");this.me(b,d);this.Eb(!0);this.Gc();Ad(this.Oa,[b]);this.Xc(d);r.s()&&this.Yb(d);return!0};n.prototype.ac=function(){var b=document.body;if(b){this.Da=0<b.getElementsByTagName("svg:svg").length;
b=b.getElementsByTagName("svg");if(!this.Da)for(var d=0;d<b.length&&!this.Da;d++)/svg:svg/i.test(b[d].tagName)&&(this.Da=!0);this.wd=0<b.length}};n.prototype.Fb=function(b){if(!b)return b;b=b.replace(/data-proxyattr-(.*?) *= *"(.*?)"/g,(d,f,h)=>`${f}="${h}"`);this.Da&&(b=b.replace(/<svg:/gi,"<").replace(/<\/svg:/gi,"</"));R.safari&&this.wd&&(b=b.replace(/ NS\d*:href/gi," href"));return b};n.prototype.Hc=function(b,d){var f=X(b);return ic(f)||cc(f,document.head)?this.Ic(b,d):this.yd(b,d)};n.prototype.Gd=
function(){this.ac();var b=bc(X(A.v.body));this.Hc(document.body,b);var d=wb(A.v.body);if(null===d)return b;b.style.marginTop=d.marginTop;b.style.marginLeft=d.marginLeft;b.style.paddingTop=d.paddingTop;b.style.paddingLeft=d.paddingLeft;return b};n.prototype.Gb=function(b){function d(u){var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return u.replace(/[&<>'"]/g,function(y){return q[y]})}var f,h="";for(f=0;f<b.attributes.length;f++){var m=b.attributes[f];0!==m.nodeName.indexOf("on")&&
(h+=`${m.nodeName}='${d(m.value)}' `)}return h};n.prototype.Zb=function(b,d){var f=b.getAttribute(d);if(!f)return f;switch(d){case "src":if("IFRAME"===b.tagName)return f;case "href":case "xlink:href":return od(f);case "srcset":b=f.split(",");for(d=0;d<b.length;d++)f=od(b[d].replace(/^\s*/,"")),b[d]=f;return b.join(", ");case "style":return qd(f);default:return f}};n.prototype.Yb=function(b){function d(h,m,u){function q(E){for(var P=0;P<E.length;P++){r.info.universalcam&&E[P].getAttribute("crossorigin")&&
E[P].removeAttribute("crossorigin");let U=E[P].getAttribute(m),Z=f.Zb(E[P],m);Z&&(Z===U?u&&(E[P].removeAttribute(m),E[P].setAttribute(u||m,Z)):(E[P].removeAttribute(m),E[P].setAttribute("data-proxyattr-"+(u||m),Z)))}}var y=X(b),w=lc(y,h);q(w);y.matches(h)&&q([b])}var f=this;d("link:not([as='script'])","href");d("IMG","src");d("input","src");d("image","xlink:href");d("use","xlink:href");d("use","href","xlink:href");d("img[srcset],source[srcset]","srcset");d("[style]","style")};n.prototype.hc=function(b,
d){b=S(b,"getElementsByTagName",d);for(d=0;d<b.length;d++){var f=b[d];if(void 0!==f&&void 0!==f.href){var h=f.href;0!=h.length&&(0>h.indexOf("//")?h=Qb(A,h,r.Pb()):r.info.agenthttp||(h=h.replace("http:","https:")),f.href=h)}}};n.prototype.Ob=function(b){var d=V("type",b)||"";if(d.match(/^hidden$/i))return null;var f=X(b).u();if(!this.J.ce(f,JSON.stringify([V("selectedIndex",b),V("checked",b),V("value",b)])))return null;var h;d.match(/^(button|submit)$/i)?h=!1:d.match(/^text$/i)&&""===b.value?h=!1:
h=this.h.ra(b);return h&&(d.match(/^(radio|checkbox|range)$/i)||b.tagName.match(/^select$/i))?null:(b=X(b).Ob(h&&"string"===typeof b.value?this.h.Kc(V("value",b).length):void 0))?b:null};n.prototype.Hd=function(){return null===document.doctype?{name:"",prefix:"",publicid:"",systemid:""}:{name:document.doctype.name,prefix:document.doctype.publicId?"PUBLIC":document.doctype.systemId?"SYSTEM":"",publicid:document.doctype.publicId||"",systemid:document.doctype.systemId||""}};n.prototype.Ua=function(){if(!this.B&&
!this.l){var b=[],d=this.C.o(),f;for(f=0;f<d.length;f++){var h=this.Ob(d[f]);null!==h&&b.push(h)}return 0<b.length?{i:b}:void 0}};n.prototype.Od=function(){var b,d=A.v,f=[];if(null===this.od||0===A.ba.x&&0===A.ba.y)return f;for(b=d.elementFromPoint(A.ba.x,A.ba.y);b&&b!==d.body&&b!==d;){var h=this.od.j(b);null!=h&&(X(b).u(),f.push({cn:h,p:X(b).u()}));b=b.parentNode}return f};n.prototype.send=function(b,d){b={mtype:b,data:d};if(O)b.frameid=r.I,x.h(window.parent,{zc:b});else if(this.g)try{this.g.dd(b)}catch(f){G("Websocket send failed",
f.toString())}else x.$(rb,"WS_DISCON")};n.prototype.Fd=function(){var b=this.Gd();return this.Fb(b.innerHTML)};n.prototype.kd=function(b,d){try{var f={};if(this.l)return r.j?{xc:"",mb:this.ld(),lc:"",xb:""}:{};b&&b.Lc.childList&&this.ac();if(b){var h=this.O;if(0!==b.length){-1!==b[0].toString().indexOf("MutationRecord")&&Kc(h,b);var m=Fc(h)}else m=void 0;f.V=m}Dd(this.Oa);d&&(f.V=(f.V||[]).concat(d));b||d||(f.mb=this.ld(),f.lc=this.Gb(A.v.body),f.xb=this.Fd());if(this.J.qa("htmlattrs",this.Gb(document.documentElement)))if(f.mb||
f.xb)f.xc=this.Gb(document.documentElement);else{var u=f.V||[],q=u.concat,y=this.O,w=document.documentElement,E;m={};for(E=0;E<w.attributes.length;E++)y.l(w,w.attributes[E].name)&&(m[w.attributes[E].name]=w.attributes[E].value);y.u(w);sa(m);y.g.push({diff:"ATTR",path:y.u(w),data:m});var P=Fc(y);f.V=q.call(u,P)}return f}catch(U){if("ERR_MASKEDFIELDS"===U.message)return F(U.message),this.l=!0,this.kd(b,d);throw U;}};n.prototype.Ra=function(){void 0!==this.g&&1===this.g.readyState&&(G("Closing websocket"),
this.g.close());delete this.g};n.prototype.Wb=function(b,d){G("opening websocket");var f=this;var h=r.K("sjs");this.g=va(h,r.info.hbcheck);this.g.onopen=function(){C("websocket opened with transport:"+this.transport);f.connected=!0;f.Ba(!0);f.rb=0;var m=(new cb("GCB")).get()||"";f.send("CN",{cookie:m,ssnid:r.g(),visitortoken:r.G(),frameid:r.I,ver:"6.3.1.0",href:window.location.href});b();window.top==window.self&&l.T({docshare:{enabled:document.getElementById("glance_pdfviewer")||document.getElementById("glance_xlsviewer")}})};
this.g.Tc=function(m){G("websocket closed:"+m.reason+" ["+m.code+"]");f.g===this&&null!=l&&(!r.l(!1)||1002!==m.code&&2E3!==m.code&&1006!==m.code||(C("WS_CLOSED:"+m.reason+" ["+m.code+"]"),d("WS_CLOSED:"+m.reason+" ["+m.code+"]")&&S(window,"setTimeout",function(){l&&l.yb("closed")},2E3)),delete f.g)};this.g.onerror=function(m){f.g===this&&(C("WS_ERROR:"+m.toString()),d("WS_ERROR:"+m.toString()),delete f.g)};this.g.Wc=function(m){f.g===this&&(m.frameid?f.Yc(m):f.nd(m))};this.g.Vc=function(m){C("HB_SKIPPED");
f.Ba(!1);2<=m.hb&&(f.Ra(),f.yb("hb"))};this.g.Uc=function(){f.Ba(!0)};r.info.universalcam&&!O&&(h=r.info.universalcam.replace("glance-","visitor-"),kd(h,r.groupId(),r.Xa()))};n.prototype.sc=async function(b){x.state=3;await x.ia();x.o("sessioncontinue");b?this.C.g(300):this.C.j(300)};n.prototype.ne=function(){this.J.clear();r.B(!0);var b=this.md(!0,{ga:!0});this.send("NS",b);x.$($c,"NS frame:"+(r.I||"top"));x.o("sessionstart");this.sc(!0);r.B(!1)};n.prototype.Ee=function(b){r.m()?r.l(!0)&&(O||l.g&&
l.g.readyState===SockJS.OPEN)&&(b=this.md(!1,b))&&(this.J.xe.set(),this.send("UP",b),r.B(!1)):(x.j(!1),G("No cookie, stop session"))};n.prototype.td=function(){if(this.l)return{x:0,y:0};var b=Lb(A);b={x:Kb(A,"x",b.x),y:Kb(A,"y",b.y)};JSON.stringify(b);return b};n.prototype.qd=function(){var b=window.location.href.replace(/\?.*/g,"");return this.J.qa("pageurl",b)?b:void 0};n.prototype.Id=function(){var b={groupid:r.groupId(),visitortoken:r.G(),universalcam:r.info.universalcam,visitorid:J.visitorid||
"",ver:"6.3.1.0",maincid:r.A.callId.toString(),browser:{name:R.name,platform:R.Ea.name,version:R.version},site:J.j,loglevel:r.info.loglevel,pdfviewer:null!==xb(A,"glance-pdf"),widget:r.info.widget,cbexperimentagent:r.info.cbexperimentagent,docshareagentdl:r.info.docshareagentdl};Ia(x.g,b,["name","email","phone","remote"]);return Ia(r.info,b,"agenthttp remotescroll chatdomains scaledview proxy commoncache agentcookie".split(" "))};n.prototype.md=function(b,d){function f(w,E){for(y in E)u.J.qa(w+y,
sa(E[y]))||delete E[y]}var h={},m=!1,u=this;this.h.Rd();d.ga&&(zc(l.O,document.head),zc(l.O,document.body),this.Qa(),l.Cb&&l.Cb.start(),l.Ca&&l.Ca.start(),l.Aa&&l.Aa.start(),l.za.start(!0),l.K.start(!0));if(d.ga||r.j||d.dom)ea(!!d.dom===!(!d.bb&&!d.V)),h=this.kd(d.bb,d.V);m=void 0!==h.mb||void 0!==h.xb;var q=h.V&&0<h.V.length;this.ee&&(q||d.resize)&&(h.V=(h.V||[]).concat(this.h.ke()));h.mb?this.J.qa("mediamatches",this.Jb()):d.resize&&this.J.qa("mediamatches",this.Jb())&&(h.V=(h.V||[]).concat(Ec(this.O)));
O&&!Gb(Bb(A,A.ba))&&x.h(window.parent,{Ib:1});b={newssn:b?this.Id():void 0,page:r.j?{proto:A.Pb(),pageurl:window.location.href.replace(/\?.*/g,""),origpath:Ub(),doctype:this.Hd(),frameproxypath:this.jd()}:void 0,html:{htmlattrs:h.xc,bodyattrs:h.lc,pagehead:h.mb,pagebody:h.xb},incstate:m?void 0:{bodydiffs:r.info.compression?void 0:h.V,bd_c:r.info.compression?Ga(h.V):void 0,inputs:!r.info.compression&&d.inputs?this.Ua():void 0,ip_c:r.info.compression&&d.inputs?Ga(this.Ua()):void 0,escroll:this.Lb.Zd(q?
"all":d.zb)},ssnmessages:l.Ld(),elemdata:{canvases:d.canvas&&this.K?this.K.lb.Yd():void 0,adoptedstyles:Ga(zd(this.Oa,d.ga)),shadowdoms:this.l?void 0:Cd(this.Oa)},state:{inputs:!r.info.compression&&m?this.Ua():void 0,ip_c:r.info.compression&&m?Ga(this.Ua()):void 0,styles:this.Od(),mouse:this.l?void 0:Bb(A,A.ba),click:this.l?void 0:Ab(A),scroll:d.scroll||q||d.ga||r.j?this.td():void 0,scrollvisible:{x:ub(A,A.sd),y:ub(A,A.pb)},scrollinfo:Tb(A),windims:A.ca(),docdims:vb(A),pageurl:this.qd(),focus:{path:this.Ed(),
open:this.P===this.Zc()}},callstate:{rc:{enabled:this.o,suspended:void 0!==this.aa.g.ta},accessibility:void 0===this.ia||O?void 0:{enabled:this.ia},ssvisitor:H.getState(),visitorvideo:this.D.getState(),user:d.user&&l?l.Ab:void 0}};Object.assign(b.callstate,t.h);t.h={};for(var y in b.incstate)b.incstate.hasOwnProperty(y)&&void 0!==b.incstate[y]&&this.J.ed("diffs");this.C.l||this.C.start();r.j||(f("state",b.state),f("callstate",b.callstate));Ta(b);for(y in b)if(b.hasOwnProperty(y))return b;return null};
n.prototype.Kd=function(b){if("mousemove"===b.type&&!this.o)return!1;void 0===this.aa.g.ta&&(this.o&&this.j.show(!1),this.o&&(this.J.Sd(),this.J.nc("statefocus")));return!0};n.prototype.Jd=function(){t.da()};n.prototype.qe=function(){this.Xa({tb:{enabled:this.o}})};n.prototype.G=function(b){b!==this.o&&(this.o=b,this.aa.g.clear(),l&&t.da(),this.j.show(b),this.qe(),this.Y.sa("rc",{enabled:b}))};n.prototype.Xd=function(b,d){function f(u,q){return{type:q?q:u.type,agent:u.agent,path:u.path,value:u.value}}
if(!this.B&&!this.l){if(b.path){var h=Pb(X(document.documentElement),b.path,!1);if(null===h){C("ELEM_NOT_FOUND_RC");return}}var m=!b.type.match(/scroll|mousemove|mouseleave/)&&!(h&&h.getAttribute("data-agentinteractive"));if(!m||"CBGUESTRC"===d)if(void 0===this.aa.g.ta||"mousemove"===b.type)if(this.o||r.info.remotescroll&&!m)if(h&&(this.h.ra(h)||"mouse"===b.type&&"click"===b.etype&&sb(A,h)))JSON.stringify(b);else switch(this.aa.j.set(800),b.type){case "mouse":$b(X(h),b.etype);"click"===b.etype&&x.fireEvent("rcevent",
f(b,"click"));t.g();break;case "mousemove":b=Ob(A,b.relative,b.client);O||(b=Ib(A,b));this.j.moveTo(b.x,b.y);this.j.jb||(this.j.jb=!0,this.j.show(!0));break;case "mouseleave":this.j.jb=!1;this.j.show(!1);break;case "key":h.focus();kb(h,b.keyevent);break;case "focus":h.focus();l.C.X("focus");break;case "blur":h.blur();this.qb&&this.qb===h&&(jb(this.qb,"change"),x.fireEvent("rcevent",f(b,"inputchange")));delete this.qb;break;case "input":h.value=b.value;jb(h,"input");"number"===h.type&&jb(h,"change");
x.fireEvent("rcevent",f(b,"agenttyping"));this.qb=h;break;case "selchange":h.selectedIndex=b.selectedIndex;jb(h,"change");x.fireEvent("rcevent",f(b,"inputchange"));break;case "scroll":JSON.stringify(b);A.scrollTo(b.axis,Mb(A,b.axis,b.relative,b.offset),!0);break;case "elementscroll":h.scrollLeft=b.x;h.scrollTop=b.y;break;default:C("UNK_RC_EVT"+b.type)}}};n.prototype.uc=function(b){void 0!==b.acknewpage&&this.Ia({ga:!0});(void 0!==b.newagent||b.fullupdate)&&this.J.vc("diffs")&&l.ha();void 0!==b.rcevent&&
this.Xd(b.rcevent,b.priv);void 0!==b.rcrequest&&"CBGUESTRC"===b.priv&&(b.rcrequest?this.Xb():this.G(!1));b.navigationassist&&"NAVASSIST"===b.priv&&this.we(b.navigationassist);void 0!==b.cerequest&&"CBGUESTSE"===b.priv&&(b.cerequest?this.Xb(!0):this.G(!1));if(b.requestvisitorscreenshare){if("undefined"==typeof navigator.mediaDevices||"undefined"==typeof navigator.mediaDevices.getDisplayMedia){this.m.h.T({visitorscreenshare:{status:"notsupported",visitorscreensharerequested:"true"}});return}1!==b.requestvisitorscreenshare||
"notstarted"!=this.m.status&&"stopped"!=this.m.status||M.F("visitorscreensharerequested",{accept:()=>{this.Nb(b.screensharesurfaces)},decline:()=>{this.Pc()}})}b.stopvisitorscreenshare&&1===b.stopvisitorscreenshare&&"started"==this.m.status&&this.fc();b.docrequest&&this.te();b.docshared&&this.Vd(b.docshared);b.downloaded&&M.F("agentdownload",hb({name:b.downloaded}));void 0!==b.accessibility&&"ACCESSIBILITY"===b.priv&&this.Sa(b.accessibility);void 0!==b.reposition&&M.F("widgetmoving",b.reposition);
void 0!==b.repositiondone&&M.F("widgetmoved",b.repositiondone);void 0!==b.ol_c&&(b.outline=Ha(b.ol_c));void 0!==b.outline&&(this.H.Fa(),this.Bd(b.outline));void 0!==b.resreq&&this.de(b.resreq);void 0!==b.nav&&this.navigate(b.nav);void 0!==b.requestvisitorvideo&&this.ic();void 0!==b.ssnmessage&&rc(fc,b.ssnmessage);void 0!==b.sessionend&&(this.bc=b.sessionend);b.pauseparticipantvideo&&b.pauseparticipantvideo.participantnum&&"0"===b.pauseparticipantvideo.participantnum&&Td(this.D);b.videosize&&Zd(this.D,
b.videosize.size)};n.prototype.de=function(b){da("Received resource request for",b.url,b.accepttype,"frameid:",r.I);sd(b.url,b.accepttype,r.g(),r.G(),r.I,r.K("UR"))};n.prototype.Ce=function(b){null===b.getAttribute("tabIndex")&&(b.setAttribute("tabIndex",0),S(window,"setTimeout",function(){b.removeAttribute("tabIndex")},1E3));b.focus()};n.prototype.ic=function(b){K("Visitor video requested");Nd(this.D)||M.F("visitorvideorequested",{accept:(d,f)=>{d.video=d.video||b||"small";this.na({visitorvideorequest:"accepted"});
Xd(this.D,d,f)},decline:d=>{this.na({visitorvideorequest:"declined"});d.video=d.video||b||"small";d.paused=!0;Xd(this.D,d)}})};n.prototype.navigate=function(b){var d=this;if(this.o){switch(b.url){case "f":window.history.forward();return;case "b":window.history.back();return;case "r":window.location.href=window.location.href;return}var f=new URL(b.url,window.location.href);if(T(f.hostname)!==T(window.location.hostname)&&!Qa(f.hostname,r.info.trusteddomains)||b.url.includes("@"))throw Error("ERR_UNTRUSTED_NAV_URL "+
b.url);b.url=f.href;b.confirm?(b.accept=function(){delete b.confirm;d.navigate(b)},M.F("confirm",b)):b.open?(f=b.open,window.open(b.url,f.target,f.features)):b.link?(f=document.createElement("a"),f.style.display="none",f.href=b.url,f.target=b.link.target,document.body.appendChild(f),f.click(),f.remove()):window.location.href=b.url}};n.prototype.Xb=function(b){var d=this;M.F("rcrequested",{accept:function(){d.G(!0);d.na({rcrequest:"accepted"})},decline:function(){d.na({rcrequest:"declined"})},selective:b})};
n.prototype.te=function(){M.F("docsharerequested",{onpreviewconfirm:()=>{this.T({docsharepreview:{enabled:!0}})},onpreviewcancel:()=>{this.T({docsharepreview:{enabled:!1}})},onconfirm:()=>{this.T({docshare:{enabled:!0}})},oncancel:()=>{this.T({docshare:{enabled:!1}})}})};n.prototype.we=function(b){Qa(b.url,r.info.trusteddomains)?(l.Kb={He:T(b.url)!==T(window.location.href),destination:b.url},b.accept=()=>l.Kb.He?Y.crossDomain().then(function(){return l.Kb.destination}):Promise.resolve(l.Kb.destination),
M.F("navassistrequested",b)):F("Navigation Assist:  Domain not trusted")};n.prototype.Vd=function(b){var d=b.name,f=b.n;this.s[d]||(this.s[d]={showdl:b.type,agentselected:!0,nmsgs:b.nmsgs,parts:{}},M.F("filedownloading"));this.s[d].parts[f]=b.doc;if(Object.keys(this.s[d].parts).length===this.s[d].nmsgs){f="";for(let h=0;h<b.nmsgs;h++)f+=this.s[d].parts[h];d=b.download&&"true"===b.download&&b.mimetype;switch(b.type){case "PDF":Kd(l.ua,{data:f,showdl:d,name:b.name,agentselected:!0,download:b.download});
break;case "XLS":Hd(l.ua,{data:f,showdl:d,name:b.name,agentselected:!0,download:b.download})}M.F("filedownloaded");this.s={}}else 0<f&&!this.s[d].parts[f-1]&&(F("Error: incomplete document"),this.s={},M.F("filedownloaded"))};n.prototype.Sa=function(b){this.ia!==b&&(this.ia=b,this.Xa({Mb:{enabled:this.ia}}),this.Y.sa("accessibility",{enabled:b}),l&&t.da())};n.prototype.nd=function(b){if(b&&void 0!==b.mtype)if("close"===b.mtype)C("Session ended, reason: "+b.data.reason),"1003"==b.data.reason&&F("ERR_UNAUTHORIZED"),
x.j(!1),this.Ra();else if("BL"===b.mtype)r.na(),r.Aa();else if(r.l(!1)&&("MS"===b.mtype&&this.uc(b.data),"SU"===b.mtype)){var d=b.data.state;b=b.data.messages;d.rc&&this.G(d.rc.enabled);d.accessibility&&this.Sa(d.accessibility.enabled);d.agents&&this.Y.sa("agents",d.agents)&&this.ud(d.agents);void 0!==d.ssvisitor&&H.h(d.ssvisitor,H.prototype.K);void 0!==d.visitorscreenshare&&"accepted"==d.visitorscreenshare.status&&"started"!=this.m.status&&(le(this.m),M.F("visitorscreensharerequested",{accept:()=>
{let h=d.visitorscreenshare.descriptor;h?this.Nb(d.visitorscreenshare.screensharesurfaces,d.visitorscreenshare.initialvideostate,h):this.Nb(d.visitorscreenshare.screensharesurfaces,d.visitorscreenshare.initialvideostate)},decline:()=>{this.Pc()}}));d.visitorvideo&&!this.D.getState()&&Yd(this.D,d.visitorvideo);H.h(oa(d),H.prototype.B);for(var f=0;b&&f<b.length;f++)this.uc(b[f]);void 0!==d.user&&Ia(d.user,this.Ab);this.ec||(x.o("statereceived"),this.ec=!0)}};n.prototype.Nb=function(b,d=null,f=null){null==
d?(d="undefined"!==typeof this.D.getState()?this.D.getState().video:"",this.m.start(b,d,f)):this.m.start(b,d,f)};n.prototype.Pc=function(){le(this.m)};n.prototype.fc=function(){ne(this.m)};n.prototype.ud=function(b){var d=this.D,f=b.count;d.s!==f&&(d.s=f,d.h&&d.h.setAccepterCount(f));x.ma(b);!this.ec||this.De||O||Nd(this.D)||!x.Da()||(K("Agent joined a session that starts with video:",x.g.video,"camerastatus:",x.g.camerastatus),x.g.videosource||x.g.camerastatus&&"available"!==x.g.camerastatus?(K("Camera settings already specified, start video"),
Xd(this.D,{video:x.g.video,videosource:x.g.videosource,previewelementid:x.g.previewelementid,paused:x.g.videopaused,camerastatus:x.g.camerastatus,videobgfilter:x.g.videobgfilter,videobgtype:x.g.videobgtype},x.m),delete x.m):(K("Prompt for camera settings"),this.ic(x.g.video)),this.De=!0)};n.prototype.Na=function(b){if(b.target!==document&&l.W&&cc(l.W,b.target)){var d=X(b.target),f=l.W;b=Jb(f);f=f.ca();var h=Jb(d);d=d.ca();b.x+f.width>h.x+d.width||b.x<h.x||b.y+f.height>h.y+d.height||b.y<h.y?this.H.Ma():
this.H.fb(l.W)}};n.prototype.Pd=function(b){if(b.moveTo){var d=la(b.I);O?(d=d.getBoundingClientRect(),b.moveTo.x+=d.left,b.moveTo.y+=d.top,this.j.Oc(b.moveTo.x,b.moveTo.y)):(d=Jb(X(d),!0),b.moveTo.x+=d.x,b.moveTo.y+=d.y,this.j.moveTo(b.moveTo.x,b.moveTo.y))}else b.fd&&this.j.show(b.fd.show)};n.prototype.Wd=function(b){b.kc&&(this.H.Ya=b.kc);if(b.rect){var d=la(b.I),f;let m;var h=Number.parseFloat(null!=(f=window.getComputedStyle(d).borderLeftWidth)?f:"0");f=Number.parseFloat(null!=(m=window.getComputedStyle(d).borderTopWidth)?
m:"0");O?(d=d.getBoundingClientRect(),b.rect.x+=d.left+h,b.rect.y+=d.top+f,this.H.Nc(b.rect)):(d=Jb(X(d),!0),b.rect.x+=d.x+h,b.rect.y+=d.y+f,this.H.pc(b.rect))}else b.gb?this.H.gb():b.Fa?this.H.Fa():b.xa?this.H.xa(b.xa.opacity):b.Ma&&this.H.Ma()};n.prototype.Ad=function(b,d){function f(){h.M&&(h.M.element.setAttribute(d.attr,h.M.oe),delete h.M)}var h=this;this.M&&(S(window,"clearTimeout",this.M.ta),f());this.M={element:b,oe:b.getAttribute(d.attr)};b.setAttribute(d.attr,d.attrval);this.M.ta=S(window,
"setTimeout",function(){f()},5E3)};n.prototype.Bd=function(b){delete this.W;this.H.Ya={num:b.agentnum,role:b.role,name:b.agentname};var d;if(b.url===window.location.href.replace(/\?.*/g,""))if(void 0!==b.element&&(d=Pb(X(A.v.documentElement),b.element)),"attr"===b.gesttype)this.H.Ma(),this.Ad(d,b);else{if(void 0!==b.p1){ea(!O);this.H.Vb(!1);d=Nb(A,b.p1.relative,b.p1.client);var f=Nb(A,b.p2.relative,b.p2.client);jc(this.H,Math.min(d.x,f.x),Math.min(d.y,f.y));hc(this.H,Math.abs(d.x-f.x),Math.abs(d.y-
f.y));d=this.H;d.element.className=d.element.className.replace(RegExp("\\s+elem_gest","g"),"");b.gesturedone&&this.H.Vb(!0)}else d&&(this.W=X(d),this.H.fb(this.W),this.ia&&this.Ce(d));this.H.xa(100);b.gesturedone&&this.H.gb()}};n.prototype.T=function(b){this.send("CS",b)};H.getState=function(){if(H.gd){delete this.gd;var b={},d;for(d in H.g)b[d]=H.g[d].state;return b}};H.h=function(b,d){for(var f in b)H.g[f]||(H.g[f]=new H(f)),d.call(H.g[f],b[f])};H.l=function(){for(var b in H.g)H.g[b].blur()};H.m=
function(){for(var b in H.g)H.g[b].close()};H.j=function(b,d,f){for(var h in H.g)null!==H.g[h].Z&&H.g[h].Z.contentWindow===d&&f.call(H.g[h],b)};H.g={};H.prototype.j=function(b,d,f,h){K("Screenshare.setVisitorState",b);this.state={status:b,ssnid:d,joinurl:h,agentnum:f};H.gd=!0;t.da()};H.prototype.m=function(){return this.state&&this.state.status};H.prototype.K=function(b){this.state||(this.state=b)};H.prototype.B=function(b){var d=this.h;G("handleScreenshare previous agent info:",d," new agent info:",
b);null===b.ssnid?d&&null!==d.ssnid?(G("screenshare ended"),this.close(),this.j(""),delete this.h):l.Y.screenshare.sa(this.g,{state:b.error?"still-error":"still-ended",screenshareView:this.g}):b.error?l.Y.screenshare.sa(this.g,{state:"error",screenshareView:this.g}):(d&&b.ssnid!==d.ssnid&&(G(`new screenshare ${b.ssnid} ending previous screenshare ${d.ssnid}`),d=null,this.close(),this.j("")),this.h=b,d?b.paused!==d.paused&&(l.Y.screenshare[this.g].paused=b.paused,M.F(b.paused?"screensharepaused":"screenshareresumed",
{screenshareView:this.g})):"reverse"===b.params.type&&this.m()?G("screenshare already joined"):(this.l=b.joinurl||ad(J,"cobrowse/JoinScreenshare.ashx?ssnid="+b.ssnid+"&gid=1000&novcentermobile=1"),"reverse"===b.params.type?this.P():this.M(b)))};H.prototype.accept=function(){this.j("accepted");window.open(this.l)};H.prototype.o=function(){this.j("declined")};H.prototype.blur=function(){this.h&&"forward"===this.h.params.type&&(this.Z&&this.Z.contentWindow&&(Oa(this.Z.contentWindow,"glance_viewer",{close:!0}),
this.Z.src=""),delete this.h)};H.prototype.close=function(){this.h&&("forward"===this.h.params.type?(this.Z&&this.Z.contentWindow&&(Oa(this.Z.contentWindow,"glance_viewer",{close:!0}),this.Z.src=""),l.Y.screenshare.sa(this.g,{state:"ended",screenshareView:this.g})):M.F("reverseended",{}))};H.prototype.P=function(){var b=this;M.F("reverseconfirm",{accept:function(){b.accept()},decline:function(){b.o()}})};H.prototype.M=function(b){var d=b.ssnid,f=b.params;G("Joining forward session",d,f,"iframe:",
this.Z,this.l);var h=!this.m()||this.state.ssnid!==d;if(this.Z){var m=l.D;this.g!==(m.g&&m.g.visitorvideoelementid)&&(this.Z.src=this.l.replace("{guestid}","0").replace("{role}","visitor"));this.Z.setAttribute("data-src",this.l);b.agentnum&&this.Z.setAttribute("data-agentnum",b.agentnum)}h&&this.j("joined",d,b.agentnum,b.joinurl);f.size&&(b=f.size,m=d=0,b&&((m=b.match(/(\d+)x(\d+)/))&&3===m.length||C("ERR_INVALIDDIMS:"+b),d=m[1],m=m[2]),f.width=d,f.height=m);l.Y.screenshare.sa(this.g,{screenshareView:this.g,
agentnum:this.h.agentnum,state:h?"new":"continued",paused:this.h.paused,params:f})};H.prototype.s=function(){G("Screenshare received glance_join message after join with client");var b=this;S(window,"setTimeout",function(){b.close()},1E3);this.j("joined");x.La()};H.prototype.G=function(b){K(`Screenshare ${this.g} received message ${JSON.stringify(b)} from player`);b.closed?l&&l.Y.screenshare.sa(this.g,{state:"ended",screenshareView:this.g}):(b.closereason&&M.F("viewerclosing",{screenshareView:this.g,
closereason:b.closereason}),M.F("viewerinfo",{screenshareView:this.g,screen:b.screen,scaledview:b.scaledview,stats:b.stats}))};N.prototype.ia=async function(){if(qa&&!O){var b=Date.now();await qa._uiready;b=Date.now()-b;5<b&&G("UI wait:",b)}};N.prototype.ae=function(){return l.Y.visitorvideo&&l.Y.visitorvideo.video?l.Y.visitorvideo.video:"off"};N.prototype.fireEvent=function(b,d){M.F(b,d);"visitordownload"===b&&l.send("DOC",{docdownloaded:!0,name:d.name})};N.prototype.s=async function(b){function d(){l.se(b)}
function f(m){return l&&l.pd(b,m)}if("6.3.1.0"!==r.A.ver)this.$(rb,"ERR_VERSION:6.3.1.0");else{b&&!O&&this.$($c,"SSN_PROVISIONED");var h=await this.K();l=new n(h);"1"===J.startpaused?l.yc(!0):this.l||t.T("sessionpaused",{paused:!1});O?d():l.Wb(d,f)}};N.prototype.o=function(b,d){Y.readyState=Y.READYSTATE[b];M.F(b,d)};N.prototype.G=function(){return Y.readyState<Y.READYSTATE.statereceived?(C("ERR_STATE current:"+Y.readyState+" expected:statereceived"),!1):!0};N.j=29;N.g=32;N.h=34;N.prototype.ha=function(b,
d){if(r.A&&r.g()){var f=r.A.callId,h=`https://${J.ya}/services/InternalService.asmx/${f?"ViewerError2":"ViewerError"}`,m=Za,u=new Va("XML");b={callid:f,ssnid:r.g(),client_num:0,message:Ja()+" "+d,err_code:b};d=[];for(var q in b)b.hasOwnProperty(q)&&d.push(encodeURIComponent(q)+"="+encodeURIComponent(b[q]));m(u,h,d.join("&"),!0,!1)}};var $c="INTERESTING",rb="ABNORMAL";N.prototype.$=function(b,d){C("SESSION:"+d);if(r.A&&r.A.server){var f=new Va("JSON");f.m=r.G();Za(f,r.K("LG"),{ssnid:r.g(),level:b,
msg:d,frameid:r.I},!0,!1,function(){},function(){})}};N.prototype.B=function(b,d,f){b&&(C(b),M.F("error",{code:d,msg:b,params:f}));var h=1;switch(d){case "conndrop":h=N.h;break;case "service":h=N.g}this.ha(h,b+" "+JSON.stringify(f)+" on "+window.location.href);x.j(!1,"error")};N.prototype.Da=function(){return this.g&&this.g.video&&"off"!==this.g.video};N.prototype.Nd=function(b){K("Adding callstate for screenshare:",`ssagent-${b.view}`);t.T(`ssagent-${b.view}`,b)};N.prototype.j=function(b,d){var f=
b?"visitor":"agent";null!=l&&(l.bc&&(f=l.bc.reason),l.vd(b),l=null);d&&(f=d);this.P();r.clear();r=new a(J);1!==this.state&&(this.state=1,this.o("sessionend",{reason:f}))};N.prototype.ma=function(b){r.za(b)&&(r.Ra(b),this.K().then(d=>{l.dc(d)}))};N.prototype.K=async function(){let b={};try{return window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.getMaskingDescriptor&&(b=await window.GLANCE_COBROWSE.getMaskingDescriptor({agents:r.Ba()})),b.maskedelements=b.maskedelements||[],b.unmaskedelements=b.unmaskedelements||
[],b}catch(d){return console.error("getMaskingDescriptor failed: ",d.message),this.fireEvent("maskingerror",{reason:d.message}),{maskpage:!0,maskedelements:[],unmaskedelements:[]}}};N.prototype.M=function(){r.load(function(){x.s(!1)},function(b){x.B(b,"service")})};N.prototype.Ba=function(){this.aa=!0};N.prototype.La=function(){O?this.h(window.top,{La:1}):r.m()?r.l(!0)||(r.ma(),M.F("focus"),l?(l.Ra(),l.yb("focus")):this.M()):r.o()&&this.j(!1)};N.prototype.Aa=function(b,d){if(b.glance_viewer)H.j(b.glance_viewer,
d,H.prototype.G);else if(b.glance_join)H.j(b.glance_join,H.prototype.s);else if(b.glance_iframe)this.za(b.glance_iframe,d);else return!1;return!0};N.prototype.h=function(b,d){var f={};f.glance_iframe=d;b.postMessage(f,"*")};N.prototype.za=function(b,d){b.ze&&this.j();if(b.Bb&&l)switch(b.Bb){case "PDF":Kd(l.ua,b.params);break;case "XLS":Hd(l.ua,b.params)}if(b.ub&&l)l.Wd(b.ub);else if(b.sb&&l)JSON.stringify(b.sb),l.Pd(b.sb);else{b.zc&&null!==l&&(O?x.h(window.parent,b):l&&l.g&&l.g.dd(b.zc));b.ib&&null!==
l&&(b.ib.frameid===r.I?l.nd(b.ib):l.Yc(b.ib));b.Ib&&null!==l&&!Gb(Bb(A,A.ba))&&(A.Ib(),l.C.X("mouse"));if(b.Ia){b.Ia.pe.ga&&null!==l&&x.j(!1);r.Sa(b.Ia.A);r.Wa(b.Ia.Ae);if(!r.o())throw Error("ERR_WRONG_GROUP");r.I=b.Ia.I;r.Qa();l||S(window,"setTimeout",function(){l||x.s(!0)},0)}b.tb&&(l?l.G(b.tb.enabled):r.Va(b.tb.enabled));b.Mb&&(l?l.Sa(b.Mb.enabled):r.Ua(b.Mb.enabled));b.fe&&l&&r.l()&&l.Ac&&l.Ia({ga:!1},d);b.La&&this.La()}};N.prototype.na=async function(b){ea(!("secure"===J.l&&"https:"!=window.location.protocol));
await this.ia();"string"===typeof b?b={sessionKey:b}:b||(b=x.Ca);1===x.state?(this.o("sessionstarting"),x.state=2,x.m=b&&b.glanceVideo||x.m,r.start(b,function(){x.s(!0)},function(d,f){x.B(d,f||"service")})):C("ERR_ALREADYINSSN")};N.prototype.T=function(b){l&&null!=l&&l.T(b)};qa&&qa._eventListeners&&(G("merge Loader event listeners"),tc(M,qa._eventListeners),delete qa._eventListeners);Y.init=function(){G("initVisitor ",window.location.href);if(!Yc)if(J=new Uc,null!==J.ea){Yc=!0;r=new a(J);re.set();
L=n.h();L.addEventListener.call(window,"message",pe,!1);x=new N;ec=new Q;J.useIFrameProxy&&(fa=!0,Aa(J.m),Ma("message",bb,!1),Aa(J.m),Ma("message",Ea,!1));O?x.h(window.parent,{fe:!0}):r.m()&&!Cb(A)&&(r.ma(),x.M());if(qa){var b=qa._onload.Visitor;b&&b()}M.F("ready")}else G("glance-cobrowse not ready")};Y.setCookieValue=function(b,d){r.Ta(b,d)};Y.getCookieValue=function(b){return r.aa(b)};Y.startSession=function(b){G("startSession");if(O)throw Error("startSession in iframe");x.na(b)};Y.inSession=function(){return r&&
null!==r.key()};Y.sessionGroupId=function(){return r.groupId()};Y.continueSessionAt=function(b){Zc.Ud({destination:b.destination,oc:b.destinationurl,oncomplete:b.oncomplete,Qe:b.iewarningsuppressed})};Y.crossDomain=function(b){ba("GLANCE.Cobrowse.Visitor.crossDomain called");if(!l)return Promise.resolve();b=b||{};return de(l.Ja,b.url,b.target)};Y.isCrossDomainDone=function(){return l?je(l.Ja):!1};Y.getKey=function(){return r.key()};Y.isRandomKey=function(){return!r.Qb()};Y.isPageMasked=function(){return l&&
l.B};Y.getStartParams=function(){x.g||(x.g=r.aa("startparams"));return x.g};Y.setCameraSettings=function(b){Object.entries(b).forEach(([d,f])=>{x.g[d]=f})};Y.setGlanceVideoSource=function(b){x.m=b||x.m};Y.setUserState=function(b,d){if(!x.G())return!1;l.Ab.Be(b,d);return!0};Y.getUserState=function(b){return x.G()?l.Ab.getState(b):null};Y.getSessionState=function(b,d){return x.G()?l.Y.getState(b,d):null};Y._reconnect=function(){!l||l.g&&l.g.readyState===SockJS.OPEN||l.yb()};Y.stopSession=function(){x.j(!0)};
Y.setStartParams=function(b){x.Ca=b};Y.enableRC=function(b){l&&l.G(b)};Y.startVideo=function(b,d){l&&Xd(l.D,b,d)};Y.stopVideo=function(){l&&Sd(l.D)};Y.toggleVideo=function(){if(l){var b=l.D;K("toggleSession state:",b.state,"error:",b.g.error,"camera status:",b.g.camerastatus);if(b.g.error||"blocked"===b.g.camerastatus||"error"===b.g.camerastatus)delete b.g.error,b.g.camerastatus="available",b.state=Vd,Xd(b,b.g);else switch(b.state){case Rd:b.g.paused?ae(b):Td(b)}}};Y.toggleVideoSize=function(){l&&
$d(l.D)};Y.largeVideo=function(){l&&Zd(l.D,"large")};Y.smallVideo=function(){l&&Zd(l.D,"small")};Y.setVideoBgFilterActive=function(b){l&&Ud(l.D,b)};Y.onStopped=function(b){x.P=b};Y.addEventListener=function(b,d){O||M.add(b,d)};Y.removeEventListener=function(b,d){M.remove(b,d)};Y.addSessionMessageHandler=function(b,d){fc.g["^"+b+"$"]=d};Y.addSessionMessageListener=function(b,d){fc.g["^"+b+"$"]=d};Y.sendSessionMessage=function(b,d){if(!l)throw Error("No session");d.messageName=b;l.na(d)};Y.readyState=
0;Y.READYSTATE={sessionstarting:1,sessionstart:2,sessioncontinue:3,statereceived:4,sessionend:5};Y.viewPDF=function(b){"string"===typeof b&&(b={url:b});window.self===window.top||b.preview?Kd(l.ua,b):x.h(window.top,{Bb:"PDF",params:b})};Y.viewXLS=function(b){window.self===window.top||b.preview?Hd(l.ua,b):x.h(window.top,{Bb:"XLS",params:b})};Y.canSendDocument=function(){return!0===r.info.docshareagentdl};Y.getCallId=function(){return r.A.callId};Y.sendDocument=function(b){if(r.info.docshareagentdl)if(gd(b))if(5>
b.size/1048576){var d=new FileReader;d.onload=f=>{f=f.target.result;for(var h=Math.ceil(f.length/5E5),m=[],u=0;u<h;u++){var q=5E5*u;m.push(f.slice(q,q+5E5))}m.forEach((y,w)=>{l.send("DOC",{doc:y,type:b.type,name:b.name,nmsgs:h,n:w})})};d.readAsBinaryString(b)}else C("File too large: "+b.size),x.fireEvent("documentnotsent",{name:b.name,reason:"File size limit exceeded",size:b.size});else C("Unsupported file type: "+b.type);else C("Not enabled")};Y.pauseSession=function(b){l&&l.yc(!!b.pause,b.message)};
Y.isSessionPaused=function(){return l&&l.l};Y.notifyChanged=function(b){l&&(b.styles&&l.za.now(b.styles),b.canvas&&l.K.now(b.canvas))};Y.loaded=!0;var gc=window.GLANCE.Cobrowse.VisitorUI;Y.showButton=function(b){gc.showButton(b)};Y.toggleButton=function(){gc.toggleButton()};Y.showTerms=function(b){gc.showTerms(b)}})();Rb(new eb(window),function(){Y&&Y.init()});function le(a){let c={visitorscreenshare:{status:"stopped",visitorscreensharerequested:"true"}};a.pa&&null!=a.pa&&(c.visitorscreenshare.descriptor=a.pa);a.h.T(c)}function ne(a){a.g&&a.g.pause();a.h&&null!=a.h&&(a.j?a.j=!1:le(a));"undefined"!==typeof a.h.D.getState()&&a.h.D.getState().video!=a.l&&$d(a.h.D);a.status="stopped"}function se(a,c,e){a.s.F("visitorscreensharesurfacenotallowed",{accept:()=>{a.start(c,e)},decline:()=>{a.j=!1;a.stop()}})}
class ke{constructor(a,c,e){this.h=a;this.R=c;this.status="notstarted";this.g=null;this.s=e;this.j=!1;this.m="";this.o=!1}async start(a,c,e){this.l=c;e&&null!=e&&(this.pa=e);"notstarted"==this.status?(this.status="accepted",await this.create(a,c)?e&&null!=e||this.g.startSession():le(this)):"stopped"==this.status&&(this.status="started",this.g.unPause())}async create(a,c){return new Promise(e=>{let g={screenshare:!0,ss:{width:500,height:200},isAnonymous:!0,groupid:this.R.groupId(),role:"visitor",sessionkey:this.R.key()+
"S"+Math.floor(1E6*Math.random()).toString().padStart(6,"0"),maincallid:this.R.A.callId.toString(),vserver:`https://${this.R.info.vserver||"video.glance.net"}/`};this.g=new window.parent.GLANCE.Video.GlanceVideoSource(g);this.g.addEventListener("initialized",()=>{this.pa&&null!=this.pa&&this.g.resumeSession(this.pa);this.o=!0;e(!0)});this.g.addEventListener("error",()=>{this.o?this.status="stopped":(delete this.g,this.status="notstarted");e(!1)});this.g.addEventListener("sessionStarted",k=>{this.m=
ka(k.descriptor.url,2);this.pa=k.pa;k={visitorscreenshare:{status:"accepted",joinurl:this.m,screensharesurfaces:a,initialvideostate:c,visitorscreensharerequested:"true",descriptor:JSON.stringify(k.pa)}};this.h.T(k);this.status="started";Zd(this.h.D,"small");e(!0)});this.g.addEventListener("sessionPaused",()=>{ne(this)});this.g.addEventListener("sessionUnpaused",()=>{let k={visitorscreenshare:{status:"accepted",joinurl:this.m,screensharesurfaces:a,initialvideostate:c,visitorscreensharerequested:"true",
descriptor:JSON.stringify(this.pa)}};this.h.T(k);this.g.unPause();Zd(this.h.D,"small");this.status="started"});this.g.addEventListener("invalidsurface",()=>{this.j=!0;se(this,a,this.l)});this.g.initialize(null,document.getElementById("glance_visitor_screensharepreview"))})}stop(){this.g&&this.g.endSession();this.h&&null!=this.h&&(this.j?this.j=!1:le(this));this.h.D.getState().video!=this.l&&$d(this.h.D);this.status="stopped";delete this.g}};}).call(window);
//# sourceMappingURL=map.js.map
