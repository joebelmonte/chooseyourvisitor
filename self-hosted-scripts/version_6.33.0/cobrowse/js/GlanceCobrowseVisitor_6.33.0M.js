/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var n=void 0,u=!0,aa=this;function ba(e,d){var c=e.split("."),f=aa;!(c[0]in f)&&f.execScript&&f.execScript("var "+c[0]);for(var a;c.length&&(a=c.shift());)!c.length&&d!==n?f[a]=d:f=f[a]?f[a]:f[a]={}};var C="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function K(e,d){this.index="number"===typeof d?d:0;this.d=0;this.buffer=e instanceof(C?Uint8Array:Array)?e:new (C?Uint8Array:Array)(32768);if(2*this.buffer.length<=this.index)throw Error("invalid index");this.buffer.length<=this.index&&ca(this)}function ca(e){var d=e.buffer,c,f=d.length,a=new (C?Uint8Array:Array)(f<<1);if(C)a.set(d);else for(c=0;c<f;++c)a[c]=d[c];return e.buffer=a}
K.prototype.a=function(e,d,c){var f=this.buffer,a=this.index,b=this.d,k=f[a],m;c&&1<d&&(e=8<d?(L[e&255]<<24|L[e>>>8&255]<<16|L[e>>>16&255]<<8|L[e>>>24&255])>>32-d:L[e]>>8-d);if(8>d+b)k=k<<d|e,b+=d;else for(m=0;m<d;++m)k=k<<1|e>>d-m-1&1,8===++b&&(b=0,f[a++]=L[k],k=0,a===f.length&&(f=ca(this)));f[a]=k;this.buffer=f;this.d=b;this.index=a};K.prototype.finish=function(){var e=this.buffer,d=this.index,c;0<this.d&&(e[d]<<=8-this.d,e[d]=L[e[d]],d++);C?c=e.subarray(0,d):(e.length=d,c=e);return c};
var ga=new (C?Uint8Array:Array)(256),M;for(M=0;256>M;++M){for(var R=M,S=R,ha=7,R=R>>>1;R;R>>>=1)S<<=1,S|=R&1,--ha;ga[M]=(S<<ha&255)>>>0}var L=ga;function ja(e){this.buffer=new (C?Uint16Array:Array)(2*e);this.length=0}ja.prototype.getParent=function(e){return 2*((e-2)/4|0)};ja.prototype.push=function(e,d){var c,f,a=this.buffer,b;c=this.length;a[this.length++]=d;for(a[this.length++]=e;0<c;)if(f=this.getParent(c),a[c]>a[f])b=a[c],a[c]=a[f],a[f]=b,b=a[c+1],a[c+1]=a[f+1],a[f+1]=b,c=f;else break;return this.length};
ja.prototype.pop=function(){var e,d,c=this.buffer,f,a,b;d=c[0];e=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(b=0;;){a=2*b+2;if(a>=this.length)break;a+2<this.length&&c[a+2]>c[a]&&(a+=2);if(c[a]>c[b])f=c[b],c[b]=c[a],c[a]=f,f=c[b+1],c[b+1]=c[a+1],c[a+1]=f;else break;b=a}return{index:e,value:d,length:this.length}};function ka(e,d){this.e=ma;this.f=0;this.input=C&&e instanceof Array?new Uint8Array(e):e;this.c=0;d&&(d.lazy&&(this.f=d.lazy),"number"===typeof d.compressionType&&(this.e=d.compressionType),d.outputBuffer&&(this.b=C&&d.outputBuffer instanceof Array?new Uint8Array(d.outputBuffer):d.outputBuffer),"number"===typeof d.outputIndex&&(this.c=d.outputIndex));this.b||(this.b=new (C?Uint8Array:Array)(32768))}var ma=2,T=[],U;
for(U=0;288>U;U++)switch(u){case 143>=U:T.push([U+48,8]);break;case 255>=U:T.push([U-144+400,9]);break;case 279>=U:T.push([U-256+0,7]);break;case 287>=U:T.push([U-280+192,8]);break;default:throw"invalid literal: "+U;}
ka.prototype.h=function(){var e,d,c,f,a=this.input;switch(this.e){case 0:c=0;for(f=a.length;c<f;){d=C?a.subarray(c,c+65535):a.slice(c,c+65535);c+=d.length;var b=d,k=c===f,m=n,g=n,p=n,v=n,x=n,l=this.b,h=this.c;if(C){for(l=new Uint8Array(this.b.buffer);l.length<=h+b.length+5;)l=new Uint8Array(l.length<<1);l.set(this.b)}m=k?1:0;l[h++]=m|0;g=b.length;p=~g+65536&65535;l[h++]=g&255;l[h++]=g>>>8&255;l[h++]=p&255;l[h++]=p>>>8&255;if(C)l.set(b,h),h+=b.length,l=l.subarray(0,h);else{v=0;for(x=b.length;v<x;++v)l[h++]=
b[v];l.length=h}this.c=h;this.b=l}break;case 1:var q=new K(C?new Uint8Array(this.b.buffer):this.b,this.c);q.a(1,1,u);q.a(1,2,u);var t=na(this,a),w,da,z;w=0;for(da=t.length;w<da;w++)if(z=t[w],K.prototype.a.apply(q,T[z]),256<z)q.a(t[++w],t[++w],u),q.a(t[++w],5),q.a(t[++w],t[++w],u);else if(256===z)break;this.b=q.finish();this.c=this.b.length;break;case ma:var B=new K(C?new Uint8Array(this.b.buffer):this.b,this.c),ra,J,N,O,P,Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W,sa,X,ta,ea,ia=Array(19),
ua,Q,fa,y,va;ra=ma;B.a(1,1,u);B.a(ra,2,u);J=na(this,a);W=oa(this.j,15);sa=pa(W);X=oa(this.i,7);ta=pa(X);for(N=286;257<N&&0===W[N-1];N--);for(O=30;1<O&&0===X[O-1];O--);var wa=N,xa=O,F=new (C?Uint32Array:Array)(wa+xa),r,G,s,Y,E=new (C?Uint32Array:Array)(316),D,A,H=new (C?Uint8Array:Array)(19);for(r=G=0;r<wa;r++)F[G++]=W[r];for(r=0;r<xa;r++)F[G++]=X[r];if(!C){r=0;for(Y=H.length;r<Y;++r)H[r]=0}r=D=0;for(Y=F.length;r<Y;r+=G){for(G=1;r+G<Y&&F[r+G]===F[r];++G);s=G;if(0===F[r])if(3>s)for(;0<s--;)E[D++]=0,
H[0]++;else for(;0<s;)A=138>s?s:138,A>s-3&&A<s&&(A=s-3),10>=A?(E[D++]=17,E[D++]=A-3,H[17]++):(E[D++]=18,E[D++]=A-11,H[18]++),s-=A;else if(E[D++]=F[r],H[F[r]]++,s--,3>s)for(;0<s--;)E[D++]=F[r],H[F[r]]++;else for(;0<s;)A=6>s?s:6,A>s-3&&A<s&&(A=s-3),E[D++]=16,E[D++]=A-3,H[16]++,s-=A}e=C?E.subarray(0,D):E.slice(0,D);ea=oa(H,7);for(y=0;19>y;y++)ia[y]=ea[Ia[y]];for(P=19;4<P&&0===ia[P-1];P--);ua=pa(ea);B.a(N-257,5,u);B.a(O-1,5,u);B.a(P-4,4,u);for(y=0;y<P;y++)B.a(ia[y],3,u);y=0;for(va=e.length;y<va;y++)if(Q=
e[y],B.a(ua[Q],ea[Q],u),16<=Q){y++;switch(Q){case 16:fa=2;break;case 17:fa=3;break;case 18:fa=7;break;default:throw"invalid code: "+Q;}B.a(e[y],fa,u)}var ya=[sa,W],za=[ta,X],I,Aa,Z,la,Ba,Ca,Da,Ea;Ba=ya[0];Ca=ya[1];Da=za[0];Ea=za[1];I=0;for(Aa=J.length;I<Aa;++I)if(Z=J[I],B.a(Ba[Z],Ca[Z],u),256<Z)B.a(J[++I],J[++I],u),la=J[++I],B.a(Da[la],Ea[la],u),B.a(J[++I],J[++I],u);else if(256===Z)break;this.b=B.finish();this.c=this.b.length;break;default:throw"invalid compression type";}return this.b};
function qa(e,d){this.length=e;this.g=d}
var Fa=function(){function e(a){switch(u){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var d=[],c,f;for(c=3;258>=c;c++)f=e(c),d[c]=f[2]<<24|
f[1]<<16|f[0];return d}(),Ga=C?new Uint32Array(Fa):Fa;
function na(e,d){function c(a,c){var b=a.g,d=[],f=0,e;e=Ga[a.length];d[f++]=e&65535;d[f++]=e>>16&255;d[f++]=e>>24;var g;switch(u){case 1===b:g=[0,b-1,0];break;case 2===b:g=[1,b-2,0];break;case 3===b:g=[2,b-3,0];break;case 4===b:g=[3,b-4,0];break;case 6>=b:g=[4,b-5,1];break;case 8>=b:g=[5,b-7,1];break;case 12>=b:g=[6,b-9,2];break;case 16>=b:g=[7,b-13,2];break;case 24>=b:g=[8,b-17,3];break;case 32>=b:g=[9,b-25,3];break;case 48>=b:g=[10,b-33,4];break;case 64>=b:g=[11,b-49,4];break;case 96>=b:g=[12,b-
65,5];break;case 128>=b:g=[13,b-97,5];break;case 192>=b:g=[14,b-129,6];break;case 256>=b:g=[15,b-193,6];break;case 384>=b:g=[16,b-257,7];break;case 512>=b:g=[17,b-385,7];break;case 768>=b:g=[18,b-513,8];break;case 1024>=b:g=[19,b-769,8];break;case 1536>=b:g=[20,b-1025,9];break;case 2048>=b:g=[21,b-1537,9];break;case 3072>=b:g=[22,b-2049,10];break;case 4096>=b:g=[23,b-3073,10];break;case 6144>=b:g=[24,b-4097,11];break;case 8192>=b:g=[25,b-6145,11];break;case 12288>=b:g=[26,b-8193,12];break;case 16384>=
b:g=[27,b-12289,12];break;case 24576>=b:g=[28,b-16385,13];break;case 32768>=b:g=[29,b-24577,13];break;default:throw"invalid distance";}e=g;d[f++]=e[0];d[f++]=e[1];d[f++]=e[2];var k,m;k=0;for(m=d.length;k<m;++k)l[h++]=d[k];t[d[0]]++;w[d[3]]++;q=a.length+c-1;x=null}var f,a,b,k,m,g={},p,v,x,l=C?new Uint16Array(2*d.length):[],h=0,q=0,t=new (C?Uint32Array:Array)(286),w=new (C?Uint32Array:Array)(30),da=e.f,z;if(!C){for(b=0;285>=b;)t[b++]=0;for(b=0;29>=b;)w[b++]=0}t[256]=1;f=0;for(a=d.length;f<a;++f){b=
m=0;for(k=3;b<k&&f+b!==a;++b)m=m<<8|d[f+b];g[m]===n&&(g[m]=[]);p=g[m];if(!(0<q--)){for(;0<p.length&&32768<f-p[0];)p.shift();if(f+3>=a){x&&c(x,-1);b=0;for(k=a-f;b<k;++b)z=d[f+b],l[h++]=z,++t[z];break}0<p.length?(v=Ha(d,f,p),x?x.length<v.length?(z=d[f-1],l[h++]=z,++t[z],c(v,0)):c(x,-1):v.length<da?x=v:c(v,0)):x?c(x,-1):(z=d[f],l[h++]=z,++t[z])}p.push(f)}l[h++]=256;t[256]++;e.j=t;e.i=w;return C?l.subarray(0,h):l}
function Ha(e,d,c){var f,a,b=0,k,m,g,p,v=e.length;m=0;p=c.length;a:for(;m<p;m++){f=c[p-m-1];k=3;if(3<b){for(g=b;3<g;g--)if(e[f+g-1]!==e[d+g-1])continue a;k=b}for(;258>k&&d+k<v&&e[f+k]===e[d+k];)++k;k>b&&(a=f,b=k);if(258===k)break}return new qa(b,d-a)}
function oa(e,d){var c=e.length,f=new ja(572),a=new (C?Uint8Array:Array)(c),b,k,m,g,p;if(!C)for(g=0;g<c;g++)a[g]=0;for(g=0;g<c;++g)0<e[g]&&f.push(g,e[g]);b=Array(f.length/2);k=new (C?Uint32Array:Array)(f.length/2);if(1===b.length)return a[f.pop().index]=1,a;g=0;for(p=f.length/2;g<p;++g)b[g]=f.pop(),k[g]=b[g].value;m=Ja(k,k.length,d);g=0;for(p=b.length;g<p;++g)a[b[g].index]=m[g];return a}
function Ja(e,d,c){function f(a){var b=g[a][p[a]];b===d?(f(a+1),f(a+1)):--k[b];++p[a]}var a=new (C?Uint16Array:Array)(c),b=new (C?Uint8Array:Array)(c),k=new (C?Uint8Array:Array)(d),m=Array(c),g=Array(c),p=Array(c),v=(1<<c)-d,x=1<<c-1,l,h,q,t,w;a[c-1]=d;for(h=0;h<c;++h)v<x?b[h]=0:(b[h]=1,v-=x),v<<=1,a[c-2-h]=(a[c-1-h]/2|0)+d;a[0]=b[0];m[0]=Array(a[0]);g[0]=Array(a[0]);for(h=1;h<c;++h)a[h]>2*a[h-1]+b[h]&&(a[h]=2*a[h-1]+b[h]),m[h]=Array(a[h]),g[h]=Array(a[h]);for(l=0;l<d;++l)k[l]=c;for(q=0;q<a[c-1];++q)m[c-
1][q]=e[q],g[c-1][q]=q;for(l=0;l<c;++l)p[l]=0;1===b[c-1]&&(--k[0],++p[c-1]);for(h=c-2;0<=h;--h){t=l=0;w=p[h+1];for(q=0;q<a[h];q++)t=m[h+1][w]+m[h+1][w+1],t>e[l]?(m[h][q]=t,g[h][q]=d,w+=2):(m[h][q]=e[l],g[h][q]=l,++l);p[h]=0;1===b[h]&&f(h)}return k}
function pa(e){var d=new (C?Uint16Array:Array)(e.length),c=[],f=[],a=0,b,k,m,g;b=0;for(k=e.length;b<k;b++)c[e[b]]=(c[e[b]]|0)+1;b=1;for(k=16;b<=k;b++)f[b]=a,a+=c[b]|0,a<<=1;b=0;for(k=e.length;b<k;b++){a=f[e[b]];f[e[b]]+=1;m=d[b]=0;for(g=e[b];m<g;m++)d[b]=d[b]<<1|a&1,a>>>=1}return d};ba("GLANCE.Lib.Zlib.RawDeflate",ka);ba("GLANCE.Lib.Zlib.RawDeflate.prototype.compress",ka.prototype.h);var Ka={NONE:0,FIXED:1,DYNAMIC:ma},V,La,$,Ma;if(Object.keys)V=Object.keys(Ka);else for(La in V=[],$=0,Ka)V[$++]=La;$=0;for(Ma=V.length;$<Ma;++$)La=V[$],ba("GLANCE.Lib.Zlib.RawDeflate.CompressionType."+La,Ka[La]);}).call(this);

/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var k=void 0,aa=this;function r(c,d){var a=c.split("."),b=aa;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==k?b[e]=d:b=b[e]?b[e]:b[e]={}};var t="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function u(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,l,n,m,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(l=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){n=0;m=h;for(s=0;s<g;++s)n=n<<1|m&1,m>>=1;x=g<<16|p;for(s=n;s<e;s+=l)f[s]=x;++h}++g;h<<=1;l<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=t?new Uint8Array(c):c;this.l=!1;this.i=y;this.p=!1;if(d||!(d={}))d.index&&(this.d=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.p=d.resize);switch(this.i){case A:this.a=32768;this.b=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.a=0;this.b=new (t?Uint8Array:Array)(this.h);this.e=this.u;this.m=this.r;this.j=this.s;break;default:throw Error("invalid inflate mode");
}}var A=0,y=1;
w.prototype.t=function(){for(;!this.l;){var c=B(this,3);c&1&&(this.l=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.d,b=this.b,e=this.a,f=d.length,g=k,h=k,l=b.length,n=k;this.c=this.f=0;if(a+1>=f)throw Error("invalid uncompressed block header: LEN");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error("invalid uncompressed block header: NLEN");h=d[a++]|d[a++]<<8;if(g===~h)throw Error("invalid uncompressed block header: length verify");if(a+g>d.length)throw Error("input buffer is broken");switch(this.i){case A:for(;e+g>
b.length;){n=l-e;g-=n;if(t)b.set(d.subarray(a,a+n),e),e+=n,a+=n;else for(;n--;)b[e++]=d[a++];this.a=e;b=this.e();e=this.a}break;case y:for(;e+g>b.length;)b=this.e({o:2});break;default:throw Error("invalid inflate mode");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.d=a;this.a=e;this.b=b;break;case 1:this.j(ba,ca);break;case 2:for(var m=B(this,5)+257,p=B(this,5)+1,s=B(this,4)+4,x=new (t?Uint8Array:Array)(C.length),Q=k,R=k,S=k,v=k,M=k,F=k,z=k,q=k,T=k,q=0;q<s;++q)x[C[q]]=
B(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[C[q]]=0}Q=u(x);v=new (t?Uint8Array:Array)(m+p);q=0;for(T=m+p;q<T;)switch(M=D(this,Q),M){case 16:for(z=3+B(this,2);z--;)v[q++]=F;break;case 17:for(z=3+B(this,3);z--;)v[q++]=0;F=0;break;case 18:for(z=11+B(this,7);z--;)v[q++]=0;F=0;break;default:F=v[q++]=M}R=t?u(v.subarray(0,m)):u(v.slice(0,m));S=t?u(v.subarray(m)):u(v.slice(m));this.j(R,S);break;default:throw Error("unknown BTYPE: "+c);}}return this.m()};
var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=t?new Uint16Array(E):E,G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],H=t?new Uint16Array(G):G,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],J=t?new Uint8Array(I):I,K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],L=t?new Uint16Array(K):K,N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,
13],O=t?new Uint8Array(N):N,P=new (t?Uint8Array:Array)(288),U,da;U=0;for(da=P.length;U<da;++U)P[U]=143>=U?8:255>=U?9:279>=U?7:8;var ba=u(P),V=new (t?Uint8Array:Array)(30),W,ea;W=0;for(ea=V.length;W<ea;++W)V[W]=5;var ca=u(V);function B(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h;b<d;){if(f>=g)throw Error("input buffer is broken");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.c=b-d;c.d=f;return h}
function D(c,d){for(var a=c.f,b=c.c,e=c.input,f=c.d,g=e.length,h=d[0],l=d[1],n,m;b<l&&!(f>=g);)a|=e[f++]<<b,b+=8;n=h[a&(1<<l)-1];m=n>>>16;if(m>b)throw Error("invalid code length: "+m);c.f=a>>m;c.c=b-m;c.d=f;return n&65535}
w.prototype.j=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length-258,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(this.a=b,a=this.e(),b=this.a),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b>=e&&(this.a=b,a=this.e(),b=this.a);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.s=function(c,d){var a=this.b,b=this.a;this.n=c;for(var e=a.length,f,g,h,l;256!==(f=D(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;l=H[g];0<J[g]&&(l+=B(this,J[g]));f=D(this,d);h=L[f];0<O[f]&&(h+=B(this,O[f]));b+l>e&&(a=this.e(),e=a.length);for(;l--;)a[b]=a[b++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=b};
w.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.a-32768),d=this.a-32768,a,b,e=this.b;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.k+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.a=32768;return e};
w.prototype.u=function(c){var d,a=this.input.length/this.d+1|0,b,e,f,g=this.input,h=this.b;c&&("number"===typeof c.o&&(a=c.o),"number"===typeof c.q&&(a+=c.q));2>a?(b=(g.length-this.d)/this.n[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.b=d};
w.prototype.m=function(){var c=0,d=this.b,a=this.g,b,e=new (t?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,l;if(0===a.length)return t?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(l=b.length;h<l;++h)e[c++]=b[h]}f=32768;for(g=this.a;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};
w.prototype.r=function(){var c,d=this.a;t?this.p?(c=new Uint8Array(d),c.set(this.b.subarray(0,d))):c=this.b.subarray(0,d):(this.b.length>d&&(this.b.length=d),c=this.b);return this.buffer=c};r("GLANCE.Lib.Zlib.RawInflate",w);r("GLANCE.Lib.Zlib.RawInflate.prototype.decompress",w.prototype.t);var X={ADAPTIVE:y,BLOCK:A},Y,Z,$,fa;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(fa=Y.length;$<fa;++$)Z=Y[$],r("GLANCE.Lib.Zlib.RawInflate.BufferType."+Z,X[Z]);}).call(this);

(function() {/*
 Copyright 2022 Glance Networks, Inc.
*/
var h;function aa(a,...b){!window.console||!window.console[a]||window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.disableLogging||(b=b.map(c=>{if("object"===typeof c)try{c=JSON.stringify(c)}catch(d){console.error(d),c="unable to convert object to string"}return"string"===typeof c?c.replace(/[\r\n]/g," ").replace("<","&lt;"):c}),window.console[a](...b))}function m(...a){aa("log",...a)}function p(...a){aa("error",...a)}function q(...a){m("DEBUG:",...a)}function r(...a){m("XDOM:",...a)}
function u(...a){m("RES:",...a)}function ba(...a){m("CONN:",...a)}function ca(a){if(!a)if(window.console&&window.console.error)p("ASSERT");else throw Error("ASSERT");};/*
 Copyright (c) 2022 Glance Networks, Inc.
*/
var da=da||{};window.GLANCE=window.GLANCE||{};window.GLANCE.VERSION="6.33.0.1480702263";window.GLANCE.PATCH="";window.GLANCE.Lib=window.GLANCE.Lib||{};var ea={Ab:"GLANCE_KEYTYPE_RANDOM"};ea={Ab:"GLANCE_KEYTYPE_RANDOM"};var fa,ha=["6","33","0","1480702263"];fa=1E6*parseInt(ha[0])+1E3*parseInt(ha[1])+parseInt(ha[2]);
function ia(a,b,c){c=c||"clip";var d=d||"{version}";URL.toString().includes("[native code]")?new URL(a):ja(a);return`https://${b}/videoplayer/VideoPlayer.aspx?offer=${a}&scaling=${c}&noendpage=1&guestid={guestid}&conntype={role}&version=${d}`}
var w=function(){var a=navigator.userAgent.toLowerCase(),b=navigator.platform.toLowerCase(),c=a.match(/(edge|edg)[\s\/:]([\w\d\.]+)?/)||a.match(/(opera|ie|firefox|chrome|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||a.match(/(rv):([\w\d\.]+)/)||[null,"unknown",0];"edg"===c[1]&&(c[1]="edge");"crios"===c[1]?c[1]="chrome":"rv"===c[1]&&(c[1]="ie");a={extend:Function.prototype.extend,name:"version"==c[1]?c[3]:c[1],version:"ie"==c[1]&&document.documentMode||parseFloat("opera"==
c[1]&&c[4]?c[4]:c[2]),oa:{name:a.match(/ip(?:ad|od|hone)/)||b.match(/mac/)&&0<typeof navigator.maxTouchPoints?"ios":(a.match(/(?:webos|android)/)||b.match(/mac|win|linux/)||["other"])[0]},Gd:{Xd:!!document.evaluate,Kd:!!window.Td,query:!!document.querySelector,json:!!window.JSON},Hd:{},xc:function(){return"ios"==this.oa.name||"android"==this.oa.name}};document.documentMode&&window.XDomainRequest?(a.name="ie",a.version=document.documentMode):window.navigator&&navigator.appVersion&&-1!=navigator.appVersion.indexOf("MSIE 7.")&&
(a.name="ie",a.version="7");a[a.name]=!0;a[a.name+parseInt(a.version,10)]=!0;a.oa[a.oa.name]=!0;return a}();function la(a){var b=b||document;return x(b,"querySelector","iframe[frameid='"+a+"']")}function ma(a){return Array.from(x(document,"querySelectorAll","iframe")).find(b=>y("contentWindow",b)===a)}function na(){for(var a=String(Math.round(Math.random()*Math.pow(10,6)));4>a.length;)a="0"+a;return a}
function oa(){let a=new Uint32Array(8);window.crypto.getRandomValues(a);let b="";a.forEach(c=>{b+=c.toString(36)});return b}function pa(a){var b={},c=RegExp("ssagent-"),d;for(d in a)d.match(c)&&(b[d.substr(8)]=a[d]);return b}function qa(){}qa.prototype.set=function(a,b){x(window,"clearTimeout",this.ka);var c=this;this.ka=x(window,"setTimeout",function(){delete c.ka;b&&b()},a)};qa.prototype.clear=function(){x(window,"clearTimeout",this.ka);delete this.ka};
function ra(a,b){if(Array.isArray(a))return(new b.Array(...a)).map(c=>ra(c,b));if(null!==a&&"object"===typeof a){const c={};Object.entries(a).forEach(([d,e])=>c[d]=ra(e,b));return c}return a}if(void 0===A)var A=function(a){return C?(Array.prototype.toJSON&&(a=ra(a,C.window)),C.window.JSON.stringify(a)):JSON.stringify(a)};ra=function(a,b){if(Array.isArray(a))return(new b.Array(...a)).map(c=>ra(c,b));if(null!==a&&"object"===typeof a){const c={};Object.entries(a).forEach(([d,e])=>c[d]=ra(e,b));return c}return a};
function sa(a){a.Rb=0;a.Sb=0;a.Hc=new qa;a.Gc=new qa;a.onclose=function(b){a.Hc.clear();a.Gc.clear();a.Ec&&a.Ec(b)};a.onmessage=function(b){b=JSON.parse(b.data);a.Fc&&a.Fc(b);a.ping()};a.Tb=function(b){b=A(b);a.readyState!==WebSocket.OPEN?p(`Tried to send message on closed websocket: ${b}`):a.send(b)};a.Nd=function(b){return b&&b.code||0};a.Od=function(b){return b&&b.reason||""};a.Bd=function(b,c){this.Rb=b;this.Sb=c;this.ping()};a.ping=function(){0<a.Rb&&a.Hc.set(1E3*a.Rb,()=>a.Tb({mtype:"Ping"}));
0<a.Sb&&a.Gc.set(1E3*a.Sb,()=>a.onerror(new Event("WS_PING_TIMEOUT")))}}function ta(){var a=D.Ob("wss","ws");a=new WebSocket(a);sa(a);return a}function ua(a,b){x(window,"setTimeout",function(){ua(a,b)},100)}var va=1;function wa(a){if(void 0===a||null===a)return a;a=A(a);a=(new TextEncoder).encode(a);var b=(new window.GLANCE.Lib.Zlib.RawDeflate(a)).compress();a="";b=new Uint8Array(b);for(var c=b.byteLength,d=0;d<c;d++)a+=String.fromCharCode(b[d]);return{_c:window.btoa(a)}}
function xa(a){if(null===a||a instanceof String&&0===a.length)return null;if(void 0===a._c)return a;a=window.atob(a._c);for(var b=a.length,c=new Uint8Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);a=(new window.GLANCE.Lib.Zlib.RawInflate(c.buffer)).decompress();a=(new TextDecoder).decode(a);return JSON.parse(a)}function ya(a,b,c){if(void 0!==a)return c=c||Object.keys(a),c.forEach(function(d){void 0!==a[d]&&(b[d]=a[d])}),b}
function za(){function a(c,d){for(c=c.toString();c.length<d;)c="0"+c;return c}var b=new Date;return b.getUTCFullYear()+"/"+(b.getUTCMonth()+1)+"/"+b.getUTCDate()+" "+a(b.getUTCHours(),2)+":"+a(b.getUTCMinutes(),2)+":"+a(b.getUTCSeconds(),2)}function Aa(){}Aa.prototype.set=function(){};var Ba={};function Ca(a,b){x(window,"addEventListener",a,b,void 0)}function Da(a,b){x(window,"removeEventListener",a,b)}function Ea(a,b,c,d){var e={};e[b]=c;a.postMessage(e,void 0!==d?d:"*")}
function Fa(a,b){function c(d){if("string"===typeof d.data)try{var e=JSON.parse(d.data)}catch(f){return!1}else e=d.data;void 0!==e.glance_xdomain&&(b&&!Ga(d.origin,b)?p("UNTRUSTED_ORIGIN:"+d.origin+" "+JSON.stringify(e)):a(d.source,e.glance_xdomain))}x(window,"addEventListener","message",c);return c}function Ha(a){Ca(void 0!==window.onpagehide?"pagehide":"unload",a)}function Ia(a){void 0!==window.onpageshow&&Ca("pageshow",a)}
function Ja(a){function b(d){for(var e in d)if("object"===typeof d[e]){b(d[e]);a:{var f=void 0;var g=d[e];if(g instanceof Array||g instanceof String)f=!1;else{for(f in g)if(g.hasOwnProperty(f)){f=!1;break a}f=!0}}f&&delete d[e]}}function c(d){if(!(d instanceof Array||d instanceof String))for(var e in d)void 0===d[e]?delete d[e]:"object"===typeof d[e]&&c(d[e])}c(a);b(a)}function Ka(a,b){var c=a.indexOf("#");return 0>c?a+(-1===a.indexOf("?")?"?":"&")+b:Ka(a.substring(0,c),b)+a.substring(c)}
function La(a){da.Wd?this.l=new Ma(a):this.g=new window.XMLHttpRequest;this.response=null;this.type=a}La.prototype.abort=function(){this.l?this.l.abort():this.g.abort()};
La.prototype.onreadystatechange=function(){if(4==this.g.readyState){x(window,"clearTimeout",this.F);delete this.F;var a="error";if(0==this.g.status)m(this.method+" to "+this.url+" failed: network"),this.h(!0,"connection",this.g.status);else if(200!==this.g.status){p(this.method+" to "+this.url+" failed with status: "+this.g.status);"text"===this.g.responseType&&null!==this.g.responseText&&m(this.g.responseText);if(401===this.g.status||403===this.g.status)a="authorization",this.j&&this.j.Md();this.h(!1,
a,this.g.status)}else{if(""!==this.g.response){if("XML"===this.accept)this.response=this.g.responseXML&&this.g.responseXML.documentElement,null===this.response&&p("Invalid XML response: "+this.g.responseText);else if(this.Ea){for(var b=new Uint8Array(this.g.responseText.length),c=0;c<this.g.responseText.length;c++)b[c]=this.g.responseText.charCodeAt(c)&255;this.response=new Blob([b],{type:this.g.getResponseHeader("Content-Type")})}else if("blob"===this.g.responseType)this.response=this.g.response;
else if(this.g.responseXML)this.response=Na(this.g.responseXML.childNodes[0].childNodes[0].nodeValue);else if("HTML"===this.accept||"TEXT"===this.accept)this.response=this.g.responseText;else if(this.response=Na(this.g.responseText),null===this.response){m(this.method+" to "+this.url+" failed - can't parse response "+this.g.responseText);this.h(!1,a);return}if(void 0!==this.response.err&&void 0!==this.response.msg){m(this.method+" to "+this.url+" failed with error:"+this.response.err+" "+this.response.msg);
this.h(!1,a);return}}this.onsuccess(this.response)}}};function Na(a){var b=null;try{b=JSON.parse(a)}catch(c){return m("JSON parse failed with error: "+c.toString()+" parsing: "+a),null}return b}La.prototype.getResponseHeader=function(a){return this.g.getResponseHeader(a)};function Oa(a){a.accept="HTML";a.o="text/html"}La.prototype.get=function(a,b,c,d,e){this.method="GET";Pa(this,a,null,b,c,d,e)};
function Pa(a,b,c,d,e,f,g){a.url=b;a.onsuccess=void 0!==f?f:function(){};a.h=void 0!==g?g:function(){};a.method=a.method||"POST";if(a.l)Qa(a.l,b,c,d,e,f,g);else{f=a.X||("JSON"===a.type?"application/json; charset=utf-8":"application/x-www-form-urlencoded; charset=utf-8");if("string"===typeof c)var k=c;else c instanceof Blob?(f=c.type,k=c):c&&(k="JSON"===a.type?A(c):"data="+A(c));w.safari&&a.la&&(a.F=x(window,"setTimeout",function(){m(this.method+" to "+this.url+" failed - timedout (Safari)");this.h(!1,
"timedout")}.bind(a),a.la));a.g.onreadystatechange=function(){a.onreadystatechange()};try{a.g.open(a.method,b,d),void 0!==a.o&&a.g.setRequestHeader("Accept",a.o),void 0!==a.g.setRequestHeader&&"GET"!==a.method&&a.g.setRequestHeader("Content-type",f),a.j&&a.j.fd()?a.g.setRequestHeader("Authorization","Bearer "+a.j.fd()):a.B&&a.g.setRequestHeader("Authorization","Bearer "+a.B),a.g.withCredentials=e,a.g.send(k)}catch(l){m(a.method+" to "+b+" failed with: "+l.toString()),a.h(!1,l.toString())}}}
function Ma(a){this.type=a}function Qa(a,b,c,d,e,f,g){a.onsuccess=f;a.h=g;ua({from:"IFrameProxyRequest",type:a.type,url:b,obj:c,async:d,withcred:e})}Ma.prototype.abort=function(){Ma.postMessage({from:"IFrameProxyRequest",abort:!0})};function Ra(a,b){this.name=a;this.domain=b||Sa(new Ta(window))}h=Ra.prototype;
h.Ma=function(a,b){var c=new Date;c.setUTCHours(c.getUTCHours()+8);document.cookie=this.name+"="+encodeURIComponent(A(a))+"; expires="+c.toGMTString()+"; domain="+this.domain+"; path=/"+(b||a.Ud?";secure":"")};h.ma=function(){var a=this.get();return a?JSON.parse(a):null};h.get=function(){return this.wa()?decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null};
h.Ga=function(){var a=new Date;a.setDate(a.getDate()-1);document.cookie=encodeURIComponent(this.name)+"=; expires="+a.toGMTString()+"; domain="+this.domain+"; path=/"};h.wa=function(){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(this.name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)};function Ua(a){this.name=a}h=Ua.prototype;
h.Ma=function(a){var b=new Date;b.setUTCHours(b.getUTCHours()+8);try{window.localStorage.setItem(this.name,A(a)),window.localStorage.setItem(this.name+"_exp",b.toGMTString())}catch(c){m("Failed to write cookie: "+this.name)}};h.ma=function(){if(!this.wa())return null;var a=null;try{a=window.localStorage.getItem(this.name)}catch(b){return m("Failed to read cookie: "+this.name),null}return JSON.parse(a)};
h.get=function(){if(!this.wa())return null;try{return window.localStorage.getItem(this.name)}catch(a){return m("Failed to read cookie: "+this.name),null}};h.Ga=function(){try{window.localStorage.removeItem(this.name),window.localStorage.removeItem(this.name+"_exp")}catch(a){m("Failed to delete cookie: "+this.name)}};
h.wa=function(){var a=null;try{a=window.localStorage.getItem(this.name+"_exp")}catch(b){return m("Failed to read cookie: "+this.name),!1}if(!a)return!1;a=new Date(a);return a<new Date?(this.Ga(),!1):!0};function Va(a,b){this.g=[new Ra(a,b),new Ua(a)]}h=Va.prototype;h.Ma=function(a,b){this.g[0].Ma(a,b);this.g[1].Ma(a,b)};h.ma=function(){return this.g[0].ma()||this.g[1].ma()};h.get=function(){return this.g[0].get()||this.g[1].get()};h.Ga=function(){this.g[0].Ga();this.g[1].Ga()};
h.wa=function(){return this.g[0].wa()||this.g[1].wa()};function Wa(a){var b={};["url","name","visitorselected","agentselected"].forEach(c=>{a.hasOwnProperty(c)&&(b[c]=a[c])});return b}function Xa(a){this.event=a||window.event;this.g={x:this.event.clientX,y:this.event.clientY}}function Ya(a,b){if("undefined"!==typeof CustomEvent)try{var c=new CustomEvent(b)}catch(d){}c||(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0));a.dispatchEvent(c)}
function Za(a,b){b=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:String.fromCharCode(b.code),"char":String.fromCharCode(b.code),shiftKey:!1});a.dispatchEvent(b)}function $a(a){function b(d){d=(48+parseInt(d)).toString(16);return"\\"+((6<=d.length?"":Array(7-d.length>>>0).join("0"))+d)}function c(d){return"\\"+d}if(a)return a=a.trim().replace(/[^\w\d-_]/g,c),/^\d/.test(a)&&(a=a.replace(/^\d/,b)),/^-/.test(a)&&(a=a.replace(/^-/,c)),a}
function Ta(a){this.u=a.document;this.ha=a;this.pc=void 0;this.fa={x:-1,y:-1};this.Ld=w;var b=[["hidden","visibilitychange"],["mozHidden","mozvisibilitychange"],["webkitHidden","webkitvisibilitychange"],["msHidden","msvisibilitychange"],["oHidden","ovisibilitychange"]];for(a=0;a<b.length;a++)if(b[a][0]in document){this.Zb=b[a][0];this.$c=b[a][1];break}}
function ab(a){var b=a;a=a.split("?");1<a.length&&(b=a[0]);b=(new RegExp(/(?:.*?:\/\/){0,1}([^\/:]+)/)).exec(b);return null===b||2>b.length||0>b[1].indexOf(".")?null:b[1]}
function F(a){var b=new RegExp(/^(?:[a-z]{1,5}:\/\/|)([^:\?\/]*)/),c=a.match(/^\d+\.\d+.\d+.\d+$/);b=b.exec(a);if(c)return a;if(null===b||2!==b.length)return"about:"!==a&&m("ERR_DOMAINPARSE: "+a),null;c=b[1].split(".");return 1===c.length?(m("ERR_DOMAINPARSE: "+a),null):2===c.length?c.join("."):3===c.length?c.slice(1).join("."):4>=c[c.length-2].length?c.slice(c.length-3).join("."):c.slice(c.length-2).join(".")}
function Ga(a,b){var c=!1;a=ab(a);if(null===a||!b)return!1;b.forEach(function(d,e){"object"===typeof d&&(d=d.domain);if(a.match(new RegExp("\\."+d+"$","i"))||a===d)c={index:e,domain:d}});return c}h=Ta.prototype;h.Ib=function(){for(var a=this.ha.location.protocol,b=this.ha;("about:"===a||"javascript:"===a)&&b.parent!==b;)a=b.parent.location.protocol,b=b.parent;return a.replace(/:/g,"")};
function Sa(a){var b=a.ha.location.hostname;for(a=a.ha;""===b&&a.parent!==a;)b=a.parent.location.hostname,a=a.parent;return F(b)}function bb(a){for(var b=window.location.href.toLowerCase(),c=0;c<a.length;c++)if(0<=b.indexOf(a[c].toLowerCase()))return!0;return!1}function cb(a,b){for(var c=new ArrayBuffer(a.length),d=new Uint8Array(c),e=0,f=a.length;e<f;e++)d[e]=a.charCodeAt(e);return new Blob([c],{type:b})}
function db(a){function b(d){if(d=y("children",d))for(var e=0;e<d.length;e++){var f=G(d[e]);f.element?(f=window.getComputedStyle(f.element),f=null===f?!1:(f.overflowX+f.overflowY).match(/scroll|auto/)):f=!1;f&&c.push(d[e]);b(d[e])}}var c=[];b(a);return c}h.getElementsByTagName=function(a){return x(this.u,"getElementsByTagName",a)};
function eb(a){for(var b,c=Sa(H);a&&!/^(?:body|html)$/i.test(G(a).element.tagName);){if(a instanceof DocumentFragment){a=null;break}if("a"===a.tagName.toLowerCase())break;a=a.parentNode}if(!a||"a"!==a.tagName.toLowerCase())return!1;b=a.href;b=b.baseVal||b;var d=b.indexOf("//");if(0>d)return!1;0===d&&(b="http:"+b);return a.hasAttribute("download")||b.startsWith("blob:")?!1:F(b)!==c}
async function fb(a,b){return new Promise((c,d)=>{var e=a.u.createElement("script");e.onload=c;e.onerror=d;for(const f in b)e.setAttribute(f,b[f]);e.setAttribute("charset","UTF-8");a.u.head.appendChild(e)})}h.hb=1;h.Sc=2;function gb(a){var b=H,c=b.$(),d=hb(b),e=ib(b.u.body);if(null===e)return!1;var f=a===b.hb?e.overflowY:e.overflowX;return(a===b.hb?d.y:d.x)>(a===b.hb?c.y:c.x)&&("visible"===e.overflow||"visible"===f||"auto"===e.overflow||"auto"===f||"scroll"===f)}
function jb(a,b){return x(a.u,"getElementById",b)}function kb(){var a=H;a.Cc=function(b){b=new Xa(b);a.fa.x=b.g.x||-1;a.fa.y=b.g.y||-1;return!0};a.Dc=function(){a.fa.x=-1;a.fa.y=-1;return!0};a.addEventListener("mousemove",a.Cc);a.addEventListener("mouseout",a.Dc)}function lb(){var a=H;a.click={x:-1,y:-1};a.Bc=function(b){b=new Xa(b);a.click.x=b.g.x||0;a.click.y=b.g.y||0;a.click.ts=Date.now();return!0};a.addEventListener("click",a.Bc)}function mb(){var a=H;return nb(a,a.fa)}
h.Cb=function(){this.fa={x:-1,y:-1}};function ob(){var a=H,b=a.click;a.click={x:-1,y:-1};return nb(a,b)}function pb(){var a=H;return void 0===a.Zb?!1:a.u[a.Zb]}function qb(a){var b=H;b.u.addEventListener(b.$c,a)}
function rb(a,b,c){function d(k){if(!k||"body"===k.tagName.toLowerCase())return!1;let l=ib(k).position;return"fixed"===l||"sticky"===l?!0:d(y("parentElement",k))}var e,f=0,g={};for(ya(b,g);(e=sb(a,g))&&d(e);)if(e.getAttribute("class"),e.getAttribute("data-gid"),JSON.stringify(g),g[c]+=50,10<f++)return document.body;e.getAttribute("class");e.getAttribute("data-gid");JSON.stringify(g);return e||document.body}
function sb(a,b){b=document.elementsFromPoint(b.x,b.y);a.pc&&(b=b.filter(c=>a.pc(c)));b=b[0];b||(b=document.body);3==b.nodeType&&(b=b.parentNode);return b}function tb(){var a=mb();a=a.client||a;return 0>a.x||0>a.y}
function nb(a,b,c,d){if(b&&(0>b.x||0>b.y))return{client:{x:Math.round(b.x),y:Math.round(b.y)}};b=b||ub(a,c);c=c||vb(a,b);a=G(d?rb(a,b,d):sb(a,b));if(a.matches("#glance_session_widget *")||a.matches("#glance_screensharepreview"))a=G(document.getElementById("glance_session_widget"));a.matches("[data-svgid^=glance_inline_svg] *")&&(a=G(a.element.closest("svg[data-gid]")));d=wb(a);return{client:{x:Math.round(b.x),y:Math.round(b.y)},relative:{x:Math.round(c.x-d.x),y:Math.round(c.y-d.y),element:a.m()}}}
function xb(a,b){var c=H;if(0===b)return{offset:0};var d=c.$(),e=yb(c);c=nb(c,void 0,{x:"x"===a?b:d.x/2+e.x,y:"y"===a?b:d.y/2+e.y},a).relative;return{offset:b,relative:{element:c.element,offset:c[a]}}}function zb(a,b,c){var d=H;if(!b)return c;var e={element:b.element};e[a]=b.offset;e["x"===a?"y":"x"]=0;return(b=Ab(d,e))?b[a]:c}function Bb(a,b){var c=H;return(a=Ab(c,a))?ub(c,a):b}
function Ab(a,b,c){a=b?Cb(G(a.u.documentElement),b.element,!1):null;if(null===a)return m("Element not found for relative coords"),c;c=wb(G(a));return{x:c.x+b.x,y:c.y+b.y}}function Db(a){var b=D.Ib(),c;return a.replace(RegExp("url\\s*\\(['\"]?(\\s*(?!.*//.*).+?)['\"]?\\)","g"),function(d,e){"/"!==e.charAt(0)&&(c=H.m())&&(e=c+e);return"url("+b+H.ha.location.host+e+")"})}h.head=function(){return void 0!==this.u.head?this.u.head:this.getElementsByTagName("head")[0]};
function Eb(a,b){a.ha.addEventListener&&(document.readyState.match(/complete/)?b():(a.ha.addEventListener("load",b),a.u.addEventListener("DOMContentLoaded",b,!1)))}function Fb(a){return a.u.compatMode&&"CSS1Compat"!==a.u.compatMode?a.u.body:a.u.documentElement}h.$=function(){if(void 0!==window.orientation)return{x:window.innerWidth,y:window.innerHeight};var a=Fb(this);return{x:a.clientWidth,y:a.clientHeight}};
function hb(a){if(a.u.width)return{x:a.u.width,y:a.u.height};a=Fb(a);return{x:a.scrollWidth,y:a.scrollHeight}}function Gb(){var a=H,b=a.$();a=hb(a);for(var c=["x","y"],d,e,f,g,k={},l=0;l<c.length;l++)d=c[l],e=Math.round(Math.pow(b[d],2)/a[d]),f=b[d]-4,g=0,a[d]>b[d]&&(g=(f-e)/(a[d]-b[d])),g=Math.round(1E4*g)/1E4,k[d]={tabsz:e,ratio:g};return k}
function yb(a){if(void 0!==window.pageXOffset)return{x:Math.round(a.ha.pageXOffset),y:Math.round(a.ha.pageYOffset)};if(void 0!==document.documentElement.scrollTop)return{x:a.u.documentElement.scrollLeft,y:a.u.documentElement.scrollTop};if(void 0!==document.body.scrollLeft)return{x:a.u.body.scrollLeft,y:a.u.body.scrollTop};throw Error("Can't get page scroll");}function ub(a,b){a=yb(a);return{x:b.x-a.x,y:b.y-a.y}}function vb(a,b){a=yb(a);return{x:b.x+a.x,y:b.y+a.y}}
h.scrollTo=function(a,b,c){var d=yb(this);d[a]=b;a={left:d.x,top:d.y,behavior:c?"smooth":"auto"};w.ie11||w.edge?window.scrollTo(d.x,d.y):window.scrollTo(a);yb(this)};h.m=function(){var a=Hb().split("/");a=a.filter(b=>""!==b);if(!a.length)return"/";0<a.slice(-1)[0].indexOf(".")&&(a=a.slice(0,-1));return(a=a.join("/"))?"/"+a+"/":"/"};function Hb(){return ja(window.GLANCE.Cobrowse.Loader._origpath).pathname}function ib(a){return window.getComputedStyle(a,void 0)}
h.addEventListener=function(a,b,c){x(this.u,"addEventListener",a,b,c)};h.removeEventListener=function(a,b,c){x(this.u,"removeEventListener",a,b,c)};function Ib(a){this.element=a}var C,Jb;function G(a){return new Ib(a)}h=Ib.prototype;
h.show=function(a){void 0===a&&(a=!0);this.element.className.match(new RegExp(a?"glance_show":"glance_hide","g"))||(this.element.className=this.element.className.replace(new RegExp(a?"glance_hide":"glance_show","g"),a?"glance_show":"glance_hide"),Kb(this,a?"glance_show":"glance_hide"))};function Lb(a){var b=a.element.id?' id="'+a.element.id+'"':"";return'<meta data-gid="'+a.element.getAttribute("data-gid")+'"'+b+"></meta>"}
function Kb(a,b){"string"===typeof a.element.className&&a.element.className.match(new RegExp("\\b"+b+"\\b","g"))||(a.element.className+=" "+b)}h.addEventListener=function(a,b,c){x(this.element,"addEventListener",b,c)};h.removeEventListener=function(a,b,c){x(this.element,"removeEventListener",b,c)};function Mb(a){return a.element.attachShadow==Element.prototype.attachShadow&&y("shadowRoot",a.element)}
function Nb(a,b){var c;"click"===b&&a.element.tagName.match(/input|textarea/i)&&(a.element.focus(),(a.element.tagName.match(/^textarea$/i)||a.element.type.match(/^(text|datetime|email|password|tel|url|number)$/i))&&"number"!==a.element.type&&(a.element.selectionStart=a.element.selectionEnd));if("click"===b&&void 0!==a.element.click)a.element.click();else{void 0===c&&(c={view:window,bubbles:!0,cancelable:!0});try{var d=new MouseEvent(b,c)}catch(e){d=a.element.ownerDocument.createEvent("MouseEvents"),
d.initMouseEvent(b,!0,!0,a.element.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,1,null)}a.element.dispatchEvent(d)}}
function y(a,b){if(!C||1!==b.nodeType)return b[a];var c=C;try{var d=c.document.createElement(b.nodeName)}catch(f){d=c.document.createElement("div")}d=c.Object.getPrototypeOf(d);if(!d)return b[a];if("contentWindow"===a)return c.Object.getOwnPropertyDescriptor(d,a).get.call(b);for(var e;!(e=c.Object.getOwnPropertyDescriptor(d,a))||0>e.get.toString().indexOf("[native code]");)if(d=c.Object.getPrototypeOf(d),!d)return b[a];return e.get.call(b)}
function Ob(a,b,c){Object.getOwnPropertyDescriptor(C[a.constructor.name].prototype,b).set.call(a,c)}function x(a,b,...c){return C&&a.nodeType?"#document"===a.nodeName?C.document[b].apply(a,c):"#document-fragment"===a.nodeName?C.DocumentFragment.prototype[b].apply(a,c):C.document.body[b].apply(a,c):C&&"[object Window]"===a.toString()?C.window[b].apply(a,c):a[b].apply(a,c)}
function J(a,b){return C&&C.document[a]?"#document"===b.nodeName?C.document[a]:"#document-fragment"===b.nodeName?C.DocumentFragment.prototype[a]:C.document.body[a]:C&&"[object Window]"===b.toString()?C.window[a]:b[a]}function ja(...a){let b=C.window.URL;return new (C.Function.bind.apply(b,[b,...a]))}function Pb(a){var b;try{return b=C.clone?C.clone(a.element):x(a.element,"cloneNode",!0)}catch(c){m("deepClone failed for "+a.element.tagName+" error:"+c.message)}return a.element.cloneNode(!0)}
function K(a,b){return b.contains?w.ie11&&a.element.nodeType===Node.TEXT_NODE?a.element.parentNode===b||x(b,"contains",a.element.parentNode):x(b,"contains",a.element):!1}h.remove=function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)};h.empty=function(){for(;this.element.hasChildNodes();)this.element.removeChild(this.element.childNodes[0])};
h.$=function(){if(this.element.getBoundingClientRect){var a=this.element.getBoundingClientRect();return{width:Math.round(a.right-a.left),height:Math.round(a.bottom-a.top)}}return{width:this.element.offsetWidth,height:this.element.offsetHeight}};function Qb(a,b,c){a.element.style.width=b+"px";a.element.style.height=c+"px"}function Rb(a){return/^(?:head)$/i.test(a.element.tagName)}
function wb(a,b){if(a.element.tagName.match(/html/i))return{x:0,y:0};var c=a.element.getBoundingClientRect(),d=document.documentElement,e=yb(new Ta(window));if(b=!b)a=ib(a.element),b="fixed"===(a?a.getPropertyValue("position"):"");a=b;return{x:parseInt(c.left)+(a?0:e.x)-d.clientLeft,y:parseInt(c.top)+(a?0:e.y)-d.clientTop}}function Sb(a,b,c){a.element.style.left=b+"px";a.element.style.top=c+"px"}
h.moveTo=function(a,b){function c(){10>g++?(e+=k,f+=l,Sb(d,Math.floor(e),Math.floor(f)),d.j=x(window,"setTimeout",c,20)):Sb(d,a,b)}void 0!==this.j&&x(window,"clearTimeout",this.j);var d=this,e=parseInt(this.element.style.left),f=parseInt(this.element.style.top);isNaN(e)&&(e=-999);isNaN(f)&&(f=-999);var g=0,k=(a-e)/10,l=(b-f)/10;0===k&&0===l||c()};h.pa=function(){null!=this.h&&x(window,"clearTimeout",this.h);this.h=null;this.g&&x(window,"clearInterval",this.g);this.g=null};
h.na=function(a){this.opacity=a;this.element.style.opacity=this.opacity/100;this.element.style.filter="alpha(opacity = "+this.opacity+")"};function Tb(a,b,c){var d=new Date;null!==a.g&&a.pa();a.g=x(window,"setInterval",function(){var e=new Date-d;5E3<=e?(a.na(0),a.pa(),c&&c()):a.na(Math.max(0,b(e/5E3)))},50)}
h.m=function(){for(var a=[],b=this,c;b.element&&b.element.tagName;){if(/^(?:body|html)$/i.test(b.element.tagName)||Rb(b)){a.unshift(b.element==document?"document":b.element.tagName.toLowerCase());break}var d=y("parentNode",b.element);if(null===d)return null;c=(c=b.element.getAttribute("id"))?"#"+$a(c):void 0;if(b.element.getAttribute("data-gid")){a.unshift('[data-gid="'+b.element.getAttribute("data-gid")+'"]');break}else if(c&&1===Ub(G(d),c).length){if(a.unshift(c),1===Ub(G(document.documentElement),
c).length)break}else{c=a;var e=c.unshift,f=1,g=b.element==document?"document":b.element.tagName.toLowerCase();for(b=b.element.previousElementSibling;null!=b;b=b.previousElementSibling)b.tagName.toLowerCase()===g&&f++;b=$a(g)+":nth-of-type("+f+")";e.call(c,b)}b=G(d)}return a.join(">")};h.matches=function(a){return x(this.element,"matches",a)};function Vb(a){var b=D.info.pdflinks;return 0<b.length&&a.matches(b.join(","))}function Ub(a,b){return x(a.element,"querySelectorAll",b)}
function Wb(a,b,c){a.matches(b)?c(a.element):Ub(a,b).forEach(c)}function Xb(a){if(!a)return null;a=a.replace(/'/g,'"');return(a=a.match(RegExp('\\[data-gid="(.*-.*)"\\]')))&&2===a.length?a[1]:null}function Yb(a,b){function c(d,e,f){return null===d?null:(d=x(d,"querySelector","[data-gid='"+e.slice(0,f+1).join("-")+"']"))?f===e.length-1?d:c(d.shadowRoot,e,f+1):null}b=Xb(b);if(!b)return null;b=b.split("-");return c(a.element.ownerDocument,b,0)}
function Cb(a,b,c){function d(f){if(c)throw Error(f);m(f);return null}if(a.element===document.documentElement&&"html"===b)return a.element;void 0===c&&(c=!0);var e=x(a.element,"querySelectorAll",b);return 1===e.length?e[0]:1<e.length?d("Nonunique selector: "+b):(a=Yb(a,b))?a:d("Element not found: "+b)}
h.Hb=function(a){var b=y("type",this.element)||"";a={tag:y("tagName",this.element),type:b,path:this.m(),id:y("id",this.element),name:y("name",this.element),sel:y("selectedIndex",this.element),value:a||y("value",this.element)};"string"===typeof a.value&&(a.value=a.value.replace(/<\/script>/gi,"<\\/script>"));b.match(/^(radio|checkbox)$/i)&&(a.checked=this.element.checked);return a};
function Zb(a){var b=$b,c=a.messageName;delete a.messageName;Object.keys(b.g).forEach(function(d){if((new RegExp(d)).test(c))b.g[d](c,a)})}function ac(){this.listeners=this.g={}}ac.prototype.add=function(a,b){this.g[a]=this.g[a]||[];this.g[a].push(b)};ac.prototype.remove=function(a,b){a=this.g[a];void 0!==a&&(b=a.indexOf(b),0<=b&&a.splice(b,1))};
ac.prototype.v=function(a,b){b&&JSON.stringify(b);var c,d=this.g[a];if(void 0!==d)for(c=0;c<d.length;c++)try{d[c](b)}catch(e){p("Exception in : GLANCE.Lib.EventListeners.fire. Event : "+a+", error : "+e.toString())}};
function bc(a){function b(g){return g.replace(/[\\]:/g,":").replace(":","\\:")}var c=new RegExp(/\[([^\[\]]*)\]/g);try{var d="",e="",f=a.cssRules||a.rules;for(a=0;a<f.length;a++)e=f[a].cssText,e=e.replace(c,b),d+=e+" ";return d}catch(g){return m("Exception getting csstext for stylesheet:"+g.toString()),""}}function cc(){this.g=[];this.o=function(){return!0};this.F=function(a){return a};this.l=function(a,b){return a.getAttribute(b)};this.h=function(){return!0};this.B=[]}
function dc(a,b){delete b.ra;if(1===b.nodeType&&(b.removeAttribute("data-gid"),b.removeAttribute("data-sdid"),b.removeAttribute("data-gcid"),y("children",b))){for(var c=0;c<y("children",b).length;c++)dc(a,y("children",b)[c]);if(Mb(G(b)))for(b=y("children",b.shadowRoot),c=0;c<b.length;c++)dc(a,b[c])}}
function ec(a,b,c){c=c||"";if(1===b.nodeType){if(a.j)for(var d=0;d<a.j.length;d++)if(b==a.j[d]||K(G(b),a.j[d])){dc(a,b);return}b.ra||(d=c?[c,va].join("-"):va,b.ra=d,b.setAttribute("data-gid",d),"CANVAS"===b.tagName&&b.setAttribute("data-gcid",d),Mb(G(b))&&b.setAttribute("data-sdid",d),va++);d=y("children",b);!d&&w.ie11&&(d=y("childNodes",b));if(d)for(var e=0;e<d.length;e++)ec(a,d[e],c);if(Mb(G(b)))for(d=fc(b),e=0;e<d.length;e++)ec(a,d[e],b.ra)}}
function gc(a,b,c){b.getAttribute("data-gid");a.m(b);a.j=0<a.B.length?x(document,"querySelectorAll",a.B.join(",")):[];ec(a,b,c);delete a.j}cc.prototype.log=function(){};cc.prototype.m=function(a){var b=G(a).m();return null===b?null:a.ic&&!/^(head|body)$/i.test(a.tagName)?'[data-gid="'+a.getAttribute("data-gid")+'"]':b};cc.prototype.X=function(a,b){hc(this,a,b);a=this.g;this.g=[];return a};
function hc(a,b,c){var d,e=b.attributes,f=c.attributes;b.id!==c.id&&(c.ic=!0);for(d=0;d<e.length;d++)"data-gid"!==e.item(d).nodeName&&c.getAttribute(e.item(d).nodeName)!=e.item(d).nodeValue&&ic(a,c,e.item(d).nodeName);for(d=0;d<f.length;d++)"data-gid"===f.item(d).nodeName||b.getAttribute(f.item(d).nodeName)||ic(a,c,f.item(d).nodeName);a:if(e=y("children",b),f=y("children",c),void 0===e||void 0===f)d=void 0===e!==(void 0===f);else if(e.length!=f.length)d=jc(a,c);else{for(d=0;d<e.length;d++)if(e[d].tagName!==
f[d].tagName){d=jc(a,c);break a}d=!1}if(d=!d){a:if(d=y("children",b),e=y("children",c),d&&e&&0===d.length&&0===e.length)b.textContent!==c.textContent&&a.h(c)&&(a.m(c),kc(a,c,c.textContent)),d=!0;else{f=y("childNodes",b);var g=y("childNodes",c);if(f.length!==g.length)jc(a,c),d=!0;else{for(var k=0;k<f.length;k++)if(d=f[k],e=g[k],d.nodeType!==e.nodeType||d.nodeValue!==e.nodeValue){jc(a,c);d=!0;break a}d=void 0}}d=!d}if(d)for(b=y("children",b),d=y("children",c),c=0;void 0!==b&&c<b.length;c++)hc(a,b[c],
d[c])}function lc(a){if(void 0!==window.matchMedia)for(var b=x(document.head,"getElementsByTagName","link"),c=0;c<b.length;c++)a.g.push({diff:"SETATTR",path:a.m(b[c]),attr:"media",value:""===b[c].media||window.matchMedia(b[c].media).matches?"all":"none"});return mc(a)}function ic(a,b,c){var d=a.m(b);if(null===d)b.getAttribute(c),a.m(b);else{var e=a.l(b,c);!1===e?b.getAttribute(c):(a.g.push({diff:e||""===e?"SETATTR":"REMATTR",path:d,attr:c,value:e}),a.m(b))}}
function kc(a,b,c){var d=a.m(b);null!==d&&(a.g.push({diff:"CONTENT",path:d,data:c}),a.m(b))}function fc(a){return Mb(G(a))?y("children",y("shadowRoot",a)):y("children",a)}function jc(a,b){a.m(b);a.o(b);a.g.push({diff:"HTML",path:a.m(b),data:a.F(b.innerHTML)});return!0}function nc(a,b){var c=Pb(G(b));a.o(b,c)?(b=y("outerHTML",c),b||(b=document.createElement("div"),b.appendChild(c),b=b.innerHTML),a=a.F(b)):a=Lb(G(c));return a}
function oc(a,b){var c=a.m(b);if(c&&a.h(b)){b=y("childNodes",b);for(var d=[],e=0;e<b.length;e++)switch(b[e].nodeType){case 1:d.push({gid:b[e].getAttribute("data-gid")});break;case 3:d.push({text:b[e].textContent});break;case 8:d.push({comment:b[e].data})}a.g.push({diff:"CHILDORDER",path:c,data:d})}}
function pc(a,b){var c=a.m(b);if(c&&(1!==b.nodeType||!b.tagName.match(/textarea/i))){b.getAttribute("data-gid");a.m(b);b.getAttribute("data-gid")||a.m(b);for(var d=y("children",b),e=0;d&&e<d.length;e++)gc(a,d[e]);if(b=nc(a,b))a.g.push({diff:"REPLACE",path:c,data:b}),"html"!==c||Jb||pc(a,document.head)}}
function qc(a,b){function c(z){b.push({target:z,type:"replacedNode"})}function d(z){if(!(z instanceof HTMLHtmlElement)){var v;if(!(v=!z.getAttribute("data-gid"))&&(v=!Jb))a:{v=x(G(z).element,"querySelectorAll","*");for(var X=0;X<v.length;X++)if(!v[X].getAttribute("data-gid")){v=!0;break a}v=!1}if(v)c(z);else a:{for(v=0;v<l.length;v++)if(l[v].target===z)break a;l.push({target:z,type:"childOrder"})}}}function e(z){z=y("childNodes",z);for(var v=1;v<z.length;v++)if(z[v].nodeType===z[v-1].nodeType&&(3===
z[v].nodeType||8===z[v].nodeType))return!0;return!1}function f(z){for(var v=0;v<b.length;v++)if(b[v]!==z&&"attributes"===z.type&&"attributes"===b[v].type&&z.target===b[v].target&&z.attributeName===b[v].attributeName)return z.target;return!1}function g(z){var v,X,tf=G(z.target);for(v=0;v<b.length;v++)if(b[v]!==z&&"childList"===b[v].type)for(X=0;b[v].V&&X<b[v].V.length;X++)if(z.target===b[v].V[X]||K(tf,b[v].V[X]))return b[v].V[X];return!1}function k(z){var v;for(v=0;v<b.length;v++)if(b[v]!==z&&"replacedNode"===
b[v].type&&(z.target===b[v].target||K(G(z.target),b[v].target)))return b[v].target;return!1}(new Aa).set();var l=[];if(1E3<b.length){m("Mutation overflow");for(var n=!1,t=0;t<b.length&&!n;t++)if(b[t].target===document.head||y("parentElement",b[t].target)===document.head)n=!0;b.length=0;n&&pc(a,document.head);pc(a,document.body)}else{for(n=0;n<b.length;n++){var B=b[n];"attributes"===B.type&&"id"===B.attributeName&&B.target.id&&(B.target.ic=!0);if("childList"===B.type&&(B.Lb=[],B.Mb=[],B.target===document.documentElement)){var I=
z=>z.tagName&&("HEAD"===z.tagName||"BODY"===z.tagName);if(B.V.length)for(t=0;t<B.V.length;t++)I(B.V[t])||B.Lb.push(t);if(B.N.length)for(var E=0;E<B.V.length;E++)I(B.N[E])||B.Mb.push(E)}}for(n=0;n<b.length;n++)t=g(b[n]),E=y("parentElement",b[n].target),t?(b.splice(n,1),n--):"characterData"===b[n].type&&E&&e(E)&&(a.m(b[n].target),a.m(E),d(E),b.splice(n,1),n--);b.forEach(function(z){var v;if(v="childList"===z.type){a:{for(v=0;v<b.length;v++)if(b[v].target===z.target&&"replacedNode"===b[v].type){v=!0;
break a}v=!1}v=!v}if(v){if(0<z.V.length)for(v=0;v<b.length;v++)if("childList"===b[v].type&&b[v].target===z.target&&0<b[v].N.length){a.m(z.target);d(z.target);return}if(z.nextSibling&&3===z.nextSibling.nodeType)Jb?(a.m(z.target),d(z.target)):(a.m(z.target),c(z.target));else for(v=0;v<z.N.length;v++)if(3===z.N[v].nodeType){a.m(z.target);c(z.target);break}}});for(n=0;n<b.length;n++)K(G(b[n].target),document.documentElement)||(b.splice(n,1),n--);for(n=0;n<b.length;n++)if("childList"===b[n].type&&0!==
b[n].V.length)for(t=0;t<b[n].V.length;t++){B=b[n].V[t];I=!1;for(var ka=n+1;!I&&ka<b.length;ka++)if("childList"===b[ka].type)for(E=0;E<b[ka].N.length;E++)if(B===b[ka].N[E]){b[n].Lb.push(t);b[ka].Mb.push(E);I=!0;break}}Array.prototype.push.apply(b,l);for(n=0;n<b.length;n++)if(t=k(b[n]))b.splice(n,1),n--;for(n=0;n<b.length;n++)if(t=f(b[n]))a.m(t),b.splice(n,1),n--}}
function rc(a,b){b.forEach(function(c){if("childList"===c.type)for(var d=0;d<c.N.length;d++)1===c.N[d].nodeType&&(c.N[d].ra&&delete c.N[d].Jc,c.N[d].ra&&(c.N[d].Jc=c.N[d].ra,delete c.N[d].ra,c.N[d].removeAttribute("data-gid")))});qc(a,b);b.forEach(function(c){switch(c.type){case "attributes":ic(a,c.target,c.attributeName);break;case "characterData":c=c.target;var d,e=c.parentNode;for(d=0;d<y("childNodes",e).length;d++)if(y("childNodes",e)[d]===c){var f=d;break}void 0===f?m("Node not found in _addContentDiffFromMutation"):
a.h(e)&&(ShadowRoot&&e instanceof ShadowRoot&&(e=e.host),a.g.push({diff:"CONTENT",path:a.m(e),data:c.textContent,node:f}),a.m(e),y("childNodes",e));break;case "childList":f=c.target;e=c.V;var g=c.N,k=c.nextSibling;k&&1===k.nodeType&&(K(G(k),document.documentElement)&&y("parentElement",k)===f?k.getAttribute("data-gid"):k=null);a.m(f);var l=a.m(f);if(null!==l){var n={diff:"CHILDLIST",path:l,nsib:k&&e?a.m(k):null,added:[],removed:[]};if(e)for(l=0;l<e.length;l++)if(!(0<=c.Lb.indexOf(l))){var t=y("parentNode",
e[l]);if(t!==f)t||(delete e[l].ra,1===e[l].nodeType&&e[l].removeAttribute("data-gid"));else{if(1===e[l].nodeType){gc(a,e[l]);d=nc(a,e[l]);if(!d)continue;e[l].getAttribute("data-gid");a.m(e[l])}else if(3===e[l].nodeType)d=a.h(f)?e[l].nodeValue:"";else if(8===e[l].nodeType)d=e[l].nodeValue;else continue;n.added.push({nodeType:e[l].nodeType,tagName:e[l].tagName,value:d})}}if(g)for(l=0;l<g.length;l++)if(!(0<=c.Mb.indexOf(l))){switch(g[l].nodeType){case 1:d=g[l].Jc;if(!d)continue;break;case 3:d=g[l].nodeValue;
break;default:m("==> Ignoring remove node type "+g[l].nodeType)}n.removed.push({nodeType:g[l].nodeType,value:d})}if(0!==n.removed.length||0!==n.added.length)a.g.push(n),k&&8===k.nodeType&&(a.m(f),oc(a,f))}break;case "replacedNode":pc(a,c.target);break;case "childOrder":oc(a,c.target);break;default:m("Unrecognized mutation record type "+c.type)}})}function sc(a,b){a.o=b}function tc(a,b){a.F=b}function uc(a,b){a.l=b}function vc(a,b){a.h=b}function mc(a){var b=a.g;a.g=[];return b};function wc(a,b){if(void 0!==a){var c=c||Object.keys(a);c.forEach(function(d){void 0!==a[d]&&(b[d]=a[d])})}}function xc(a){var b={};if(!a)return b;var c=0;for(a=a.attributes;c<a.length;c++){var d=a[c].nodeName.match(/data-(.*)/);d&&2===d.length&&(b[d[1]]=a[c].nodeValue)}return b}function yc(){var a=window.GLANCE_COBROWSE?window.GLANCE_COBROWSE:{},b=document.getElementById("cobrowsescript"),c=document.getElementById("glance-cobrowse");b=xc(b);c=xc(c);wc(b,a);wc(c,a);return a};var zc=["6","33","0","1480702263"].slice(0,3).join("."),Ac=zc+"M";
function Bc(){this.aa=document.getElementById("cobrowsescript")||document.getElementById("glance-cobrowse");this.nb=document.getElementById("glance-cobrowse");if(null!==this.aa){var a=yc();wc(a,this);var b=RegExp("//(.*)/").exec("string"===typeof this.aa.src?this.aa.src:a.scriptserver+"/");this.g=b&&2===b.length?b[1]:"www.glancecdn.net/cobrowse";this.g=this.g.replace("/js","");this.j=this.g.replace("cobrowse","video");this.B=this.g;a.cbexperiment&&(this.g=this.g.replace("cobrowse","cbexperiment"),
this.j=this.j.replace("video","videoexperiment"));this.ya=a.groupid||this.aa.getAttribute("groupid");this.Y=a.ws||this.aa.getAttribute("ws")||"www.glance.net";this.Yb=this.Y+"/cobrowse";this.Vc=!this.Y.match("\\.glance\\.net$");this.F=a.cookiedomain;this.Cd=a.ui;this.Na=a.cookietype;this.uri=a.uri;this.ja=a.site||this.aa.getAttribute("site")||"production";JSON.parse(a.inputevents||"{}");if(!this.ya)throw Error("data-groupid missing");a=a.additionalgroupids||"";this.h=[this.ya].concat(a?a.split(","):
[]);this.h=this.h.map(function(c){if(!parseInt(c))throw Error("data-groupid invalid: "+c);return parseInt(c)});if(!/staging|production/i.test(this.ja))throw Error("data-site invalid");}}function Cc(a,...b){if(!a.l){let c=document.createElement("iframe");c.style.display="none";c.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(c);a.l=c.contentWindow}a=a.l.URL;return new (C.Function.bind.apply(a,[a,...b]))}
function L(a,b){let c=b.endsWith(".json")?a.B:a.g;return URL.toString().includes("[native code]")?(new URL(`https://${c}/${b}`)).href:Cc(a,`https://${c}/${b}`).href}function Dc(a){var b=M;return URL.toString().includes("[native code]")?(new URL(`https://${b.Y}/${a}`)).href:Cc(b,`https://${b.Y}/${a}`).href}function Ec(a,b){b=parseInt(b);return a.ya===b||0<=a.h.indexOf(b)}
function Fc(a,b){function c(f,g,k){k.forEach(l=>{f[l]=g[l]||f[l]})}var d=M,e={};c(e,a,["video","content"]);c(e,d,["name","email","phone","video","content"]);e.sessionKey=e.sessionKey||d.visitorid||"GLANCE_KEYTYPE_RANDOM";"off"!==e.video&&!1===a.nwayvideoallowed&&(console.error("ERR_NO_NWAYVIDEO_SETTINGS"),e.video="off");Object.assign(e,b||{});return e}
async function Gc(a){if(a.cbexperiment)console.warn("Video not yet supported for cbexperiment");else{var b=c=>new Promise(d=>{if(document.querySelector(`script[src*=${c}]`))d();else{let e=document.createElement("script");e.addEventListener("load",d);e.setAttribute("type","text/javascript");e.setAttribute("src",`//${a.j}/source/js/${c}_${Ac}.js`);document.head.appendChild(e)}});await b("browserCap");return b("GlanceVideoSource")}}
function Hc(){function a(f,g,k){if(!document.getElementById(f)){var l=document.createElement("link"),n=document.getElementsByTagName("head")[0];l.id=f;l.type="text/css";l.rel="stylesheet";l.media="all";l.href=g;k=k||n.firstElementChild;n.insertBefore(l,k)}}function b(f){return new Promise(g=>{let k=document.getElementById(f);"1"===k.getAttribute("data-loaded")?g():(k.addEventListener("load",()=>{k.setAttribute("data-loaded","1");g()},{once:!0}),k.addEventListener("error",()=>{k.setAttribute("data-loaded",
"1");g()},{once:!0}))})}var c=M,d=D.groupId();c.o||a("glance_ss",L(c,"styles/Cobrowse_"+zc+".css"));if(c.o!==d){c.o=d;var e=document.getElementById("glance_customss");e&&e.parentElement.removeChild(e);a("glance_customss",L(c,"customstyles/CustomSkin_"+d+"_"+c.ja.substr(0,1).toUpperCase()+".css?gv=4&v="+c.custver),document.getElementById("glance_ss").nextElementSibling)}Promise.all([b("glance_ss"),b("glance_customss")]).then(()=>{})}
function Ic(a){switch(a.Na){case "ls":var b=Ua;break;case "dual":b=Va;break;default:b=Ra}return new b("glance_ssn_info",a.F)}function Jc(a){return["application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)||a.name.match(".csv")};var N={},Kc;function Lc(a={UseUniversalCAM:!1,UniversalCAMURLPrefix:"",UniversalCAMConstructedStylesheetURLPrefix:"",CServerCAMURLPrefix:"",CServerCAMURL:"",ShadowDomWatcher:{}}){Kc=a}
function Mc(a){var b=D.groupId(),c=D.Dd();N.Z?ba("Connection to CAM service already established, readyState:",N.Z.readyState):(N.Z=new WebSocket(`wss://${a}/visitorws/${b}`),N.Z.onclose=d=>{ba("Connection to CAM service closed, reason:"+d.reason+" code:"+d.code);delete N.Z},N.Z.onerror=d=>{ba(`Connection to CAM service closed error: ${d.type}`);delete N.Z},N.Z.onmessage=d=>{d=JSON.parse(d.data);switch(d.mtype){case "connected":u(`Connected to CAM service with token ${c}`);break;case "resreq":Nc(d.data.url,
d.data.accepttype,d.data["sec-fetch-dest"],d.data.reply);break;case "constructedstylereq":var e=N.Z,f=parseInt(d.data.styleid.split(".")[0],10);let g=Kc.Uc.jb[f],k=Kc.Xc+d.data.styleid;f={mtype:"resup",resourceurl:k,data:{reply:d.data.reply,styleid:f+".css"}};f.data.content_type="text/css";g?(g=Oc(g),g=Pc(g),g=new Blob([g],{type:"text/css"}),u(`Uploading constructed stylesheet url: ${k}`),f.data.http_status=200,e.send(JSON.stringify(f)),e.send(g)):(p("GLANCE:",...["constructed stylesheet not found for ",
d]),f.data.http_status=404,e.send(JSON.stringify(f)))}},N.Z.onopen=()=>{N.Z.send(JSON.stringify({mtype:"connect",data:{groupid:b,visitorid:c}}))})}function Nc(a,b,c,d){var e=N.Z;u(`Received resource request for url: ${a} accept type: ${b}`);let f={mtype:"resup",resourceurl:a,data:{reply:d}};Qc(a,b,c,function(g,k,l,n){n&&(f.data.cache_control=n);f.data.http_status=l;f.data.content_type=k;e.send(JSON.stringify(f));e.send(g)},function(g){f.data.http_status=g;e.send(JSON.stringify(f))})}
function Rc(a){if(a.startsWith("blob"))return(Kc.hc?Kc.Qc:"")+a.replace(/^blob:/,"blob-").replace(/:\/\//,"-");let b,c,d;return((null==(b=Kc)?0:b.hc)?Kc.Yc:null!=(d=null==(c=Kc)?void 0:c.Rc)?d:"")+Sc(a)}function Sc(a){let b=ja(document.baseURI).hostname;return a.replace(/^\/\//,"https-").replace(/:\/\//,"-").replace(/^\//,`https-${b}/`).replace(":443/","/")}function Tc(a){return!a||!a.match(/^(http:|https:|blob:http:|blob:https:){0,1}\/\//)&&0!==a.indexOf("/")?a:Rc(a)}var Uc=/url\(['"]{0,1}(.*?)['"]{0,1}\)/;
function Vc(a){return a.replace(Uc,function(b,c){return"url('"+Tc(c)+"')"})}function Oc(a){return a.replace(/url\(['"]{0,1}(\/\/|\/|http:\/\/|https:\/\/)(.*?)['"]{0,1}\)/g,function(b,c,d){return"url('"+Rc(c+d)+"')"})}function Pc(a){let b=new Ta(window);return a.replace(/url\(['"]{0,1}(\/\/|\/|)(.*?)['"]{0,1}\)/g,function(c,d,e){return"url('"+Rc(b.m()+e)+"')"})}
async function Wc(a,b){function c(){u("Posted resource",a)}function d(){u("Post resource failed",a)}function e(n,t,B){var I=new La;I.B=g;I.X=t;Pa(I,l+"?ssnid="+f+(k?"&frameid="+k:"")+"&url="+encodeURIComponent(a)+"&httpstatus="+B,n,!0,!1,c,d)}var f=D.sessionId(),g=D.wb(),k=D.K,l=D.Ob("https","UR");0<a.indexOf("glance-no-fetch")||await Qc(a,b,"",e,function(n){n=n||0;u("Resource request failed",a,"http status:",n);e("","",n)})}
async function Qc(a,b,c,d,e){let f=["include","omit"];for(let g=0;2>g;g++)try{let k=await x(window,"fetch",a,{method:"GET",mode:"cors",credentials:f[g],headers:{Accept:b,"Sec-Fetch-Dest":c}});if(k.ok){let l=await k.blob(),n=k.headers.get("Content-Type"),t=k.headers.get("Cache-Control");u(`Received resource ${a} content type: ${n} blob type: ${l.type}`);if("font"==c&&!(0<=n.indexOf("font")||a.split("?")[0].match(/.(eot|woff|woff2|ttf|otf)$/))){console.error(`content type ${n} not valid for sec-fetch-dest font ${a}`);
e(401);return}d(l,n,200,t)}else e(k.status);return}catch(k){u(`Exception fetching resource ${a} error: ${k.message}`)}e(0)};function Xc(a){this.o=a;Yc(this,!0);this.j=new qa;this.g=new qa;this.l={x:-1,y:-1}}Xc.prototype.stop=function(){Yc(this,!1);this.g.clear();this.j.clear()};function Yc(a,b){b=b?document.addEventListener:document.removeEventListener;a.h||(a.h=function(c){Zc(a,c)});b.call(document,"mousedown",a.h);b.call(document,"mousemove",a.h);b.call(document,"keydown",a.h);b.call(document,"scroll",a.h,!0)}
function Zc(a,b){if(void 0===a.j.ka||!b.type.match(/^(scroll|mousedown)$/)){var c=new Xa(b);if("mousemove"===b.type){if(32>Math.abs(a.l.x-c.g.x)&&32>Math.abs(a.l.y-c.g.y))return;a.l={x:c.g.x,y:c.g.y}}$c(a.o,b)&&a.g.set(1500,function(){ad()})}};function bd(a){this.o=a;this.l=[];this.g=[];this.j=[];this.h={};this.jb={};var b=this,c=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){console.debug("[native code]");this.getAttribute("data-gid");var d=c.apply(this,arguments);this.getAttribute("data-gid")&&!this.getAttribute("data-sdid")&&this.setAttribute("data-sdid",this.getAttribute("data-gid"));cd(b,this);return d}}
function dd(a,b){for(var c=0;c<b.length;c++){Mb(G(b[c]))&&(b[c].getAttribute("data-gid"),cd(a,b[c]),dd(a,fc(b[c])));let d=y("children",b[c]);d&&dd(a,d)}}function ed(a,b){b=db(b.shadowRoot);if(0<b.length)if(a=a.o.Eb,a.Wb=a.Wb?a.Wb.concat(b):b,a.sa)for(var c=0;c<b.length;c++)0>a.sa.indexOf(b[c])&&a.sa.push(b[c]);else a.sa=b}
function cd(a,b){b.shadowRoot&&(b.getAttribute("data-gid")?(0>a.g.indexOf(b)&&a.g.push(b),a.h[b.getAttribute("data-gid")]||(a.h[b.getAttribute("data-gid")]=[]),fd(a,b.shadowRoot,b.getAttribute("data-gid")),0<=a.l.indexOf(b)||(a.l.push(b),(new C.MutationObserver(function(c){0>a.g.indexOf(b)&&a.g.push(b);c.forEach(function(d){if("childList"==d.type)for(var e=0;e<d.addedNodes.length;e++){var f=d.addedNodes[e];1==f.nodeType&&(gc(a.o.O,f,b.getAttribute("data-gid")),Mb(G(f))&&(b.getAttribute("data-sdid"),
cd(a,f)))}})})).observe(b.shadowRoot,{childList:!0,characterData:!0,attributes:!0,subtree:!0}),ed(a,b),b.shadowRoot.addEventListener("scroll",function(c){gd(a.o.A,c.target)},!0))):-1===a.j.indexOf(b)&&a.j.push(b))}
function fd(a,b,c){if(b.adoptedStyleSheets){a.h[c]=[];for(let f of b.adoptedStyleSheets){{b=a;var d=f;D.info.universalcam||p("UCAM service is now required for adopted stylesheet support.  Contact GLANCE to enable UCAM");var e=bc(d);let g=-559038737,k=1103547991;for(let l=0,n;l<e.length;l++)n=e.charCodeAt(l),g=Math.imul(g^n,2654435761),k=Math.imul(k^n,1597334677);g=Math.imul(g^g>>>16,2246822507);g^=Math.imul(k^k>>>13,3266489909);k=Math.imul(k^k>>>16,2246822507);k^=Math.imul(g^g>>>13,3266489909);e=
4294967296*(2097151&k)+(g>>>0);b.jb[e]?b=e:(d=bc(d),b.jb[e]=d,window.self!==window.top&&O(window.top,{mc:{styleid:e,sheet:d}}),b=e)}a.h[c].push(b)}}}
function hd(a,b){if(0!==a.g.length){var c={};b&&(fd(a,document,"#document"),c["#document"]=wa({styleidsv2:a.h["#document"]}));for(b=0;b<a.g.length;b++){if((a.g[b]+"").startsWith("#document")){c["#document"]=wa({styleidsv2:a.h["#document"]});continue}if(!a.g[b].getAttribute("data-sdid")){a.g[b].getAttribute("data-gid");continue}var d=a.g[b].getAttribute("data-sdid"),e=a.g[b].getAttribute("data-gid");let f=[];a.h[e]&&(f=a.h[e]);let g="";e=(a.querySelectorAll("[data-gid='"+e+"']").length?a.querySelectorAll("[data-gid='"+
e+"']")[0]:a.g[b]).shadowRoot.children;for(let k=0;k<e.length;k++)g+=nc(a.o.O,e[k]);c[d]=wa({html:g,styleidsv2:f})}a.g=[];return c}}bd.prototype.querySelectorAll=function(a){var b=[];this.l.forEach(function(c){Array.prototype.push.apply(b,Array.from(x(c.shadowRoot,"querySelectorAll",a)))});Array.prototype.push.apply(b,Array.from(x(document,"querySelectorAll",a)));return b};
function id(a){for(let b=a.j.length-1;0<=b;--b)a.j[b].offsetParent&&a.j[b].getAttribute("data-gid")&&(a.j[b].getAttribute("data-gid"),cd(a,a.j[b]),a.j.splice(b,1))};function jd(a,b,c,d){this.G=a;this.M=b;this.o=c;this.j=d;this.B=!!d}function kd(a){var b;(null==(b=a.L)?0:b.contentWindow)&&(b=a.L.contentWindow.GPDF)&&b.Close();a.g&&a.L.remove();a.g=null}function ld(a){var b=P.$a;b.url=a.url;b.data=a.data;kd(b);md(b,"XLS",a,()=>{let c=d=>{new b.g.ha.XLSViewer({data:d,downloadURL:b.url,options:a.options})};b.url?nd(b,b.url).then(d=>{c(d)}).catch(d=>{c({error:d})}):b.data&&c(b.data)})}
function od(a){var b=P.$a;kd(b);md(b,"PDF",a,function(){var c=Object.assign(a,{mode:w.ie?"canvas":this.M.info.pdfmode||"canvas"});const d=this.L.contentWindow.GPDF;d.waitready.then(function(){d.View(c)})})}
function md(a,b,c,d){a.F=d;a.l=c.preview;a.j||(a.j=document.createElement("div"),document.body.appendChild(a.j));a.L=a.j.querySelector("#glance_"+b.toLowerCase()+"viewer");a.L||(a.L=document.createElement("iframe"),a.L.id="glance_"+b.toLowerCase()+"viewer",a.L.title="Glance "+b+" Viewer",a.j.appendChild(a.L));a.L.removeAttribute("data-agentinteractive");a.l&&(a.L.style.width="100%",a.L.style.height="99%");var e="PDF"===b?a.X:a.la;pd(a,b,async f=>{a.L.contentDocument.documentElement.innerHTML=f;a.g=
new Ta(a.L.contentWindow);Eb(a.g,async()=>{let g=a.L.contentDocument.getElementById("glance_dl");g.style.display="none";if(c.showdl&&c.data&&a.M.info.docsharevisitordl&&"true"===c.download){var k=cb(c.data,c.showdl);g.href=window.URL.createObjectURL(k);g.download=c.name;g.style.display="inline-block";g.onclick=()=>{a.o.fireEvent("visitordownload",Wa(c))}}c.agentselected&&"closedoc nextTab prevtab pageselect zoomselect zoomout zoomin floating-button-next floating-button-previous pdf-find-button pdf-find-previous pdf-find-next pdf-find-close pdf-find-input".split(" ").forEach(l=>
{(l=a.L.contentDocument.getElementById(l))&&l.setAttribute("data-agentinteractive","remote")});if(!a.l&&!a.B){a.o.fireEvent("documentviewed",Wa(c));a.L.contentDocument.querySelector(".firstcontrol").addEventListener("keydown",function(l){"Tab"===l.key&&l.shiftKey&&l.preventDefault()});a.L.contentDocument.querySelector(".lastcontrol").addEventListener("keydown",function(l){"Tab"!==l.key||l.shiftKey||l.preventDefault()});if("large"===(P.R.visitorvideo&&P.R.visitorvideo.video?P.R.visitorvideo.video:
"off")){window.GLANCE.Cobrowse.Visitor.smallVideo();let l=n=>{"docviewerclosed"===n.data&&(window.GLANCE.Cobrowse.Visitor.largeVideo(),window.removeEventListener("message",l))};window.addEventListener("message",l)}window.addEventListener("message",l=>{"docviewerclosed"===l.data&&(kd(a),a.B||a.o.ca({docshare:{enabled:!1}}))})}a.B||await fb(a.g,{id:"glance-cobrowse","data-groupid":a.M.groupId(),"data-ws":a.G.Y,src:a.G.aa.getAttribute("src"),"data-site":a.G.ja});e.bind(a)()})},a.h.bind(a))}
async function nd(a,b){var c=await x(window,"fetch",b),d=await c.blob();return new Promise((e,f)=>{c.ok||f(c);var g=new FileReader;g.addEventListener("load",function(){e(g.result)},!1);g.onerror=()=>{f(a)};g.readAsBinaryString(d)})}function pd(a,b,c,d){a=L(a.G,"styles/"+b+"Viewer_"+zc+".html");b=new La;Oa(b);b.get(a,!0,!1,function(e){c&&c(e)},d)}
jd.prototype.la=async function(){if(this.l){var a=this.L.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("xlslink").style.display="none";a.getElementById("tabname").style.display="none";a.getElementById("the-page").classList+="glance_masked"}jb(this.g,"viewer-css").href=L(this.G,"styles/XLSViewer_"+zc+".css");await fb(this.g,{src:L(this.G,"js/xlsx.full.min.js"),type:"text/javascript"});await fb(this.g,{src:L(this.G,"js/XLSViewer_"+Ac+".js"),type:"text/javascript"});
this.F()};
jd.prototype.X=async function(){if(this.l){var a=this.L.contentDocument;a.getElementById("closedoc").style.display="none";a.getElementById("the-page").classList+="glance_masked"}jb(this.g,"viewer-css");jb(this.g,"viewer-css").href=L(this.G,"styles/PDFViewer_"+zc+".css");await fb(this.g,{src:L(this.G,"js/jquery-3.6.0.min.js"),type:"text/javascript"});await fb(this.g,{src:L(this.G,"js/pdfjs2.16/pdf.js"),type:"text/javascript"});await fb(this.g,{src:L(this.G,"js/pdfjs2.16/pdf.worker.js"),type:"text/javascript"});await fb(this.g,
{src:L(this.G,"js/PDFViewer_"+Ac+".js"),type:"text/javascript"});this.F()};jd.prototype.h=function(){};window.GLANCE.DocumentViewer=jd;async function qd(a,b,c){if(!rd(a)&&(a.state=sd,b.previewelementid=b.previewelementid||"glance_videopreview",b.visitorvideoelementid=b.visitorvideoelementid||"glance_video_0",b.video=b.video||"small",a.g=b,td(a),a.o=document.getElementById(b.previewelementid),ud(a),"notsupported"!==b.camerastatus))if(b.error)a.j.fireEvent("visitorvideoerror",{error:b.error});else{await Gc(a.M.G);var d={maincid:a.M.s.callId,sessionkey:`${a.M.key().substring(0,50)}V${Math.floor(na())}`,mime:'video/webm; codecs="avc1.42E01E"',
vserver:`https://${a.M.info.vserver}/`,isAnonymous:!0,bgType:b.videobgtype,bgFilterEnabled:"none"!==b.videobgtype,conntype:"visitor",guestid:0,groupid:a.M.groupId()};Object.assign(d,vd(a,!w.xc()&&d.bgFilterEnabled?"dynamic":b.video));JSON.stringify(d);a.h=c||new window.GLANCE.Video.GlanceVideoSource(d);c&&(c.removeAllEventListeners(),c.setOptions(d));a.h.addEventListener("error",e=>{Q("ABNORMAL",`Visitor video error '${e}'`);delete a.g.sessionkey;a.g.error=e;td(a);a.j.fireEvent("visitorvideoerror",
{error:e})});a.h.addEventListener("sessionStarted",e=>{a.j.fireEvent("visitorvideostarted",{width:e.descriptor.videowidth,height:e.descriptor.videoheight});a.state=wd;b.paused&&a.j.fireEvent("visitorvideopaused",{});td(a);a.g.sessionkey=e.descriptor.passcode;a.g.descriptor=JSON.stringify(e.descriptor);if(a.l){e=e.descriptor.url;var f=b.visitorvideoelementid;let g=document.getElementById(f),k=ia(e,a.M.G.Y);g.setAttribute("data-src",k);e={ssnid:e,joinurl:k,type:"forward",params:{type:"forward"},view:f};
xd(`ssagent-${e.view}`,e)}a.h.setAccepterCount(a.B)});a.h.addEventListener("bgFilterPerformanceFail",()=>{Q("ABNORMAL","Visitor video background filter performance failure");a.j.fireEvent("videobgfilterfailed",{failuremode:a.M.info.videobgfilterfailmode,performancefail:!0});switch(a.M.info.videobgfilterfailmode){case "abortvideo":yd(a);a.g.camerastatus="aborted";td(a);break;case "abortbgfilter":zd(a),a.g.videobgtype="none",ud(a),Ad(a,!1)}});a.h.addEventListener("profileUpdated",e=>{a.g.descriptor=
JSON.stringify(e.descriptor);td(a)});a.h.addEventListener("sessionEnded",(e,f)=>{a.state!==Bd&&(delete a.g.sessionkey,delete a.h,f&&"Session timed out"===f.reason?(Q("ABNORMAL",`Visitor video ended:'${f.reason}'`),a.g.error=f.reason,a.j.fireEvent("visitorvideoerror",{error:f.reason})):a.j.fireEvent("visitorvideostopped",{}),a.state=Cd,td(a))});a.g.videosource&&"available"===a.g.camerastatus&&(c?a.h.startPreview(a.o,b.paused):await a.h.initialize(a.g.videosource,a.o,b.paused),a.g&&a.g.error||(a.l||
!a.g.descriptor?a.h.startSession(b.paused,b.videobgfilter):(a.h.setBgFilterActive(b.videobgfilter),a.h.resumeSession(a.g.descriptor))))}}function Dd(a,b,c){Q("INTERESTING","Visitor video start");a.l=!0;qd(a,b,c);a.j.fireEvent("visitorvideocreated",b)}function Ed(a,b){a.l=!1;qd(a,b)}function ud(a){R(a.F.R,"visitorvideo",{video:a.g.video,camerastatus:a.g.error?"error":a.g.camerastatus,videobgfilter:a.g.videobgfilter,videobgtype:a.g.videobgtype})}
function vd(a,b){!w.xc()||"small"!==b&&"large"!==b||(b="mobile"+b);a=a.M.info.videooptions[b];try{return JSON.parse(a)}catch(c){return p("ERR_BADVIDOPTIONS"),{}}}function Fd(a,b){a.g&&a.g.video!==b&&(a.h&&(vd(a,b),a.h.updateVideoOptions(vd(a,b))),Q("INTERESTING",`Resizing video:${b}`),a.g.video=b,ud(a))}function Gd(a){let b="small"===a.g.video?"large":"small";Fd(a,b);a.j.fireEvent("visitorvideoresize",b)}function td(a){a.dispatchEvent(new Event("callstatechange"))}
function rd(a){return a.state>Bd&&a.state<Cd}function yd(a){a.h&&(document.getElementById(a.g.visitorvideoelementid).removeAttribute("data-src"),Q("INTERESTING","Visitor video ending"),a.h.endSession(),a.state=Cd,delete a.h,a.j.fireEvent("visitorvideoended",{}))}function zd(a){Q("INTERESTING","Visitor video pause");a.h.pause();window.setTimeout(()=>{a.j.fireEvent("visitorvideopaused",{})},300);a.g.paused=!0;td(a)}
function Ad(a,b){Q("INTERESTING","Visitor video background filter active:");a.h.setBgFilterActive(b);a.g.videobgfilter=b;td(a)}function Hd(a){Q("INTERESTING","Visitor video unpause");a.h.unPause();window.setTimeout(()=>{a.j.fireEvent("visitorvideoresumed",{})},500);a.g.paused=!1;td(a)}class Id extends EventTarget{constructor(a){var b=S,c=D;super();this.j=b;this.M=c;this.F=a;this.state=Bd}getState(){if(this.g)return this.g}blur(){delete this.g;delete this.h;this.state=Bd}}var Bd=0,sd=1,wd=2,Cd=3;function Jd(){var a=M,b=D.info.trusteddomains;this.tb=Ic(a);this.G=a;this.g=b}
function Kd(a,b){var c=P.Db;r("crossDomain",a,b);c.l=a;c.h="_blank"===b;c.n=-1;if(!Ld(c))return r("All domains cookied"),a&&(c.h?window.open(a):window.location.href=a),Promise.resolve();c.j||(c.j=Fa(function(d,e){r("initiator got:",e.type,e);switch(e.type){case 1:Md(c);d=Nd(c);e={type:2};e.cookieinfo=c.tb.ma();e.nexthelper=Ld(c)?Nd(c):"";e.desturl=c.h?c.l:"";r("Posting cookie info to helper",d,e);Ea(c.w,"glance_xdomain",e,d);e.nexthelper&&Od(c,e.nexthelper);break;case 3:Md(c),Pd(c)}},c.g));b=Nd(c);
c.w=window.open(b,"",c.h?"":"location=0, status=0, titlebar=0, menubar=0, width=5, height=5");r("opened",b);Od(c,b);return new Promise(function(d,e){a&&!Ga(a,c.g)?e("ERR_XDOMURL_NOT_ALLOWED "+a):(c.o=d,c.B=e)})}Jd.prototype.done=function(){this.j&&Da("message",this.j);delete this.j};function Nd(a){var b=a.g[a.n].helper;b.length&&(b=Ka(b,"GlanceSession=1"+`&groupid=${a.G.ya}&data-site=${a.G.ja}`));return b}
function Od(a,b){r("setting timeout to hear from ",b);a.timeout=setTimeout(c=>{p("no ready_to_continue received from "+c);Ld(a)?(r("navigating helper window to ",Nd(a)),a.w.location.replace(Nd(a)),Od(a,Nd(a))):(r("that was the last domain, finishing"),Pd(a))},1E4,b);r("timeout number:",a.timeout)}function Md(a){a.timeout&&(r("clearing timeout:",a.timeout),clearTimeout(a.timeout))}
function Pd(a){r("setCrossDomainDone");var b=a.tb.ma();b.xdomdone||(b.xdomdone=!0,a.tb.Ma(b,"secure"===a.G.Na));!a.h&&a.l&&(window.location.href=a.l);a.h||a.w.close();a.done();a.o()}function Ld(a){for(;++a.n<a.g.length;)if(a.g[a.n].thirdparty||a.G.Y.includes(a.g[a.n].domain)||window.location.host.endsWith(a.g[a.n].domain))r(`==> Ignoring domain ${a.g[a.n].domain} in trusted domain list`);else return!0;return!1}
function Qd(){var a=P.Db.tb.ma();if(!a)throw Error("ERR_XDOM_BADCOOKIE");return a.xdomdone};window.GLANCE=window.GLANCE||{};window.GLANCE.Cobrowse=window.GLANCE.Cobrowse||{};window.GLANCE.Cobrowse.Visitor=window.GLANCE.Cobrowse.Visitor||{};var T=window.GLANCE.Cobrowse.Visitor;function Rd(){this.cc=function(){};this.state=Sd;this.dc=!1;var a=this;Ha(function(){a.dc=!0});Ia(function(){pb()||a.xa()});qb(function(){let b;null==(b=P)||U(b.A,"pagevisibility",!0);P&&pb()?D.Pc():a.xa()});Ca("focus",function(){a.xa();return!0})}
var Ud=window.localStorage,H=new Ta(window),Sd=1,Vd=window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.toplevel,V=window!==window.parent&&!Vd,Wd=!1,P=null,S=null,Xd=null,D=void 0,M=null,W=null,Yd=new Aa,$b=new function(){this.g={}},Zd=window.GLANCE&&window.GLANCE.Cobrowse&&window.GLANCE.Cobrowse.Loader;W=new ac;
W.v=function(a,b){ac.prototype.v.call(this,a,b);if(!V&&0<=["sessionstart","sessionend","error"].indexOf(a)){var c=window.GLANCE&&window.GLANCE.Presence&&window.GLANCE.Presence.Visitor&&window.GLANCE.Presence.Visitor.instance;c&&c.fire("visitor"+a,b)}};
function $d(){this.G=M;var a=Ic(M);this.h=V?function(){}:function(){this.Ra()||q("GROUP_MISMATCH");a.Ma(this.s,"secure"===M.Na)};this.La=function(){V||(this.s=a.ma());return this.s&&this.Ra()?!0:!1};this.Ra=function(){return this.s&&Ec(M,this.groupId())};this.vd=function(b){this.s=b};this.Ad=function(b){this.info=b};this.Za=function(){return this.info.proxy||this.info.universalcam};this.rd=function(b){this.g={...b};Ud.setItem("glance_cobrowse_agentinfo",A({agents:this.g,ssnid:this.sessionId()}))};
this.Gb=function(){if(this.g)return this.g;let b=JSON.parse(Ud.getItem("glance_cobrowse_agentinfo"));return b?b.ssnid!==this.sessionId()?(Ud.removeItem("glance_cobrowse_agentinfo"),null):this.g=b.agents:null};this.bd=function(b){if(!this.g)return!0;b=b.agentlist;let c=this.g.agentlist;if(b.length!==c.length)return!0;for(let d=0;d<b.length;d++)if(b[d].guestid!==c[d].guestid)return!0;return!1};this.clear=function(){delete this.info;delete this.g;!V&&this.Ra()&&(Ud.removeItem("glance_cobrowse_agentinfo"),
delete this.s,a.Ga())};this.sessionId=function(){return this.s.ssnid};this.wb=function(){return this.s.tok};this.Dd=function(){return this.s.ssnid.split(".")[2]};this.groupId=function(){return this.s?this.s.ssnid.split(".")[0]:null};this.wc=!1;this.zd=function(b){this.wc=b};this.vc=!1;this.yd=function(b){this.vc=b};this.key=function(){return this.s?this.s.sessionKey:null};this.Nb=function(){return this.s.Nb};this.Ob=function(b,c){var d="443"!==this.info.port?":"+this.info.port:"";this.s.server.includes("/")&&
(d="");if(!M.Vc&&F(M.Y)!==F(this.s.server))throw Error("INVALID_CSERVER:"+this.s.server);return b+"://"+this.s.server+d+"/visitor/"+c};this.wd=function(b,c){V||(this.s[b]=c,this.h())};this.sc=function(b){return this.s[b]};this.pd=function(){this.ga=this.s.ga};this.Oc=function(){this.za(!0)||(this.s.ga=a.ma().ga+1,this.h(),this.ga=this.s.ga)};this.Pc=function(){V||(this.ga=0)};this.cd=function(){W.v("blur");for(var b in Y)Y[b].blur();P&&(P.C.blur(),ae(P));T.readyState=0};this.za=function(b){return(b||
this.La())&&this.s?this.ga===this.s.ga:!1};this.start=function(b,c,d){var e=b&&b.groupid||M.ya;"secure"===M.Na&&"https:"!==window.location.protocol?(m("ERR_SECURECOOKIE"),d("Unable to start a session on an insecure page.")):this.j(e).then(()=>{S.I=Fc(this.info,b)}).then(()=>this.o(e)).then(f=>{this.Ed=f;return this.l(f.coloSelectUrl)}).then(f=>this.B(e,f)).then(c,function(f){f=f||"";if("string"==typeof f)d(`Unable to start a session at ${M.Y} (${f})`);else{switch(f.status){case 13:var g="dupkey"}d(f.message,
g)}})};this.o=function(b){b=Dc(`services/authorizationservice/GetVisitorSettings3?groupid=${b}&site=${M.ja}&service=cobrowse`);return x(window,"fetch",b).then(c=>{if(!c.ok)throw Error(`Unable to get visitor settings: ${c.status} ${c.statusText}`);return c.json()}).catch(c=>{throw Error(`Unable to get visitor settings (${c.message})`);})};this.l=function(b){return new Promise((c,d)=>{b="https://"+b;(new La("JSON")).get(b,!0,!1,function(e){e.colo_id?c(e.colo_id):(m("ERR_COLOID"),d("colo select no colo id"))},
function(e,f){d(`colo select ${f}`)})})};this.B=function(b,c){return new Promise((d,e)=>{var f=S.I.sessionKey||M.visitorid||ea.Ab;Ec(M,b)||e({message:"Invalid group id "+b});var g=new La("JSON"),k=this,l=w.oa.name;0>["win","ios","mac","android"].indexOf(l)&&(l="win");var n=Dc("services/SessionProvisioning/StartSession2");Pa(g,n,{authToken:"",sessionType:4,groupid:b,mainCallId:0,callflags:"staging"===M.ja?524288:0,clientVersion:fa,coloId:c,disambiguateId:Math.floor(2147483647*Math.random()),platform:l,
sessionKey:f,name:S.I.name,email:S.I.email,phone:S.I.phone},!0,!1,function(t){t||(m("ERR_NOSESSIONINFO"),e());t.callId?(k.info.ssnid=t.sessionId,k.s={ssnid:t.sessionId,tok:oa(),ga:1,Nb:f!=ea.Ab,server:t.serverName,ver:"6.33.0.1480702263",startparams:{video:k.info.video}},ya(t,k.s,["sessionKey","callId"]),k.h(),k.ga=1,d()):e(t)},()=>{e()})})};this.j=function(b){b=Dc(`api/CobrowseSettings/VisitorSettings?groupid=${b}&site=${M.ja}&ver=${"6.33.0.1480702263"}`);return x(window,"fetch",b).then(c=>{if(!c.ok)throw Error(`Unable to get cobrowse settings: ${c.status} ${c.statusText}`);
return c.json()}).then(c=>this.info=c).catch(c=>{throw Error(`Unable to get cobrowse settings (${c.message})`);})};this.load=function(b,c){void 0!==this.info?b():this.j(this.groupId()).then(b).catch(c)};this.rb=function(b){b&&P&&(P.Rd=!1);this.Ca=b};this.Ib=function(){return this.info.agenthttp?"//":"https://"};this.La()||this.clear();this.Ca=!0;this.ga=0}function be(){ce=this;this.Sa(!0)}var ce;
be.prototype.Qb=function(a){this.sa&&a.target&&0>this.sa.indexOf(a.target)&&(q("Adding new scrollable",a.target),this.sa.push(a.target))};function de(a){a.target!==document&&"true"!==a.target.getAttribute("data-independentscroll")&&(ce.Qb(a),gd(P.A,a.target),P.Qb(a))}be.prototype.Sa=function(a){(a?J("addEventListener",document):J("removeEventListener",document)).call(document,"scroll",de,!0)};
function ee(a,b){a.qd&&(b="all",a.qd=!1);if(!P.H.tc("es")||"all"===b)a.sa=db(document.documentElement).concat(a.Wb),b=a.sa,P.H.Lc("es");else if(!b||0==b.length)return;a=[];for(var c=0;c<b.length;c++)b[c]&&a.push({path:G(b[c]).m(),y:b[c].scrollTop,x:b[c].scrollLeft});JSON.stringify(a);return 0<a.length?a:void 0}function fe(a){this.ba=a}function ge(a,b){var c=[];b=G(b);for(var d=0;d<a.ba.length;d++)b.matches(a.ba[d])&&c.push(d);return 0<c.length?c:null}
function he(a,b){var c=G(b);if(!a.g){a.g={};for(var d=0;d<a.ba.length;d++)a.g[d]=x(document,"querySelectorAll",a.ba[d])}for(d=0;d<a.ba.length;d++){b=a.g[d];for(var e=0;e<b.length;e++){var f=b[e];if((f=Mb(G(f))?y("childNodes",y("shadowRoot",f)):y("childNodes",f))&&0!==f.length&&K(c,b[e]))return!0}}return!1}
function ie(a,b,c){var d=D.info.selectiveEditing;a.push("input[type='password']");a.push("input[type='hidden']");let e=[];this.g=[];var f=this;a.forEach(function(g){var k=[],l=g.match(/(.*?)@@\[(.*)\]$/);l&&3===l.length&&(g=l[1],k=l[2].replace(/\s+/g,"").split(","));e.push(g);f.g.push(k)});d.push(".glance_controllable");this.Ba=new fe(e);this.Ya=new fe(b);this.Kc=new fe(d);this.j=c}function je(a){delete a.Ba.g;delete a.Ya.g}function ke(a){var b="",c;for(c=0;c<a;c++)b+="*";return b}
function Z(a,b){var c=G(b);if(Rb(c)||K(c,document.head))return!1;if("string"===typeof b.type&&b.type.match(/^hidden$/i))return[];if(a.j)return(a=jb(H,"glance_cobrowse_btn"))&&K(c,a)?null:(a=jb(H,"glance_confirm"))&&K(c,a)?null:[];if("undefined"!==typeof ShadowRoot&&b instanceof ShadowRoot)return Z(a,b.host);c=ge(a.Ba,b);return null!==c?c:he(a.Ba,b)||b&&b.getRootNode&&b.getRootNode()&&b.getRootNode().host&&Z(a,b.getRootNode().host)?[]:0===a.Ya.ba.length?null:le(a,b,!1)?null:[]}
function le(a,b,c){if(b.hasAttribute("id")&&"glance_cobrowse_btn"===b.getAttribute("id"))return!0;let d=jb(H,"glance_confirm");return d&&K(G(b),d)||ge(a.Ya,b)?!0:c?!1:he(a.Ya,b)}var me="value checked src href title alt data".split(" ");
function ne(a,b,c){if(!b.parentNode&&/^body$/i.test(b.tagName))return!1;b=Z(a,b);if(null===b)return!1;if(0<=me.indexOf(c))return q("isMaskedAttribute found standard masked attribute "+c),!0;for(var d=0;d<b.length;d++)if(0<=a.g[b[d]].indexOf(c))return q("isMaskedAttribute found custom masked attribute "+c),!0;return!1}
function oe(a,b,c){me.forEach(function(d){b.getAttribute(d)&&(q("removeMaskedAttributes removing standard masked attribute "+d+" from "+b.tagName),b.removeAttribute(d))});c.forEach(function(d){a.g[d].forEach(function(e){b.getAttribute(e)&&(q("removeMaskedAttributes removing custom masked attribute "+e+" from "+b.tagName),b.removeAttribute(e))})})}
function pe(a){function b(k,l){var n=document.createElement(k.tagName),t=G(k).m();ne(e,k,"style")||(n.style.cssText=k.style.cssText);var B=G(k).$();if(P.H.ia(t+"-w",B.width)||P.H.ia(t+"-h",B.height))for(n.style.width=B.width+"px",n.style.height=B.height+"px",l.push({diff:"SETATTR",path:t,attr:"style",value:n.getAttribute("style")}),n=0;k.children&&n<k.children.length;n++)le(e,k.children[n],!0)||b(k.children[n],l)}for(var c=[],d,e=a,f=0;f<a.Ba.ba.length;f++){d=x(document,"querySelectorAll",a.Ba.ba[f]);
for(var g=0;g<d.length;g++)d[g].tagName.match(/^(input|select|option|textarea)$/i)||b(d[g],c)}return c}function qe(a){this.Ta=a}qe.prototype.start=function(a){this.stop();this.Ta.mb();var b=this;a&&this.Ta.Ha();this.interval=x(window,"setInterval",function(){P&&b.Ta.Ha()},300)};qe.prototype.stop=function(){x(window,"clearInterval",this.interval)};qe.prototype.now=function(a){this.Ta.Ha(a)};function re(){}
re.prototype.mb=function(){this.g={};for(var a=x(document.head,"getElementsByTagName","link"),b=0;b<a.length;b++)a[b].disabled&&(this.g[a[b].getAttribute("data-gid")]=!0)};
re.prototype.Ha=function(){for(var a={},b=x(document.head,"getElementsByTagName","link"),c=0;c<b.length;c++)if(b[c].disabled&&(a[b[c].getAttribute("data-gid")]=!0),b[c].disabled!==!!this.g[b[c].getAttribute("data-gid")]){var d=b[c];var e=P.O,f=e.m(d);e.g.push({diff:d.disabled?"SETATTR":"REMATTR",path:f,attr:"disabled",value:""});A(e.g[e.g.length-1]);d=mc(e);se(d)}this.g=a};
function te(a){var b=document.createElement("canvas");b.width=a.width;b.height=a.height;a=b.getContext("2d");a.fillStyle="#999999";a.fillRect(0,0,b.width,b.height);return b.toDataURL("image/png")}function ue(a){if(0!==Object.keys(a.g).length&&!P.ea){Object.keys(a.g);var b=a.g;a.g={};return b}}
class ve{constructor(){this.h=!1}mb(){}async Ha(a){if(!this.h){this.h=!0;try{this.g=this.g||{};var b=[];Array.prototype.push.apply(b,document.getElementsByTagName("canvas"));Array.prototype.push.apply(b,P.ta.querySelectorAll("canvas"));for(var c=0;c<b.length;c++){await new Promise(g=>setTimeout(g,0));try{var d=b[c],e=d.getAttribute("data-gcid");if(e&&!(a&&a.gcids&&0>a.gcids.indexOf(e))){if(Z(P.P,d))if(P.H.values["canvas-"+e])continue;else var f=te(d);else f=d.toDataURL("image/png");P.H.ia("canvas-"+
e,f)&&(this.g[e]={data:f},U(P.A,"canvas",!0))}}catch(g){p("Exception in canvas check:"+g.toString())}}}finally{this.h=!1}}}}function we(){}we.prototype.mb=function(){};we.prototype.Ha=function(){xe()};function ye(){}ye.prototype.mb=function(){};
ye.prototype.Ha=function(){this.g=[];for(var a=document.styleSheets,b=0;b<a.length;b++)a[b].ownerNode&&"STYLE"===a[b].ownerNode.tagName&&a[b].ownerNode.getAttribute("data-gid")&&this.g.push(a[b]);if(0<this.g.length&&P){a=P.ta;b=document.adoptedStyleSheets?document.adoptedStyleSheets.length:0;a.h["#document"]||(a.h["#document"]=[]);b!==a.h["#document"].length&&(fd(a,document,"#document"),a.g.push("#document"));for(let d=a.l.length-1;0<=d;--d){b=a.l[d];b.isConnected&&Mb(G(b))||(b.getAttribute("data-gid"),
a.l.splice(d,1));let e=b.getAttribute("data-gid");if(e&&b.shadowRoot.querySelectorAll("*:not([data-gid])").length){b.getAttribute("data-gid");var c=b.shadowRoot.querySelectorAll("*:not([data-gid])");for(let f=0;f<c.length;f++)ec(a.o.O,c[f],e)}c=(c=a.querySelectorAll("[data-gid='"+e+"']").length?a.querySelectorAll("[data-gid='"+e+"']")[0]:b)&&c.shadowRoot?c.shadowRoot.adoptedStyleSheets:null;a.h[e]&&c&&c.length!==a.h[e].length&&b.shadowRoot&&(b.getAttribute("data-gid"),fd(a,b.shadowRoot,e),a.g.push(b));
id(a)}for(b=0;b<this.g.length;b++)a=ze(this.g[b]),null!==a&&P.H.ia("ss-"+b,a)&&kc(P.O,this.g[b].ownerNode,a);a=mc(P.O);0<a.length&&se(a)}};function Ae(a){this.h=a;this.g=!1;this.S={};this.Bb=[];this.Xa=!0}
Ae.prototype.start=function(){this.g=!0;x(document,"addEventListener","mousemove",Be);x(document,"addEventListener","keydown",Ce);x(document,"addEventListener","mousedown",xe);x(document,"addEventListener","mouseup",xe);x(document,"addEventListener","paste",xe);x(document,"addEventListener","cut",xe);x(window,"addEventListener","scroll",De);x(window,"addEventListener","resize",Ee);var a=Fe;let b=window.MutationObserver&&window.MutationObserver.toString().includes("native code")?window.MutationObserver:
C.MutationObserver;Ba.ob=new b(a);Ba.ob.observe(document,{childList:!0,characterData:!0,attributes:!0,subtree:!0})};Ae.prototype.clearTimeout=function(){this.timeout&&(x(window,"clearTimeout",this.timeout),delete this.timeout)};Ae.prototype.qa=function(a){this.clearTimeout();this.Xa=this.da=!0;Ge(this,void 0!==a?a:0)};function Ge(a,b){a.timeout||(a.timeout=x(window,"setTimeout",function(){He(a)},b))}function Ee(){U(P.A,"resize")}function xe(){U(P.A,"inputs");P.A.Xa=!0}
function Be(){U(P.A,"mouse")}function ad(){P&&U(P.A,"callstate",!0)}function De(){U(P.A,"scroll")}function Ce(a){a.target&&a.target.tagName.match(/^(input|select|textarea)$/i)?P.A.Bb.push(a.target):P.A.Xa=!0;U(P.A,"inputs")}var Ie={};function xd(a,b){Ie[a]=b;U(P.A,"callstate",!0)}function se(a){ca(0<a.length);U(P.A,"dom");P.A.S.T=(P.A.S.T||[]).concat(a)}
function Fe(a){if(null!==P){var b;null==(b=P.Da)||b.position();document.getElementById("glance-clean-context")||(W.v("recoversession",{}),b=P,C=Je(),b.Da=new Ke,b.D=Le(b.Da.va),b.A.g=!1,W.v("agents",b.R.getState("agents")),Me(P,!1));!P.A.da&&0<Ne(a)&&U(P.A,"dom")}}function gd(a,b){U(a,"elemscroll");a.S.qb||(a.S.qb=[]);for(var c=a.S.qb,d=0;d<c.length&&c[d]!==b;d++);d===c.length&&a.S.qb.push(b)}
function Ne(a){var b=P.A,c=0;b.S.Ja||(b.S.Ja=[],b.S.Ja.yc={});for(var d=0;d<a.length;d++){var e=a[d].target;if(!(1===e.nodeType&&"script"==e.tagName.toLowerCase()||1===e.nodeType&&e.getAttribute("glance_cobrowse_suppress"))){b.S.Ja.yc[a[d].type]=!0;"childList"===a[d].type&&(a[d].V=a[d].addedNodes,a[d].N=a[d].removedNodes);if(e===document.documentElement){if(V&&"childList"==a[d].type){let f=!0;a[d].V.forEach(g=>{["head","body"].includes(g.nodeName.toLowerCase())||(f=!1)});a[d].N.forEach(g=>{["head",
"body"].includes(g.nodeName.toLowerCase())||(f=!1)});if(!f)continue}if(V&&"attributes"!==a[d].type){P.qa();return}}"DOMAttrModified"===a[d].type&&"data-gid"===a[d].attrName||"attributes"===a[d].type&&"data-gid"===a[d].attributeName||(b.S.Ja.push(a[d]),c++)}}return c}
Ae.prototype.stop=function(){x(document,"removeEventListener","mousemove",Be);x(document,"removeEventListener","keydown",Ce);x(document,"removeEventListener","mousedown",xe);x(document,"removeEventListener","mouseup",xe);x(document,"removeEventListener","paste",xe);x(document,"removeEventListener","cut",xe);x(window,"removeEventListener","scroll",De);x(window,"removeEventListener","resize",Ee);Ba.ob&&Ba.ob.disconnect();delete Ba.ob;this.clearTimeout()};
function He(a){var b=a.S?a.S:{};a.S={};var c=a.h;b=a.da?{da:!0}:b;D.La()?D.za(!0)&&(V||P.J&&P.J.readyState===WebSocket.OPEN)&&Oe(c,!1,b,"UP")&&D.rb(!1):(Pe(S,!1),q("No cookie, stop session"));delete a.timeout;0<Object.keys(a.S).length&&Ge(a,100);delete a.da}function U(a,b,c){a.S[b]=!0;3===S.state&&(c?He(a):a.timeout||(a.timeout=x(window,"setTimeout",function(){He(a)},100)))}function Qe(){this.g=D.info.hoverables}function Re(){this.sb={}}
Re.prototype.get=async function(a,b){if(void 0!==this.sb[a])b(this.sb[a]);else{var c=Dc(`api/CobrowseSettings/CrossDomainSettings?groupid=${a}&site=${M.ja}`);try{let d=await x(window,"fetch",c,{headers:{Accept:"application/json"}});d.ok?(this.sb[a]=await d.json(),b(this.sb[a])):m(`ERR_CB_SETTINGS ${d.status} ${d.statusText}`)}catch(d){m(`ERR_CB_SETTINGS ${d.message})`)}}};
class Se{constructor(){this.h=new qa;this.Sa(!0)}Sa(a){a&&(ca(!this.g),this.g=b=>{this.onclick(b)});(a?H.addEventListener:H.removeEventListener).call(H,"click",this.g,!0)}onclick(a){ca(P);if(P){this.h.set(100,()=>{let e;return null==(e=P)?void 0:e.ua.now()});var b=a.target;Mb(G(b))&&(b=a.composedPath()[0]);var c="A"===b.tagName;if(!c)for(var d=b;d=d.parentElement;)if("A"===d.nodeName){c=!0;b=d;break}c&&!a.target.matches("a#glance_dl")&&(eb(b)&&Ga(b.href,D.info.trusteddomains)?Qd()||Te(a,b):D.info.pdflinks&&
Vb(G(b))&&(window.self!==window.top?(a.preventDefault(),O(window.top,{vb:"PDF",params:{url:b.href}})):(a.preventDefault(),od({url:b.href}))))}}}function Te(a,b){ca(P);a.isTrusted&&!w.ie11&&(a.preventDefault(),r("link clicked:",b.href),Kd(b.href,b.target).then(function(){}).catch(function(){p("ERR_CROSS_DOMAIN")}))}
function Ue(a){Ga(a.destination||a.nc,D.info.trusteddomains)?Qd()||Kd(a.nc,a.Sd?"_blank":"_self").then(function(){r("crossDomain complete");if(a.oncomplete)a.oncomplete()}).catch(function(){m("ERR_CROSS_DOMAIN")}):p("continueSessionAt: "+a.destination+" not configured in cross domain settings")}function Ve(a){this.Nc=a}function R(a,b,c){var d;(d=!a[b])||(d=A(a[b])!==A(c));return d?(a[b]=c,W.v(a.Nc?a.Nc:b,c),!0):!1}Ve.prototype.getState=function(a,b){if(a=this[a])return b&&(a=a[b],!a)?void 0:a};
function We(a){var b=H.u.createElement("div");b.id="glance_agent_cursor2";b.setAttribute("glance_cobrowse_suppress",1);a.appendChild(b);var c=G(b);c.Qa=!1;c.moveTo=function(d,e){var f=c.$(),g=hb(H);Ib.prototype.moveTo.call(c,Math.min(d,g.x-f.width),Math.min(e,g.y-f.height))};return c}
function Xe(){return{Qa:!1,Ka:function(a){O(window.top,{ib:a})},Ac:function(a,b){O(window.parent,{ib:{moveTo:{x:a,y:b},K:D.K}})},remove:function(){},show:function(a){this.Qa&&this.Ka({Mc:{show:a}})},moveTo:function(a,b){this.Ac(a,b)}}}
class Ke{constructor(){this.va=H.u.createElement("div");this.va.id="glance_gesture_container";H.u.body.appendChild(this.va);this.position()}position(){var a=G(this.va);if("static"!==ib(document.body).position){var b=wb(G(document.body),!0);Sb(a,-b.x,-b.y)}else if("static"!==ib(document.documentElement).position){var c=wb(G(document.body),!0);b=c.x-parseInt(window.getComputedStyle(document.body).marginLeft);c=c.y-parseInt(window.getComputedStyle(document.body).marginTop);Sb(a,-b,-c)}else Sb(a,0,0)}remove(){this.va.remove()}}
function Le(a){function b(){P.U&&P.D&&P.D.Oa(P.U)}var c=H.u.createElement("div");c.id="glance_gesture";c.setAttribute("glance_cobrowse_suppress",1);var d=H.u.createElement("span");d.id="glance_gesture_label";c.appendChild(d);a.appendChild(c);a=G(c);a.label=d;Ca("scroll",b);a.Oa=function(e){var f=wb(e,!0);e=e.$();f.width=e.width;f.height=e.height;this.oc(f)};a.Xb=function(e){this.element.setAttribute("data-agentnum",this.Fa.num);this.element.setAttribute("data-role",this.Fa.role);this.Fa.name?this.label.innerText=
this.Fa.name:e=!1;this.label.style.visibility=e?"visible":"hidden"};a.Pa=function(){Tb(this,function(e){return.6>e?100:100-(e-.6)/.4*100},function(){P&&P.U&&delete P.U})};a.oc=function(e){Sb(this,e.x-6,e.y-6);Qb(this,e.width,e.height);Kb(this,"elem_gest");this.Xb(!0)};a.Aa=function(){this.pa();this.na(0);P.U&&delete P.U};a.Ic=function(){Da("scroll",b);this.remove()};return a}
function Ye(){Ca("scroll",function(){P&&P.U&&P.D.Oa(P.U)});return{Oa:function(a){a=a.element.getBoundingClientRect();var b=H.$(),c=Math.max(a.left,0),d=Math.max(a.top,0);a={x:c,y:d,width:Math.min(a.left+a.width,b.x)-c,height:Math.min(a.top+a.height,b.y)-d};0>=a.width||0>=a.height?this.Aa():this.zc(a)},zc:function(a){JSON.stringify({lb:{rect:{x:a.x,y:a.y,width:a.width,height:a.height},K:D.K}});O(window.parent,{lb:{rect:{x:a.x,y:a.y,width:a.width,height:a.height},K:D.K,jc:this.Fa}})},Ka:function(a){O(window.top,
{lb:a})},pa:function(){this.Ka({pa:!0})},Pa:function(){this.Ka({Pa:!0})},na:function(a){this.Ka({na:{opacity:a}})},Aa:function(){P.U&&delete P.U;this.Ka({Aa:!0})},Ic:function(){}}}
function Ze(a){q("CoBrowseSession:"+window.location.href);if(!Ec(M,D.groupId()))throw Error("BAD_GROUP_ID "+D.groupId()+" not in tag");V||"custom"!==M.Cd||Hc();var b=this;this.o={};this.zb=new Set;Ca("error",$e);kb();lb();this.ac=new Se;this.Db=new Jd;this.C=new Id(this);this.C.addEventListener("callstatechange",ad);this.h=new af(this);ae(this);D.info.usechildorder&&(Jb=!0);this.O=new cc;sc(this.O,function(c,d){b.H.ed(c);return d?bf(b,c,d):!0});tc(this.O,function(c){return cf(b,c)});uc(this.O,function(c,
d){return d.match(/^src$/i)&&"IFRAME"===c.tagName&&(df(b,c)||c.getAttribute("data-no-cobrowse-content")||c.getAttribute("data-independent-content"))||ne(b.P,c,d)||d.match(/^on.*/i)||"integrity"===d||"pattern"===d?!1:"class"===d&&null!==c.parentNode&&Z(b.P,c)?c.getAttribute("class")+" glance_masked":D.Za()?ef(c,d):c.getAttribute(d)});vc(this.O,function(c){return!Z(b.P,c)});this.O.B=D.info.nogids;ff(this,a);gf(this);hf(this);jf(this);this.Eb=new be;this.bc=D.info.hoverables?new Qe:null;this.A=new Ae(this);
this.l=!1;w.firefox&&(this.gb=new qe(new re));this.ab=new qe(new ye);this.ua=new qe(new ve);this.ta=new bd(this);this.$a=new jd(M,D,S);D.info.pdflinks&&pd(this.$a,"PDF");if(D.info.inputpoller||window.frameElement&&"glance_pdfviewer"===window.frameElement.id)this.fb=new qe(new we);this.X=new Xc(this);this.H={values:{},Ub:{},Vb:new Set,ia:function(c,d){if(d===this.values[c])return!1;this.values[c]=d;return!0},kd:function(c,d){this.sd=!0;return this.ia("input-"+c,d)},Lc:function(c){this.Ub[c]=!0},tc:function(c){return this.Ub[c]},
lc:function(c){delete this.values[c]},dd:function(){for(var c in this.values)c.match(/^input-/)&&delete this.values[c]},ed:function(c){function d(f,g){f=x(f,"getElementsByTagName",g);for(g=0;g<f.length;g++)e.lc("input-"+G(f[g]).m())}if(this.sd){var e=this;d(c,"input");d(c,"textarea");d(c,"select")}},xd:function(c){for(const d of c)this.Vb.add(d);c.clear()},qc:function(c){return this.Vb.has(c)},clear:function(){this.values={};this.Ub={};this.Vb=new Set;delete this.Pd}};V||(this.Da=new Ke);this.D=V?
Ye():Le(this.Da.va);this.g=V?Xe():We(this.Da.va);D.wc&&kf(this,!0);D.vc&&lf(this,!0)}function mf(a,b){a=D.info[a];b=D.info[b];if(!D.Gb())return Object.values(a);let c=new Set;for(var d of D.Gb().agentlist){const e=d.agentrole;if("guest"!==d.role){if(!e)return Object.values(a);if(!b[e])return p("ERR_ROLE_MASKING_NOT_FOUND "+e),Object.values(a);b[e].forEach(f=>c.add(f))}}d=[];for(const e of c.values()){b=a[e];if(!b)return p("ERR_BAD_SETTING_ID "+e),Object.values(a);d.push(b)}return d}
function ff(a,b){"undefined"!==typeof b.maskpage&&(a.j=b.maskpage);a.j=0<D.info.urlwhitelist.length&&!bb(D.info.urlwhitelist);a.j=a.j||bb(D.info.urlblacklist);D.info.maskedURLs&&Object.keys(D.info.maskedURLs).length&&(a.j=bb(mf("maskedURLs","roleBasedMaskedURLs")));a.j?(document.body.classList.add("glance_masked"),S.fireEvent("pagemasked",{})):document.body.classList.remove("glance_masked");let c=[...mf("maskingSelectors","roleBasedMasking"),...b.maskedelements];b=[...(D.info.unmasked||[]),...b.unmaskedelements];
a.P=new ie(c,b,a.j);D.Ca||P.qa()}function nf(a,b){var c=P;if(a!==c.ea||b)c.ea=a,xd("sessionpaused",{paused:!!a,message:b}),a||c.qa(),W.v("sessionpaused",{paused:a})}function ae(a){a.Ea=0;a.R=new Ve;a.R.screenshare=new Ve("screenshare");a.ub=new Ve;Y={}}
function Je(){var a=jb(H,"glance-clean-context");if(a)return a.contentWindow;a=document.createElement("iframe");a.setAttribute("id","glance-clean-context");a.style.display="none";a.setAttribute("data-no-cobrowse-content",1);document.body.appendChild(a);var b=document.createElement("script");b.src=L(M,"js/GlanceCleanContext_"+Ac+".js");w.firefox?a.addEventListener("load",function(){q("Adding script to clean context after iframe load");a.contentDocument.documentElement.innerHTML="<!DOCTYPE html><html><head></head><body>clean context</body></html>";
a.contentWindow.document.head.appendChild(b)}):a.contentWindow.document.head.appendChild(b);return a.contentWindow}function $e(a){if(a.error&&a.error.stack&&!(0>a.error.stack.indexOf("Glance"))){try{var b="JS Error in "+window.location.href+": ";b+=a.error.name+" "+a.error.message+a.error.stack;of(pf,b)}catch(c){m("ERR_REPORTERROR")}Da("error",$e)}}function qf(a){var b=P;Q(rf,"WS_RECON: "+(a||""));b.Ea++;sf(b,function(){b.qa()},function(){return uf(b,!1)})}
function uf(a,b,c){if(S.dc)return!1;Q(rf,"WS_DROP");ba("onConnectionDrop: newsesssion="+b+" this.connected="+a.connected+" this.reconnects="+a.Ea);(b=(!b||a.connected)&&20>a.Ea)?(vf(a,!1),x(window,"setTimeout",function(){P&&qf("closed")},10>a.Ea?2E3:4E3)):wf("Connect failed "+(c||""),"conndrop",{server:D.s?D.s.server:"server"});return b}function vf(a,b){R(a.R,"connection",{status:b?"ok":"reconnecting"})}function xf(){var a=P,b=a.cb;delete a.cb;return b}
function yf(a,b,c){c&&(b["private-for"]=c);a.cb=a.cb||[];a.cb.push(b);U(P.A,"ssnmsg")}h=Ze.prototype;h.qa=function(){D.rb(!0);this.H.clear();this.A.qa()};function df(a,b){if(document.body.contains(b)&&Z(a.P,b)||b.getAttribute("data-no-cobrowse-content")||b.getAttribute("data-independent-content"))return!1;a=(a=y("src",b))&&Ga(a,D.info.trusteddomains);var c;(c=zf(b))||(c=y("src",b),/^glance_/i.test(b.id)||0===c.length?c=!1:(b=ab(c),c=null===b||F(b)!==Sa(H)?!1:!0));return c||a}
function zf(a){if("IFRAME"!==a.tagName)return!1;let b=y("src",a);return!b||"glance_pdfviewer"===a.id&&w.ie||/^(javascript|about):/i.test(b)||""===a.getAttribute("src")||void 0===a.baseURI&&b==window.location.href.match(/.*\//)?!0:!1}
function hf(a){function b(g){y("contentWindow",g).setTimeout(function(){Ya(g.contentWindow,"load")},1E3)}function c(g,k){if("glance_pdfviewer"!==g.id){var l=y("src",g);if(l.match(/^javascript:/)&&!k)g.getAttribute("frameid"),x(window,"setTimeout",function(){c(g,!0)},1E3);else{try{var n=g.contentDocument}catch(t){m("can't access contentDocument src="+l+" ==> "+t.toString()+n);return}if(g.contentDocument){if(null===g.contentDocument.head){if("application/xhtml+xml"===g.contentDocument.contentType){g.getAttribute("frameid");
return}try{g.contentDocument.head=g.contentDocument.createElement("head")}catch(t){}if(null===g.contentDocument.head){k?g.getAttribute("frameid"):(g.getAttribute("frameid"),x(window,"setTimeout",function(){c(g,!0)},1E3));return}}if(!g.contentDocument.getElementById("cobrowsescript")&&!g.contentDocument.getElementById("glance-cobrowse")){k=g.contentDocument.createElement("script");for(l=0;l<M.aa.attributes.length;l++)"src"!==M.aa.attributes[l].name&&k.setAttribute(M.aa.attributes[l].name,M.aa.attributes[l].value);
if(M.nb)for(l=0;l<M.nb.attributes.length;l++)k.setAttribute(M.nb.attributes[l].name,M.nb.attributes[l].value);k.setAttribute("id","glance-cobrowse");g.contentDocument.head.appendChild(k);k.setAttribute("src",M.aa.getAttribute("src"));g.getAttribute("frameid");zf(g)&&b(g)}}else m("!contentDocument src="+l)}}}function d(g){function k(n){n=x(l.documentElement,"getElementsByTagName",n);return 0<n.length&&0<n[0].children.length}try{var l=g.contentDocument;return"complete"===l.readyState&&(k("head")||k("body"))}catch(n){}return!1}
var e,f=x(document,"getElementsByTagName","iframe");for(e=0;e<f.length;e++)!f[e].getAttribute("frameid")&&df(a,f[e])&&(f[e].setAttribute("frameid",Math.floor(2147483647*Math.random())),f[e].getAttribute("frameid"),zf(f[e]),d(f[e]),x(f[e],"addEventListener","load",function(g){g.target.getAttribute("frameid");c(g.target)}),zf(f[e])||d(f[e]))&&(f[e].getAttribute("frameid"),c(f[e]))}function Af(a,b){var c=la(b.K);c?O(c.contentWindow,{Ia:b}):Bf(a,{Ia:b})}
function Bf(a,b){var c,d=x(document,"getElementsByTagName","iframe"),e=[];for(c=0;c<d.length;c++)df(a,d[c])&&y("contentWindow",d[c])&&e.push(d[c]);for(a=0;a<e.length;a++)void 0!==y("contentWindow",e[a])&&O(y("contentWindow",e[a]),b)}function Cf(a,b,c){hf(a);var d=la(c);d=y("contentWindow",d);O(d,{Ua:{K:c,od:b,s:D.s,ud:D.info},kb:{enabled:a.l}})}
function jf(a){function b(g){let k=document.createElement("span");k.classList.add("glance-mock-title");k.innerHTML=g;return k}function c(g){if(null!=f){let k=x(document,"querySelectorAll","[title]:hover");for(let l=0;l<k.length;l++)if(f==k[l])return;e(g)}}function d(g){e(g);f=g.target;let k=b(f.getAttribute("title"));"IFRAME"!=f.tagName.toUpperCase()&&(x(window,"setTimeout",()=>{k.style.left=H.fa.x+12+"px";k.style.top=H.fa.y+12+"px";k.style.opacity="1"},500),window.top.document.body.appendChild(k))}
function e(){f=null;let g=window.top.document.body.querySelectorAll(".glance-mock-title");for(let k=0;k<g.length;k++)g[k].style.display="none"}let f=null;a.$b=function(){let g=x(document,"querySelectorAll","[title]");for(let k=0;k<g.length;k++){let l=g[k];J("removeEventListener",l).call(l,"mouseenter",d);J("addEventListener",l).call(l,"mouseenter",d);J("removeEventListener",l).call(l,"mouseleave",e);J("addEventListener",l).call(l,"mouseleave",e);J("removeEventListener",document).call(document,"mousemove",
c);J("addEventListener",document).call(document,"mousemove",c)}};a.$b()}
function gf(a){function b(n){l.F=n;U(P.A,"focus")}function c(){P&&b(null)}function d(n){w.firefox&&l.F&&l.F!==n.target?c():l.F===n.target?c():b(n.target)}function e(n){var t=n.key||n.charCode||n.keyCode,B=13===t||"Enter"===t;l.F!==n.target||9!==t&&"Tab"!==t&&27!==t&&"Esc"!==t&&!B?w.chrome&&w.oa.win&&null===l.F&&B&&b(n.target):c()}function f(n){w.oa.mac&&w.safari&&d(n)}function g(n){l.F===n.target&&c()}function k(){x(window,"setTimeout",function(){c()},100)}var l=a;a.yb=function(n){var t,B=x(H,"getElementsByTagName",
"select");for(t=0;t<B.length;t++){var I=B[t];var E=n?J("addEventListener",I):J("removeEventListener",I);E.call(I,"click",d);E.call(I,"keyup",e);w.chrome&&E.call(I,"keypress",e);E.call(I,"change",k);E.call(I,"blur",g);E.call(I,"mousedown",f)}E=n?J("addEventListener",window):J("removeEventListener",window);E.call(window,"resize",c);E.call(window,"scroll",c);E.call(window,"blur",c)};a.yb(!0)}function Df(){var a=null;try{if(a=H.u.activeElement,!a)return null}catch(b){return null}return a}
function Ef(){var a=Df();return a?G(a).m():null}function Ff(){var a,b="";if(void 0!==window.matchMedia){var c=H.head().getElementsByTagName("link");for(a=0;a<c.length;a++)if(""===c[a].media)b+="1";else{var d=window.matchMedia(c[a].media);b+=d&&d.matches?"1":"0"}}return b}function Gf(a){var b=H.u.head.cloneNode(!0);Hf(a,H.head(),b);return cf(a,b.innerHTML)}
function If(a,b){var c;for(c=0;c<b.length;c++){if(df(a,b[c])||b[c].getAttribute("data-no-cobrowse-content")||b[c].getAttribute("data-independent-content"))b[c].removeAttribute("src"),b[c].removeAttribute("srcdoc");let d=b[c].getAttribute("frameid");d&&a.zb.add(d);b[c].setAttribute("sandbox","")}}
function Jf(a){for(var b=0;b<a.length;b++){let c=a[b];Kb(G(c),"glance_controllable");switch(c.tagName.toUpperCase()){case "FORM":c.setAttribute("autocomplete","false"),c.querySelectorAll("input").forEach(d=>{d.setAttribute("autocomplete","off")});case "INPUT":c.setAttribute("autocomplete","off")}}}
function Kf(a,b,c,d){function e(n,t){oe(g,t,d);t.tagName.match(/^SVG|AUDIO|VIDEO|OBJECT$/i)&&G(t).empty();n&&(n=G(n).$(),Qb(G(t),n.width,n.height));for(n=0;n<t.childNodes.length;n++)3===t.childNodes[n].nodeType&&(t.childNodes[n].textContent="string"===typeof t.childNodes[n].textContent&&""!==t.childNodes[n].textContent.trim()?" ":"")}var f;if(!b||b.length!==c.length)throw p(`ERR_INVALIDNESTING in parent of: ${c[0].tagName} data-gid ${c[0].getAttribute("data-gid")}`),Error("ERR_MASKEDFIELDS");b&&b.length!==
c.length&&(p(`ERR_INVALIDNESTING in parent of: ${c[0].tagName} data-gid ${c[0].getAttribute("data-gid")}`),b=void 0);for(var g=a.P,k=0;k<c.length;k++){var l=c[k];l.setAttribute("aria-label","masked item");switch(l.tagName.toUpperCase()){case "TEXTAREA":case "INPUT":switch(l.type.toLowerCase()){case "checkbox":case "radio":l.removeAttribute("checked");break;case "button":case "submit":break;default:l.setAttribute("value",ke(b?b[k].value.length:1))}break;case "SELECT":G(l).empty();if(f=b?G(b[k]).$().width:
0)l.style.width=f+"px";f=document.createElement("option");f.innerHTML="*******";l.appendChild(f);break;case "OPTION":l.textContent="*******";break;case "STYLE":break;case "LINK":"stylesheet"!==l.getAttribute("rel")&&e(b&&b[k],l);break;default:if(a.Wc=!0,e(b&&b[k],l),l.children&&0<l.children.length){if(!b){Kf(a,void 0,l.children,[]);break}let n=y("children",b[k]),t=[],B=[];if(n.length!==l.children.length)p(`ERR_INVALIDNESTING ${b[k].tagName} data-gid ${b[k].getAttribute("data-gid")}`),Kf(a,void 0,
l.children,[]);else{for(f=0;f<n.length;f++)le(a.P,n[f],!0)||(t.push(n[f]),B.push(l.children[f]));Kf(a,t,B,[])}}}}}function Lf(a,b,c){if(a.P)for(let d=0;d<a.P.Kc.ba.length;d++){let e=a.P.Kc.ba[d],[,f]=Mf(e,b,c);b.matches(e)&&f.push(c);Jf(f)}}
function Nf(a,b,c){var d,e;var f=[];if(d=Z(a.P,b))if(Kf(a,[b],[c],d),0<d.length&&Kb(G(c),"glance_masked"),0===a.P.Ya.ba.length)return;for(d=0;d<a.P.Ba.ba.length;d++){let [g,k]=Mf(a.P.Ba.ba[d],b,c);if(0!=g.length){for(e=0;e<k.length;e++)f.push(k[e]);Kf(a,g,k,[d])}}for(d=0;d<f.length;d++)Kb(G(f[d]),"glance_masked");f=x(c,"getElementsByTagName","input");for(d=0;d<f.length;d++)"hidden"===f[d].type&&(f[d].value="");Lf(a,b,c)}function Of(){if(D.K)return"/"===H.m()?D.K:Rc(H.m()).replace(/\//g,"-")}
function Pf(a,b){let c=D.info.proxy&&!D.info.universalcam,d=D.info.universalcam;var e=document.head.querySelector("base[href]");if(!e||c||d){var f=H.u.createElement("base"),g=D.K?"/glance"+Of():"";e="/agent/resource/"+D.sessionId()+g+"/"+Sc(e?e.href:H.m());e=`https://${D.s.server}:${D.info.port}${e}`;g=Sc(ja(document.baseURI).origin+H.m());g=`https://${d}/resource/request/${D.groupId()}/0/${g}`;Lc({hc:!!d,Yc:`https://${d}/resource/request/${D.groupId()}/0/`,Xc:`https://${d}/constructedstylesheet/request/${D.groupId()}/0/`,
Rc:`https://${D.s.server}:${D.info.port}/agent/resource/${D.sessionId()}/`,Qc:e,Uc:a.ta});f.href=c?e:d?g:"//"+H.ha.location.host+H.m();b.insertBefore(f,b.firstChild)}else Qf(b,"link"),Qf(b,"base")}function Rf(a){Wb(G(a),"meta[http-equiv='refresh']",b=>b.removeAttribute("http-equiv"))}function Sf(a){Wb(G(a),"noscript",b=>b.innerHTML="")}
function Tf(a){for(var b=a.querySelectorAll("link[integrity]"),c=0;c<b.length;c++)b[c].removeAttribute("integrity");"LINK"===a.tagName&&a.removeAttribute("integrity")}
function Hf(a,b,c){function d(k){return!k.tagName.match(/^(head|base|link|meta|noscript|style|template|title)$/i)||k.tagName.match(/meta/i)&&k.getAttribute("http-equiv")&&k.getAttribute("http-equiv").match(/^(X-Frame-Options|Content-Security-Policy)$/i)||D.Za()&&"BASE"===k.tagName||k.matches("link[as='script']")?!0:!1}var e;if(d(c))return!1;let f=y("children",c);for(e=0;f&&e<f.length;e++){var g=f[e];d(g)&&(g.outerHTML=Lb(G(g)))}b===document.head&&Pf(a,c);if(void 0!==window.matchMedia)for(b=x(b,"getElementsByTagName",
"link"),a=x(c,"getElementsByTagName","link"),g=Ff(),e=0;e<a.length;e++)a[e].media="1"===g.substr(e,1)?"all":"none",b.length>e&&b[e].disabled&&!a[e].disabled&&a[e].setAttribute("disabled","true");Sf(c);Tf(c);Rf(c);Uf(c);D.Za()&&Vf(c);return!0}
function Uf(a){var b=x(a,"getElementsByTagName","style");"STYLE"===a.tagName&&(b=[a]);for(a=0;a<b.length;a++){a:{var c=b[a];for(var d=H.u.styleSheets,e=0;e<d.length;e++)if(d[e].ownerNode&&d[e].ownerNode.getAttribute("data-gid")===c.getAttribute("data-gid")){c=d[e];break a}c=null}null!==c&&(c=ze(c),null!==c&&(b[a].innerHTML=c))}}function ze(a){a=bc(a);if(null===a)return null;D.Za()&&(a=Oc(a));return a}
function Wf(a){function b(c){if("IMG"!==c.tagName)return!1;let d;try{if(d=ja(c.src),d.origin===window.location.origin)return!1}catch(e){return!1}if(1>=d.searchParams.size)return!1;c=x(document,"querySelector","[data-gid='"+c.getAttribute("data-gid")+"']");if(!c)return!1;c=x(c,"getBoundingClientRect");return 1>=c.width&&1>=c.height}if(b(a))return a.removeAttribute("src"),!0;for(const c of x(a,"querySelectorAll","img"))b(c)&&c.removeAttribute("src");return!1}
function Xf(a,b,c){function d(k){k.removeAttribute("src");k.innerHTML=""}function e(k){k.removeAttribute("href")}"IFRAME"===c.tagName?If(a,[c]):If(a,x(c,"getElementsByTagName","iframe"));if(b.tagName.match(/script/i))return d(c),!0;if(x(b,"matches","link[as='script']"))return e(c),!0;x(c,"querySelectorAll","link[as='script']").forEach(e);var f=x(c,"getElementsByTagName","script");for(var g=0;g<f.length;g++)d(f[g]);if(Wf(c))return!0;Sf(c);Tf(c);Rf(c);f=Ub(G(c),"[glance_cobrowse_suppress='1']");for(g=
0;g<f.length;g++)f[g].outerHTML=Lb(G(f[g]));f=Ub(G(c),"[pattern]");for(g=0;g<f.length;g++)f[g].removeAttribute("pattern");b.parentNode&&G(b).matches("meta[http-equiv='X-Frame-Options'][content='deny']")&&c.removeAttribute("content");f=Ub(G(c),"meta[http-equiv='X-Frame-Options'][content='deny']");for(g=0;g<f.length;g++)f[g].removeAttribute("content");Nf(a,b,c);Lf(a,b,c);a.yb(!0);a.$b();dd(a.ta,[b]);Uf(c);D.Za()&&Vf(c);return!0}
function Mf(a,b,c){a=x(b,"querySelectorAll",a);b=[];let d=[];for(let e=0;e<a.length;e++)b.push(`[data-gid="${a[e].getAttribute("data-gid")}"]`);b.length&&(d=d.concat(Array.from(x(c,"querySelectorAll",b.join(",")))));return[a,d]}function Yf(a){var b=document.body;if(b){a.bb=0<b.getElementsByTagName("svg:svg").length;b=b.getElementsByTagName("svg");if(!a.bb)for(var c=0;c<b.length&&!a.bb;c++)/svg:svg/i.test(b[c].tagName)&&(a.bb=!0);a.Tc=0<b.length}}
function cf(a,b){if(!b)return b;b=b.replace(/data-proxyattr-(.*?) *= *"(.*?)"/g,(c,d,e)=>`${d}="${e}"`);a.bb&&(b=b.replace(/<svg:/gi,"<").replace(/<\/svg:/gi,"</"));w.safari&&a.Tc&&(b=b.replace(/ NS\d*:href/gi," href"));return b}function bf(a,b,c){var d=G(b);return Rb(d)||K(d,document.head)?Hf(a,b,c):Xf(a,b,c)}
function Zf(a){function b(f){var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return f.replace(/[&<>'"]/g,function(k){return g[k]})}var c,d="";for(c=0;c<a.attributes.length;c++){var e=a.attributes[c];0!==e.nodeName.indexOf("on")&&(d+=`${e.nodeName}='${b(e.value)}' `)}return d}
function ef(a,b){var c=a.getAttribute(b);if(c&&0==c.indexOf("../")&&["link","img"].includes(a.tagName.toLowerCase())&&["src","href"].includes(b.toLowerCase()))try{let d=new URL(y(b,a));c=d.pathname+d.search}catch(d){m("couldn't get path for relative resource with '../', "+c+d.message+" gid: "+a.getAttribute("data-gid"))}if(!c)return c;switch(b){case "src":if("IFRAME"===a.tagName)return c;case "href":case "xlink:href":return Tc(c);case "srcset":a=c.split(",");for(b=0;b<a.length;b++)c=Tc(a[b].replace(/^\s*/,
"")),a[b]=c;return a.join(", ");case "style":return Vc(c);default:return c}}
function Vf(a){function b(c,d,e){function f(l){for(var n=0;n<l.length;n++){l[n].hasAttribute("crossorigin")&&l[n].removeAttribute("crossorigin");let t=l[n].getAttribute(d),B=ef(l[n],d);B&&(B===t?e&&(l[n].removeAttribute(d),l[n].setAttribute(e||d,B)):(l[n].removeAttribute(d),l[n].setAttribute("data-proxyattr-"+(e||d),B)))}}var g=G(a),k=Ub(g,c);f(k);g.matches(c)&&f([a])}b("link:not([as='script'])","href");b("IMG","src");b("input","src");b("image","xlink:href");b("use","xlink:href","data-href");b("use",
"href","data-href");b("img[srcset],source[srcset]","srcset");b("[style]","style")}function Qf(a,b){a=x(a,"getElementsByTagName",b);for(b=0;b<a.length;b++){var c=a[b];if(void 0!==c&&void 0!==c.href){var d=c.href;0!=d.length&&(0>d.indexOf("//")?(Q(rf,"toAbsoluteUrls called"),d=Db(d)):D.info.agenthttp||(d=d.replace("http:","https:")),c.href=d)}}}
h.Hb=function(a){var b=y("type",a)||"";if(b.match(/^hidden$/i))return null;var c=G(a).m();if(!this.H.kd(c,JSON.stringify([y("selectedIndex",a),y("checked",a),y("value",a)])))return null;var d;b.match(/^(button|submit)$/i)?d=!1:b.match(/^text$/i)&&""===a.value?d=!1:d=Z(this.P,a);return d&&(b.match(/^(radio|checkbox|range)$/i)||a.tagName.match(/^select$/i))?null:(a=G(a).Hb(d&&"string"===typeof a.value?ke(y("value",a).length):void 0))?a:null};
function $f(a){if(!a.j&&!a.ea){var b=[];var c=a.A;var d=[];if(c.Xa){var e=x(document,"querySelectorAll","input,select,textarea");Array.from?d=Array.from(e).concat(Array.from(P.ta.querySelectorAll("input,select,textarea"))):d=e}else d=c.Bb;c.Bb=[];c.Xa=!1;c=d;for(e=0;e<c.length;e++)d=a.Hb(c[e]),null!==d&&b.push(d);return 0<b.length?{i:b}:void 0}}
function ag(a){var b,c=H.u,d=[];if(null===a.bc||0===H.fa.x&&0===H.fa.y)return d;for(b=c.elementFromPoint(H.fa.x,H.fa.y);b&&b!==c.body&&b!==c;){var e=a.bc;for(var f=b,g="",k=0;k<e.g.length;k++)G(f).matches(e.g[k])&&(g+=e.g[k].replace(/[^a-zA-Z0-9-]/g,"_").replace(/^_/,"")+"_hover ");e=0<g.length?g.trim():null;null!=e&&(G(b).m(),d.push({cn:e,p:G(b).m()}));b=b.parentNode}return d}
h.send=function(a,b){a={mtype:a,data:b};if(V)a.frameid=D.K,O(window.parent,{Kb:a});else if(this.J)try{this.J.Tb(a)}catch(c){q("Websocket send failed",c.toString())}else Q(rf,"WS_DISCON")};
function bg(a,b,c){hf(a);try{var d={};if(a.ea)return D.Ca?{uc:"",Va:Gf(a),kc:"",pb:""}:{};b&&b.yc.childList&&Yf(a);if(b){var e=a.O;if(0!==b.length){-1!==b[0].toString().indexOf("MutationRecord")&&rc(e,b);var f=mc(e)}else f=void 0;d.T=f}id(a.ta);c&&(d.T=(d.T||[]).concat(c));if(!b&&!c){d.Va=Gf(a);d.kc=Zf(H.u.body);Yf(a);var g=Pb(G(H.u.body));bf(a,document.body,g);var k=ib(H.u.body);null!==k&&(g.style.marginTop=k.marginTop,g.style.marginLeft=k.marginLeft,g.style.paddingTop=k.paddingTop,g.style.paddingLeft=
k.paddingLeft);var l=cf(a,g.innerHTML);d.pb=l}if(a.H.ia("htmlattrs",Zf(document.documentElement)))if(d.Va||d.pb)d.uc=Zf(document.documentElement);else{var n=d.T||[],t=n.concat,B=a.O,I=document.documentElement,E;f={};for(E=0;E<I.attributes.length;E++)B.l(I,I.attributes[E].name)&&(f[I.attributes[E].name]=I.attributes[E].value);B.m(I);A(f);B.m(I);B.g.push({diff:"ATTR",path:B.m(I),data:f});var ka=mc(B);d.T=t.call(n,ka)}return d}catch(z){p(z.message);if("ERR_MASKEDFIELDS"===z.message)return a.ea=!0,bg(a,
b,c);throw z;}}function cg(a){void 0!==a.J&&a.J.readyState===WebSocket.OPEN&&(q("Closing websocket"),a.J.close());delete a.J}
function sf(a,b,c){ba("opening websocket");a.J=ta();a.J.onopen=function(){a.connected=!0;vf(a,!0);a.Ea=0;var d=(new Ra("GCB")).get()||"";a.send("CN",{cookie:d,ssnid:D.sessionId(),visitortoken:D.wb(),frameid:D.K,ver:"6.33.0.1480702263",href:window.location.href});S.fireEvent("openconnection",{ver:"6.33.0.1480702263",href:window.location.href,ssnid:D.sessionId()});b();window.top==window.self&&P.ca({docshare:{enabled:document.getElementById("glance_pdfviewer")||document.getElementById("glance_xlsviewer")}})};
a.J.Ec=function(d){let e;ba((a.J===this?"":"previous ")+"websocket closed:"+d.reason+" ["+d.code+"] in-session:"+!!P+" have-focus:"+(null==(e=D)?void 0:e.za(!1)));a.J===this&&null!=P&&(!D.za(!1)||1002!==d.code&&2E3!==d.code&&1006!==d.code||(m("WS_CLOSED:"+d.reason+" ["+d.code+"]"),c("WS_CLOSED:"+d.reason+" ["+d.code+"]")),delete a.J)};a.J.onerror=function(d){a.J===this&&(m("WS_ERROR:"+d.type),c("WS_ERROR:"+d.type),delete a.J)};a.J.Fc=function(d){a.J===this&&(vf(a,!0),"Config"===d.mtype&&this.Bd(d.data.pinginterval,
d.data.pingtimeout),d.frameid?Af(a,d):dg(a,d))};if(D.info.universalcam&&!V){let d=D.info.universalcam.replace("glance-","visitor-");Mc(d)}}async function eg(){let a=x(document,"querySelector","script[src*=GlanceSessionMetrics]");if(!V&&null==a)try{await fb(H,{src:L(M,"js/GlanceSessionMetrics_"+Ac+".js")});let b={group_id:D.groupId(),web_server:D.G.Y,site:D.G.ja};(new window.GLANCE.VisitorSessionMetrics(b)).run()}catch(b){p("GLANCE:",...["Exception on GlanceSessionMetrics load",b.toString()])}}
async function Me(a,b){S.state=3;let c;(null==(c=D.Ed)?0:c.isMetricsEnabled)&&eg();await fg();gg("sessioncontinue");b?Ge(a.A,300):a.A.qa(300)}function hg(a){if(a.ea)return{x:0,y:0};a=yb(H);a={x:xb("x",a.x),y:xb("y",a.y)};JSON.stringify(a);return a}function ig(a){var b=window.location.href.replace(/\?.*/g,"");return a.H.ia("pageurl",b)?b:void 0}
function jg(){var a={groupid:D.groupId(),visitortoken:D.wb(),universalcam:D.info.universalcam,visitorid:M.visitorid||"",ver:"6.33.0.1480702263",maincid:D.s.callId.toString(),browser:{name:w.name,platform:w.oa.name,version:w.version},site:M.ja,loglevel:D.info.loglevel,pdfviewer:null!==jb(H,"glance-pdf"),widget:D.info.widget,cbexperimentagent:D.info.cbexperimentagent,docshareagentdl:D.info.docshareagentdl};ya(S.I,a,["name","email","phone","remote"]);return ya(D.info,a,"agenthttp remotescroll chatdomains scaledview proxy commoncache agentcookie".split(" "))}
function Oe(a,b,c,d){function e(t,B){for(n in B)k.H.ia(t+n,A(B[n]))||delete B[n]}var f={},g=!1,k=a;je(a.P);c.da&&(gc(P.O,document.head),gc(P.O,document.body),hf(a),P.xb&&P.xb.start(),P.gb&&P.gb.start(),P.fb&&P.fb.start(),P.ab.start(!0),P.ua.start(!0));if(c.da||D.Ca||c.dom)ca(!!c.dom===!(!c.Ja&&!c.T)),f=bg(a,c.Ja,c.T);g=void 0!==f.Va||void 0!==f.pb;var l=f.T&&0<f.T.length;a.Wc&&(l||c.resize)&&(f.T=(f.T||[]).concat(pe(a.P)));f.Va?a.H.ia("mediamatches",Ff()):c.resize&&a.H.ia("mediamatches",Ff())&&(f.T=
(f.T||[]).concat(lc(a.O)));V&&!tb()&&O(window.parent,{Cb:1});b={newssn:b?jg():void 0,page:D.Ca?{proto:H.Ib(),pageurl:window.location.href.replace(/\?.*/g,""),origpath:Hb(),doctype:null===document.doctype?{name:"",prefix:"",publicid:"",systemid:""}:{name:document.doctype.name,prefix:document.doctype.publicId?"PUBLIC":document.doctype.systemId?"SYSTEM":"",publicid:document.doctype.publicId||"",systemid:document.doctype.systemId||""},frameproxypath:Of()}:void 0,html:{htmlattrs:f.uc,bodyattrs:f.kc,pagehead:f.Va,
pagebody:f.pb},incstate:g?void 0:{bodydiffs:D.info.compression?void 0:f.T,bd_c:D.info.compression?wa(f.T):void 0,inputs:!D.info.compression&&c.inputs?$f(a):void 0,ip_c:D.info.compression&&c.inputs?wa($f(a)):void 0,escroll:ee(a.Eb,l?"all":c.qb)},ssnmessages:xf(),elemdata:{canvases:c.canvas&&a.ua?ue(a.ua.Ta):void 0,shadowdoms:a.ea?void 0:hd(a.ta,c.da)},state:{inputs:!D.info.compression&&g?$f(a):void 0,ip_c:D.info.compression&&g?wa($f(a)):void 0,styles:ag(a),mouse:a.ea?void 0:mb(),click:a.ea?void 0:
ob(),scroll:c.scroll||l||c.da||D.Ca?hg(a):void 0,scrollvisible:{x:gb(H.Sc),y:gb(H.hb)},scrollinfo:Gb(),windims:H.$(),docdims:hb(H),pageurl:ig(a),focus:{path:Ef(),open:a.F===Df()},pagevisibility:pb()?"hidden":"visible"},callstate:{rc:{enabled:a.l,suspended:void 0!==a.X.g.ka},accessibility:void 0===a.la||V?void 0:{enabled:a.la},ssvisitor:kg.getState(),visitorvideo:a.C.getState(),user:c.user&&P?P.ub:void 0}};Object.assign(b.callstate,Ie);Ie={};for(var n in b.incstate)b.incstate.hasOwnProperty(n)&&void 0!==
b.incstate[n]&&a.H.Lc("diffs");a.A.g||a.A.start();D.Ca||(e("state",b.state),e("callstate",b.callstate));Ja(b);return 0<Object.keys(b).length?(a.send(d,b),a.zb.forEach(t=>{Cf(a,{da:!0},t)}),a.H.xd(a.zb),S.fireEvent("uploadpage",b),!0):!1}function $c(a,b){if("mousemove"===b.type&&!a.l)return!1;void 0===a.X.g.ka&&(a.l&&a.g.show(!1),a.l&&(a.H.dd(),a.H.lc("statefocus")));return!0}
function kf(a,b){b!==a.l&&(a.l=b,a.X.g.clear(),P&&ad(),a.g.show(b),Bf(a,{kb:{enabled:a.l}}),R(a.R,"rc",{enabled:b}),S.fireEvent("rcenabled",{enabled:b}))}
function lg(a,b,c){function d(g,k){return{type:k?k:g.type,agent:g.agent,path:g.path,value:g.value}}if(b.path){var e=Cb(G(document.documentElement),b.path,!1);if(null===e){m("ELEM_NOT_FOUND_RC");return}}var f=e&&e.matches("#glance_cobrowse_btn *");if(!(a.j&&!f||a.ea||(f=!b.type.match(/scroll|mousemove|mouseleave/)&&!(e&&e.getAttribute("data-agentinteractive")),f&&"CBGUESTRC"!==c)||void 0!==a.X.g.ka&&"mousemove"!==b.type)&&(a.l||D.info.remotescroll&&!f))if(e&&(Z(a.P,e)||"mouse"===b.type&&"click"===
b.etype&&eb(e)))JSON.stringify(b);else switch(a.X.j.set(800),b.type){case "mouse":Nb(G(e),b.etype);"click"===b.etype&&S.fireEvent("rcevent",d(b,"click"));xe();break;case "mousemove":b=Bb(b.relative,b.client);V||(b=vb(H,b));a.g.moveTo(b.x,b.y);a.g.Qa||(a.g.Qa=!0,a.g.show(!0));break;case "mouseleave":a.g.Qa=!1;a.g.show(!1);break;case "key":e.focus();Za(e,b.keyevent);break;case "focus":e.focus();U(P.A,"focus");break;case "blur":e.blur();a.eb&&a.eb===e&&(Ya(a.eb,"change"),S.fireEvent("rcevent",d(b,"inputchange")));
delete a.eb;break;case "input":Ob(e,"value",b.value);Ya(e,"input");x(e,"dispatchEvent",new InputEvent("change",{bubbles:!0,cancelable:!0}));"number"===e.type&&Ya(e,"change");S.fireEvent("rcevent",d(b,"agenttyping"));a.eb=e;break;case "selchange":Ob(e,"selectedIndex",b.selectedIndex);Ya(e,"change");x(e,"dispatchEvent",new InputEvent("change",{bubbles:!0,cancelable:!0}));S.fireEvent("rcevent",d(b,"inputchange"));break;case "scroll":JSON.stringify(b);H.scrollTo(b.axis,zb(b.axis,b.relative,b.offset),
!0);break;case "elementscroll":e.scrollLeft=b.x;e.scrollTop=b.y;break;default:m("UNK_RC_EVT"+b.type)}}
function mg(a,b){(void 0!==b.newagent||b.fullupdate)&&a.H.tc("diffs")&&P.qa();void 0!==b.rcevent&&lg(a,b.rcevent,b.priv);void 0!==b.addguestrequest&&"INVITEGUEST"===b.priv&&ng(a,b);void 0!==b.rcrequest&&"CBGUESTRC"===b.priv&&(b.rcrequest?og(a):kf(a,!1));b.navigationassist&&"NAVASSIST"===b.priv&&(S.fireEvent("navigationassist",b.navigationassist),pg(b.navigationassist));void 0!==b.cerequest&&"CBGUESTSE"===b.priv&&(b.cerequest?og(a,!0):kf(a,!1));if(b.requestvisitorscreenshare){if("undefined"==typeof navigator.mediaDevices||
"undefined"==typeof navigator.mediaDevices.getDisplayMedia){a.h.h.ca({visitorscreenshare:{status:"notsupported",visitorscreensharerequested:"true"}});return}1!==b.requestvisitorscreenshare||"notstarted"!=a.h.status&&"stopped"!=a.h.status||W.v("visitorscreensharerequested",{accept:()=>{qg(a,b.screensharesurfaces);S.fireEvent("visitorscreenshareaccepted")},decline:()=>{rg(a.h);S.fireEvent("visitorscreensharedeclined")}})}b.stopvisitorscreenshare&&1===b.stopvisitorscreenshare&&"started"===a.h.status&&
(S.fireEvent("pausevisitorscreenshare",b.stopvisitorscreenshare),sg(a.h));b.docrequest&&tg(a);b.docshared&&(ug(a,b.docshared),S.fireEvent("agentdocshare",b.docshared));b.downloaded&&W.v("agentdownload",Wa({name:b.downloaded}));void 0!==b.accessibility&&"ACCESSIBILITY"===b.priv&&(lf(a,b.accessibility),S.fireEvent("accessibility",b.accessibility));void 0!==b.reposition&&W.v("widgetmoving",b.reposition);void 0!==b.repositiondone&&W.v("widgetmoved",b.repositiondone);void 0!==b.ol_c&&(b.outline=xa(b.ol_c));
void 0!==b.outline&&(a.D.pa(),vg(a,b.outline),S.fireEvent("outline",b.outline));void 0!==b.resreq&&wg(b.resreq);void 0!==b.nav&&(a.navigate(b.nav),S.fireEvent("navigation",b.nav));void 0!==b.requestvisitorvideo&&xg(a);void 0!==b.ssnmessage&&Zb(b.ssnmessage);void 0!==b.sessionend&&(a.ec=b.sessionend);b.pauseparticipantvideo&&b.pauseparticipantvideo.participantnum&&"0"===b.pauseparticipantvideo.participantnum&&(zd(a.C),S.fireEvent("participantvideopaused",b.pauseparticipantvideo));b.videosize&&(Fd(a.C,
b.videosize.size),S.fireEvent("visitorvideoresize",b.videosize.size))}function wg(a){u("Received resource request for",a.url,a.accepttype,"frameid:",D.K);Wc(a.url,a.accepttype)}function yg(a){null===a.getAttribute("tabIndex")&&(a.setAttribute("tabIndex",0),x(window,"setTimeout",function(){a.removeAttribute("tabIndex")},1E3));a.focus()}
function xg(a,b){rd(a.C)||W.v("visitorvideorequested",{accept:(c,d)=>{c.video=c.video||b||"small";yf(a,{visitorvideorequest:"accepted"});W.v("visitorvideoaccepted",c);Dd(a.C,c,d)},decline:c=>{yf(a,{visitorvideorequest:"declined"});c.video=c.video||b||"small";c.paused=!0;W.v("visitorvideodeclined",c);Dd(a.C,c)}})}
h.navigate=function(a){var b=this;if(this.l){switch(a.url){case "f":window.history.forward();return;case "b":window.history.back();return;case "r":window.location.href=window.location.href;return}var c=ja(a.url,window.location.href);if(F(c.hostname)!==F(window.location.hostname)&&!Ga(c.hostname,D.info.trusteddomains)||a.url.includes("@"))throw Error("ERR_UNTRUSTED_NAV_URL "+a.url);a.url=c.href;a.confirm?(a.accept=function(){delete a.confirm;b.navigate(a)},W.v("confirm",a)):a.open?(c=a.open,window.open(a.url,
c.target,c.features)):a.link?(c=document.createElement("a"),c.style.display="none",c.href=a.url,c.target=a.link.target,document.body.appendChild(c),c.click(),c.remove()):window.location.href=a.url}};
function ng(a,b){function c(d){return{addguestrequest:{status:d,agentnum:b.agentnum,token:"accepted"===d?crypto.randomUUID():""}}}S.fireEvent("addguestrequested",{accept:()=>{yf(a,c("accepted"),b.agentnum);S.fireEvent("addguestaccepted")},decline:()=>{yf(a,c("declined"),b.agentnum);S.fireEvent("addguestdeclined")}})}
function og(a,b){W.v("rcrequested",{accept:function(){kf(a,!0);yf(a,{rcrequest:"accepted"});S.fireEvent("rcaccepted")},decline:function(){yf(a,{rcrequest:"declined"});S.fireEvent("rcdeclined")},selective:b})}
function tg(a){W.v("docsharerequested",{onpreviewconfirm:()=>{a.ca({docsharepreview:{enabled:!0}});W.v("docsharestatus",{status:"accepted"})},onpreviewcancel:()=>{a.ca({docsharepreview:{enabled:!1}});W.v("docsharestatus",{status:"declined"})},onconfirm:()=>{a.ca({docshare:{enabled:!0}});W.v("docsharestatus",{status:"started"})},oncancel:()=>{a.ca({docshare:{enabled:!1}});W.v("docsharestatus",{status:"canceled"})}})}
function pg(a){Ga(a.url,D.info.trusteddomains)?(P.Pb={Fd:F(a.url)!==F(window.location.href),destination:a.url},a.accept=()=>P.Pb.Fd?T.crossDomain().then(function(){return P.Pb.destination}):Promise.resolve(P.Pb.destination),W.v("navassistrequested",a)):p("Navigation Assist:  Domain not trusted")}
function ug(a,b){var c=b.name,d=b.n;a.o[c]||(a.o[c]={showdl:b.type,agentselected:!0,nmsgs:b.nmsgs,parts:{}},W.v("filedownloading"));a.o[c].parts[d]=b.doc;if(Object.keys(a.o[c].parts).length===a.o[c].nmsgs){d="";for(let e=0;e<b.nmsgs;e++)d+=a.o[c].parts[e];c=b.download&&"true"===b.download&&b.mimetype;switch(b.type){case "PDF":od({data:d,showdl:c,name:b.name,agentselected:!0,download:b.download});break;case "XLS":ld({data:d,showdl:c,name:b.name,agentselected:!0,download:b.download})}W.v("filedownloaded");
a.o={}}else 0<d&&!a.o[c].parts[d-1]&&(p("Error: incomplete document"),a.o={},W.v("filedownloaded"))}function lf(a,b){a.la!==b&&(a.la=b,Bf(a,{Fb:{enabled:a.la}}),R(a.R,"accessibility",{enabled:b}),P&&ad())}
function dg(a,b){if(b&&void 0!==b.mtype){if("close"===b.mtype){m("Session ended, reason: "+b.data.reason);"1003"==b.data.reason&&p("ERR_UNAUTHORIZED");try{Pe(S,!1)}catch(e){p("Exception in stopSession handling close message"+e.message)}finally{cg(a);return}}if("BL"===b.mtype)D.Pc(),D.cd();else if(D.za(!1)&&("MS"===b.mtype&&mg(a,b.data),"SU"===b.mtype)){var c=b.data.state;b=b.data.messages;c.rc&&kf(a,c.rc.enabled);c.accessibility&&lf(a,c.accessibility.enabled);c.agents&&R(a.R,"agents",c.agents)&&a.Jb(c.agents);
void 0!==c.ssvisitor&&zg(c.ssvisitor,kg.prototype.md);void 0!==c.visitorscreenshare&&"accepted"==c.visitorscreenshare.status&&"started"!=a.h.status&&(rg(a.h),W.v("visitorscreensharerequested",{accept:()=>{let e=c.visitorscreenshare.descriptor;e?qg(a,c.visitorscreenshare.screensharesurfaces,c.visitorscreenshare.initialvideostate,e):qg(a,c.visitorscreenshare.screensharesurfaces,c.visitorscreenshare.initialvideostate)},decline:()=>{rg(a.h)}}));c.visitorvideo&&!a.C.getState()&&Ed(a.C,c.visitorvideo);
zg(pa(c),kg.prototype.hd);for(var d=0;b&&d<b.length;d++)mg(a,b[d]);void 0!==c.user&&ya(c.user,a.ub);a.fc||(gg("statereceived"),a.fc=!0)}}}function qg(a,b,c=null,d=null){null==c?(c="undefined"!==typeof a.C.getState()?a.C.getState().video:"",a.h.start(b,c,d)):a.h.start(b,c,d)}
h.Jb=function(a){var b=this.C,c=a.count;b.B!==c&&(b.B=c,b.h&&b.h.setAccepterCount(c));S.Jb(a);if(a=this.fc)if(a=!this.Zc&&!V&&!rd(this.C))a=S,a=a.I&&a.I.video&&"off"!==a.I.video;a&&(S.I.videosource||S.I.camerastatus&&"available"!==S.I.camerastatus?(Dd(this.C,{video:S.I.video,videosource:S.I.videosource,previewelementid:S.I.previewelementid,paused:S.I.videopaused,camerastatus:S.I.camerastatus,videobgfilter:S.I.videobgfilter,videobgtype:S.I.videobgtype},S.Wa),delete S.Wa):xg(this,S.I.video),this.Zc=
!0)};h.Qb=function(a){if(a.target!==document&&P.U&&K(P.U,a.target)){var b=G(a.target),c=P.U;a=wb(c);c=c.$();var d=wb(b);b=b.$();a.x+c.width>d.x+b.width||a.x<d.x||a.y+c.height>d.y+b.height||a.y<d.y?this.D.Aa():this.D.Oa(P.U)}};function Ag(a){var b=P;if(a.moveTo){var c=la(a.K);V?(c=c.getBoundingClientRect(),a.moveTo.x+=c.left,a.moveTo.y+=c.top,b.g.Ac(a.moveTo.x,a.moveTo.y)):(c=wb(G(c),!0),a.moveTo.x+=c.x,a.moveTo.y+=c.y,b.g.moveTo(a.moveTo.x,a.moveTo.y))}else a.Mc&&b.g.show(a.Mc.show)}
function Bg(a){var b=P;a.jc&&(b.D.Fa=a.jc);if(a.rect){var c=la(a.K),d;let f;var e=Number.parseFloat(null!=(d=window.getComputedStyle(c).borderLeftWidth)?d:"0");d=Number.parseFloat(null!=(f=window.getComputedStyle(c).borderTopWidth)?f:"0");V?(c=c.getBoundingClientRect(),a.rect.x+=c.left+e,a.rect.y+=c.top+d,b.D.zc(a.rect)):(c=wb(G(c),!0),a.rect.x+=c.x+e,a.rect.y+=c.y+d,b.D.oc(a.rect))}else a.Pa?b.D.Pa():a.pa?b.D.pa():a.na?b.D.na(a.na.opacity):a.Aa&&b.D.Aa()}
function Cg(a,b,c){function d(){e.B&&(e.B.element.setAttribute(c.attr,e.B.nd),delete e.B)}var e=a;a.B&&(x(window,"clearTimeout",a.B.ka),d());a.B={element:b,nd:b.getAttribute(c.attr)};b.setAttribute(c.attr,c.attrval);a.B.ka=x(window,"setTimeout",function(){d()},5E3)}
function vg(a,b){delete a.U;a.D.Fa={num:b.agentnum,role:b.role,name:b.agentname};var c;if(b.url===window.location.href.replace(/\?.*/g,""))if(void 0!==b.element&&(c=Cb(G(H.u.documentElement),b.element)),"attr"===b.gesttype)a.D.Aa(),Cg(a,c,b);else{if(void 0!==b.p1){ca(!V);a.D.Xb(!1);c=Ab(H,b.p1.relative,b.p1.client);var d=Ab(H,b.p2.relative,b.p2.client);Sb(a.D,Math.min(c.x,d.x),Math.min(c.y,d.y));Qb(a.D,Math.abs(c.x-d.x),Math.abs(c.y-d.y));c=a.D;c.element.className=c.element.className.replace(RegExp("\\s+elem_gest",
"g"),"");b.gesturedone&&a.D.Xb(!0)}else c&&(a.U=G(c),a.D.Oa(a.U),a.la&&yg(c));a.D.na(100);b.gesturedone&&a.D.Pa()}}h.ca=function(a){this.send("CS",a)};kg.getState=function(){if(Dg){delete this.Vd;var a={},b;for(b in Y)a[b]=Y[b].state;return a}};function zg(a,b){for(var c in a)Y[c]||(Y[c]=new kg(c)),b.call(Y[c],a[c])}function Eg(a,b,c){for(var d in Y)null!==Y[d].W&&Y[d].W.contentWindow===b&&c.call(Y[d],a)}var Y={};function kg(a){this.g=a;this.W=jb(H,a);Y[a]=this}var Dg;
function Fg(a,b,c,d,e){a.state={status:b,ssnid:c,joinurl:e,agentnum:d};Dg=!0;ad()}h=kg.prototype;h.md=function(a){this.state||(this.state=a)};
h.hd=function(a){var b=this.h;q("handleScreenshare previous agent info:",b," new agent info:",a);if(null===a.ssnid)b&&null!==b.ssnid?(q("screenshare ended"),this.close(),Fg(this,""),delete this.h):R(P.R.screenshare,this.g,{state:a.error?"still-error":"still-ended",screenshareView:this.g});else if(a.error)R(P.R.screenshare,this.g,{state:"error",screenshareView:this.g});else if(b&&a.ssnid!==b.ssnid&&(q(`new screenshare ${a.ssnid} ending previous screenshare ${b.ssnid}`),b=null,this.close(),Fg(this,
"")),this.h=a,b)a.paused!==b.paused&&(P.R.screenshare[this.g].paused=a.paused,W.v(a.paused?"screensharepaused":"screenshareresumed",{screenshareView:this.g}));else if("reverse"===a.params.type&&this.state&&this.state.status)q("screenshare already joined");else{if(a.joinurl&&0<a.joinurl.indexOf("VideoPlayer")){var c=a.joinurl;b=D.G.Y;c&&0<c.toLowerCase().indexOf("videoplayer.html")?((c=c.split("?")[1])&&0>c.indexOf("version=")&&(c+="&version={version}"),b=`https://${b}/videoplayer/VideoPlayer.aspx?${c}`):
b=c;a.joinurl=b}this.j=a.joinurl||Dc("cobrowse/JoinScreenshare.ashx?ssnid="+a.ssnid+"&gid=1000&novcentermobile=1");if("reverse"===a.params.type)Gg(this);else{c=a.ssnid;b=a.params;q("Joining forward session",c,b,"iframe:",this.W,this.j);var d;if(null!=(d=this.j)&&d.startsWith(`https://${M.Y}/`)){d=!(this.state&&this.state.status)||this.state.ssnid!==c;if(this.W){var e=P.C;this.g!==(e.g&&e.g.visitorvideoelementid)&&(this.W.src=this.j.replace("{guestid}","0").replace("{role}","visitor"));this.W.setAttribute("data-src",
this.j);a.agentnum&&this.W.setAttribute("data-agentnum",a.agentnum)}d&&Fg(this,"joined",c,a.agentnum,a.joinurl);b.size&&(a=b.size,e=c=0,a&&((e=a.match(/(\d+)x(\d+)/))&&3===e.length||m("ERR_INVALIDDIMS:"+a),c=e[1],e=e[2]),b.width=c,b.height=e);R(P.R.screenshare,this.g,{screenshareView:this.g,agentnum:this.h.agentnum,state:d?"new":"continued",paused:this.h.paused,params:b})}else p("SEC_BAD_JOIN_URL "+this.j)}}};h.accept=function(){Fg(this,"accepted");window.open(this.j)};
h.blur=function(){this.h&&"forward"===this.h.params.type&&(this.W&&this.W.contentWindow&&(Ea(this.W.contentWindow,"glance_viewer",{close:!0}),this.W.src=""),delete this.h)};h.close=function(){this.h&&("forward"===this.h.params.type?(this.W&&this.W.contentWindow&&(Ea(this.W.contentWindow,"glance_viewer",{close:!0}),this.W.src=""),R(P.R.screenshare,this.g,{state:"ended",screenshareView:this.g})):W.v("reverseended",{}))};
function Gg(a){W.v("reverseconfirm",{accept:function(){a.accept()},decline:function(){Fg(a,"declined")}})}h.gd=function(){q("Screenshare received glance_join message after join with client");var a=this;x(window,"setTimeout",function(){a.close()},1E3);Fg(this,"joined");S.xa()};
h.jd=function(a){JSON.stringify(a);a.closed?P&&R(P.R.screenshare,this.g,{state:"ended",screenshareView:this.g}):(a.closereason&&W.v("viewerclosing",{screenshareView:this.g,closereason:a.closereason}),W.v("viewerinfo",{screenshareView:this.g,screen:a.screen,scaledview:a.scaledview,stats:a.stats}))};async function fg(){if(Zd&&!V){var a=Date.now();await Zd._uiready;a=Date.now()-a;5<a&&q("UI wait:",a)}}
Rd.prototype.fireEvent=function(a,b){W.v(a,b);"visitordownload"===a&&P.send("DOC",{docdownloaded:!0,name:b.name})};
Rd.prototype.createSession=async function(a){function b(){var e=P;a?(e.H.clear(),D.rb(!0),Oe(e,!0,{da:!0},"NS"),Q(Hg,"NS frame:"+(D.K||"top")),gg("sessionstart"),Me(e,!0),D.rb(!1)):Me(e,!1)}function c(e){return P&&uf(P,a,e)}if("6.33.0.1480702263"!==D.s.ver)Q(rf,"ERR_VERSION:6.33.0.1480702263");else{a&&!V&&Q(Hg,"SSN_PROVISIONED");var d=await Ig(this);P=new Ze(d);"1"===M.startpaused?nf(!0):this.ea||xd("sessionpaused",{paused:!1});V?b():sf(P,b,c)}};
function gg(a,b){T.readyState=T.READYSTATE[a];W.v(a,b)}function Jg(){return T.readyState<T.READYSTATE.statereceived?(m("ERR_STATE current:"+T.readyState+" expected:statereceived"),!1):!0}var pf=29;
function of(a,b){if(D.s&&D.sessionId()){var c=D.s.callId,d=`https://${M.Y}/services/InternalService.asmx/${c?"ViewerError2":"ViewerError"}`,e=Pa,f=new La("XML");a={callid:c,ssnid:D.sessionId(),client_num:0,message:za()+" "+b,err_code:a};b=[];for(var g in a)a.hasOwnProperty(g)&&b.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));e(f,d,b.join("&"),!0,!1)}}var Hg="INTERESTING",rf="ABNORMAL";
function Q(a,b){m("SESSION:"+b);if(D.s&&D.s.server){var c=D.Ob("https","LG");a={ssnid:D.sessionId(),level:a,msg:b,frameid:D.K};x(window,"fetch",c,{method:"POST",headers:{Authorization:"Bearer "+D.wb(),"Content-Type":"application/json"},body:JSON.stringify(a)}).then(d=>{d.ok||p("ERR_LG")}).catch(d=>{p("ERR_LG:"+d.toString())})}}
function wf(a,b,c){a&&(m(a),W.v("error",{code:b,msg:a,params:c}));var d=1;switch(b){case "conndrop":d=34;break;case "service":d=32}of(d,a+" "+JSON.stringify(c)+" on "+window.location.href);Pe(S,!1,"error")}
function Pe(a,b,c){var d=b?"visitor":"agent";if(null!=P){P.ec&&(d=P.ec.reason);var e=P;N.Z&&(u("Disconnecting from CAM"),N.Z.close());var f=H;f.u.removeEventListener("mousemove",f.Cc);f.u.removeEventListener("mouseout",f.Dc);f=H;f.u.removeEventListener("click",f.Bc);e.A.stop();x(window,"clearTimeout",e.Jd);x(window,"clearInterval",e.Id);for(var g in Y)Y[g].close();g=Ub(G(document.body),"iframe[data-independent-content]");for(f=0;f<g.length;f++)g[f].removeAttribute("data-src");yd(e.C);!V&&D.La()&&
b?(e.send("LS",{}),S.fireEvent("leavesession",{})):cg(e);e.yb(!1);dc(e.O,document.head);dc(e.O,document.body);e.Eb.Sa(!1);void 0!==e.Da&&e.Da.remove();void 0!==e.D&&e.D.Ic();void 0!==e.g&&e.g.remove();e.xb&&e.xb.stop();e.gb&&e.gb.stop();e.ac&&e.ac.Sa(!1);e.ab&&e.ab.stop();e.ua&&e.ua.stop();e.fb&&e.fb.stop();let k;"glance_documentpreviewframe"!==(null==(k=window.frameElement)?void 0:k.id)&&(kd(P.$a),document.getElementById("glance_pdfviewer")&&document.getElementById("glance_pdfviewer").remove(),document.getElementById("glance_xlsviewer")&&
document.getElementById("glance_xlsviewer").remove());kf(e,!1);Bf(e,{td:!0});e.X.stop();Da("error",$e);e.Db.done();"notstarted"!=e.h.status&&e.h.stop();P=null}c&&(d=c);a.cc();D.clear();D=new $d;a.state!==Sd&&(a.state=Sd,gg("sessionend",{reason:d}))}Rd.prototype.Jb=function(a){D.bd(a)&&(D.rd(a),Ig(this).then(b=>{ff(P,b)}))};
async function Ig(a){let b={};try{return window.GLANCE_COBROWSE&&window.GLANCE_COBROWSE.getMaskingDescriptor&&(b=await window.GLANCE_COBROWSE.getMaskingDescriptor({agents:D.Gb()})),b.maskedelements=b.maskedelements||[],b.unmaskedelements=b.unmaskedelements||[],b}catch(c){return console.error("getMaskingDescriptor failed: ",c.message),a.fireEvent("maskingerror",{reason:c.message}),{maskpage:!0,maskedelements:[],unmaskedelements:[]}}}
function Kg(){D.load(function(){S.createSession(!1)},function(a){wf(a,"service")})}Rd.prototype.xa=function(){V?O(window.top,{xa:1}):D.La()?D.za(!0)||(D.Oc(),W.v("focus"),P?(cg(P),qf("focus")):Kg()):D.Ra()&&Pe(this,!1)};function O(a,b){var c={};c.glance_iframe=b;JSON.stringify(b);a.postMessage(c,"*")}
function Lg(a,b,c){b.td&&Pe(a);if(b.mc&&P){let d=b.mc;P.ta.jb[d.styleid]=d.sheet}if(b.vb&&P)switch(b.vb){case "PDF":od(b.params);break;case "XLS":ld(b.params)}if(b.lb&&P)Bg(b.lb);else if(b.ib&&P)JSON.stringify(b.ib),Ag(b.ib);else{b.Kb&&null!==P&&(JSON.stringify(b.Kb),V?O(window.parent,b):P&&P.J&&P.J.readyState===WebSocket.OPEN&&P.J.Tb(b.Kb));b.Ia&&null!==P&&(JSON.stringify(b.Ia),b.Ia.frameid===D.K?dg(P,b.Ia):Af(P,b.Ia));b.Cb&&null!==P&&!tb()&&(H.Cb(),U(P.A,"mouse"));if(b.Ua){b.Ua.od.da&&null!==P&&
Pe(S,!1);D.vd(b.Ua.s);D.Ad(b.Ua.ud);if(!D.Ra())throw Error("ERR_WRONG_GROUP");D.K=b.Ua.K;D.pd();P||x(window,"setTimeout",function(){P||S.createSession(!0)},0)}b.kb&&(P?kf(P,b.kb.enabled):D.zd(b.kb.enabled));b.Fb&&(P?lf(P,b.Fb.enabled):D.yd(b.Fb.enabled));if(b.ld){let d;c=null==(d=ma(c))?void 0:d.getAttribute("frameid");let e;null==(e=P)||e.H.qc(c);let f;c&&D.za()&&(null==(f=P)?0:f.H.qc(c))&&Cf(P,{da:!1},c)}b.xa&&a.xa()}}
async function Mg(a){ca(!("secure"===M.Na&&"https:"!=window.location.protocol));await fg();"string"===typeof a?a={sessionKey:a}:a||(a=S.ad);S.state===Sd?(gg("sessionstarting"),S.state=2,S.Wa=a&&a.glanceVideo||S.Wa,D.start(a,function(){S.createSession(!0)},function(b,c){wf(b,c||"service")})):m("ERR_ALREADYINSSN")}Rd.prototype.ca=function(a){P&&null!=P&&P.ca(a)};
function Ng(a){let b=a.data.glance_invoke;Xd.get(b.groupid,function(c){var d=a.origin;if(F(d)!==Sa(H)&&!Ga(d,c.chatDomains))throw Error("UNTRUSTED_INVOKE group: "+b.groupid+" origin: "+d);if(!Ec(M,b.groupid))throw Error("INVOKE_WRONG_GRP:"+b.groupid);if(b.args&&b.args.groupid&&b.args.groupid!=b.groupid)throw Error("INVOKE_GRP_ARG_CONFLICT");b.groupid!=M.ya&&(b.args=b.args||{},b.args.groupid=b.groupid);T[b.func](b.args)})}
function Og(a){var b=a.data;JSON.stringify(b.glance_iframe||b);b.glance_invoke?Ng(a):null===ab(M.Yb)?m("ERR_WEBSERVER "+M.Yb):function(c,d){if(/^about|javascript:/.test(c))return d(!0);var e=F(ab(M.Yb)),f=Sa(H),g=F(c);if(g===e||g===f)return d(!0);Xd.get(M.ya,function(k){d(Ga(c,k.trustedDomains))})}(a.origin,function(c){if(c){a:{c=a.source;var d=S;if(b.glance_viewer)Eg(b.glance_viewer,c,kg.prototype.jd);else if(b.glance_join)Eg(b.glance_join,kg.prototype.gd);else if(b.glance_iframe)Lg(d,b.glance_iframe,
c);else{c=!1;break a}c=!0}return c}b.glance_iframe&&p("ERR_UNTRUSTED_GLANCE_IFRAME "+a.origin)})}if(Zd&&Zd._eventListeners){var Pg=W,Qg=Zd._eventListeners.listeners,Rg;for(Rg in Qg)Pg.g[Rg]=(Pg.g[Rg]||[]).concat(Qg[Rg]);delete Zd._eventListeners}
T.init=function(){q("initVisitor ",window.location.href);if(!Wd)if(M=new Bc,null!==M.aa){Wd=!0;D=new $d;Yd.set();C=Je();C.addEventListener.call(window,"message",Og,!1);S=new Rd;Xd=new Re;V?O(window.parent,{ld:!0}):D.La()&&!pb()&&(D.Oc(),Kg());if(Zd){var a=Zd._onload.Visitor;a&&a()}W.v("ready")}else q("glance-cobrowse not ready")};T.setCookieValue=function(a,b){D.wd(a,b)};T.getCookieValue=function(a){return D.sc(a)};
T.startSession=function(a){q("startSession");if(V)throw Error("startSession in iframe");Mg(a)};T.inSession=function(){return D&&null!==D.key()};T.sessionGroupId=function(){return D.groupId()};T.continueSessionAt=function(a){Ue({destination:a.destination,nc:a.destinationurl,oncomplete:a.oncomplete,Qd:a.iewarningsuppressed})};T.crossDomain=function(a){r("GLANCE.Cobrowse.Visitor.crossDomain called");if(!P)return Promise.resolve();a=a||{};return Kd(a.url,a.target)};
T.isCrossDomainDone=function(){return P?Qd():!1};T.getKey=function(){return D.key()};T.isRandomKey=function(){return!D.Nb()};T.isPageMasked=function(){return P&&P.j};T.getStartParams=function(){S.I||(S.I=D.sc("startparams"));return S.I};T.setCameraSettings=function(a){Object.entries(a).forEach(([b,c])=>{S.I[b]=c})};T.setGlanceVideoSource=function(a){S.Wa=a||S.Wa};T.setUserState=function(a,b){if(!Jg())return!1;P.ub[a]=b;U(P.A,"user");return!0};
T.getUserState=function(a){return Jg()?P.ub.getState(a):null};T.getSessionState=function(a,b){return Jg()?P.R.getState(a,b):null};T._reconnect=function(){!P||P.J&&P.J.readyState===WebSocket.OPEN||qf()};T.stopSession=function(){Pe(S,!0)};T.setStartParams=function(a){S.ad=a};T.enableRC=function(a){P&&kf(P,a)};T.startVideo=function(a,b){P&&Dd(P.C,a,b)};T.stopVideo=function(){P&&yd(P.C)};
T.toggleVideo=function(){if(P){var a=P.C;if(a.g.error||"blocked"===a.g.camerastatus||"error"===a.g.camerastatus)delete a.g.error,a.g.camerastatus="available",a.state=Bd,Dd(a,a.g);else switch(a.state){case wd:a.g.paused?Hd(a):zd(a)}}};T.toggleVideoSize=function(){P&&Gd(P.C)};T.largeVideo=function(){P&&Fd(P.C,"large")};T.smallVideo=function(){P&&Fd(P.C,"small")};T.setVideoBgFilterActive=function(a){P&&Ad(P.C,a)};T.onStopped=function(a){S.cc=a};T.addEventListener=function(a,b){V||W.add(a,b)};
T.removeEventListener=function(a,b){W.remove(a,b)};T.addSessionMessageHandler=function(a,b){$b.g["^"+a+"$"]=b};T.addSessionMessageListener=function(a,b){$b.g["^"+a+"$"]=b};T.sendSessionMessage=function(a,b){if(!P)throw Error("No session");b.messageName=a;yf(P,b)};T.readyState=0;T.READYSTATE={sessionstarting:1,sessionstart:2,sessioncontinue:3,statereceived:4,sessionend:5};T.viewPDF=function(a){"string"===typeof a&&(a={url:a});window.self===window.top||a.preview?od(a):O(window.top,{vb:"PDF",params:a})};
T.viewXLS=function(a){window.self===window.top||a.preview?ld(a):O(window.top,{vb:"XLS",params:a})};T.canSendDocument=function(){return!0===D.info.docshareagentdl};T.getCallId=function(){return D.s.callId};
T.sendDocument=function(a){if(D.info.docshareagentdl)if(Jc(a))if(5>a.size/1048576){var b=new FileReader;b.onload=c=>{c=c.target.result;for(var d=Math.ceil(c.length/5E5),e=[],f=0;f<d;f++){var g=5E5*f;e.push(c.slice(g,g+5E5))}e.forEach((k,l)=>{P.send("DOC",{doc:k,type:a.type,name:a.name,nmsgs:d,n:l})})};b.readAsBinaryString(a)}else m("File too large: "+a.size),S.fireEvent("documentnotsent",{name:a.name,reason:"File size limit exceeded",size:a.size});else m("Unsupported file type: "+a.type);else m("Not enabled")};
T.pauseSession=function(a){P&&nf(!!a.pause,a.message)};T.isSessionPaused=function(){return P&&P.ea};T.notifyChanged=function(a){P&&(a.styles&&P.ab.now(a.styles),a.canvas&&P.ua.now(a.canvas))};T.loaded=!0;var Sg=window.GLANCE.Cobrowse.VisitorUI;T.showButton=function(a){Sg.showButton(a)};T.toggleButton=function(){Sg.toggleButton()};T.showTerms=function(a){Sg.showTerms(a)};T._handleInvokeMessage=function(a){Ng(a)};Eb(new Ta(window),function(){T&&T.init()});function rg(a){let b={visitorscreenshare:{status:"stopped",visitorscreensharerequested:"true"}};a.j&&null!=a.j&&(b.visitorscreenshare.descriptor=a.j);a.h.ca(b)}function sg(a){a.g&&a.g.pause();a.h&&null!=a.h&&(a.l?a.l=!1:rg(a));"undefined"!==typeof a.h.C.getState()&&a.h.C.getState().video!=a.B&&Gd(a.h.C);a.o.v("visitorscreensharepaused",{});a.status="stopped"}function Tg(a,b,c){a.o.v("visitorscreensharesurfacenotallowed",{accept:()=>{a.start(b,c)},decline:()=>{a.l=!1;a.stop()}})}
class af{constructor(a){var b=D,c=W;this.h=a;this.M=b;this.status="notstarted";this.g=null;this.o=c;this.l=!1;this.F="";this.j=null;this.X=!1;this.B=null}async start(a,b,c=null){this.B=b;c&&null!=c&&(this.j=c);"notstarted"===this.status?(this.status="accepted",await this.create(a,b)?c&&null!==c||this.g.startSession():rg(this)):"stopped"===this.status&&(this.status="started",this.g.unPause())}async create(a,b){return new Promise(c=>{let d={screenshare:!0,ss:{width:500,height:200},isAnonymous:!0,groupid:this.M.groupId(),
role:"visitor",sessionkey:this.M.key()+"S"+Math.floor(1E6*Math.random()).toString().padStart(6,"0"),maincallid:this.M.s.callId.toString(),vserver:`https://${this.M.info.vserver||"video.glance.net"}/`};this.g=new window.parent.GLANCE.Video.GlanceVideoSource(d);this.g.addEventListener("initialized",()=>{this.j&&null!=this.j&&this.g.resumeSession(this.j);this.X=!0;c(!0)});this.g.addEventListener("error",()=>{this.X?this.status="stopped":(delete this.g,this.status="notstarted");c(!1)});this.g.addEventListener("sessionStarted",
e=>{this.F=ia(e.descriptor.url,this.M.G.Y,"2");this.j=e.descriptor;e={visitorscreenshare:{status:"accepted",joinurl:this.F,screensharesurfaces:a,initialvideostate:b,visitorscreensharerequested:"true",descriptor:JSON.stringify(e.descriptor)}};this.h.ca(e);this.status="started";Fd(this.h.C,"small");this.o.v("visitorscreensharestarted",{});c(!0)});this.g.addEventListener("sessionPaused",()=>{sg(this)});this.g.addEventListener("sessionUnpaused",()=>{let e={visitorscreenshare:{status:"accepted",joinurl:this.F,
screensharesurfaces:a,initialvideostate:b,visitorscreensharerequested:"true",descriptor:JSON.stringify(this.j)}};this.h.ca(e);this.g.unPause();Fd(this.h.C,"small");this.status="started"});this.g.addEventListener("invalidsurface",()=>{this.l=!0;Tg(this,a,this.B)});this.g.initialize(null,document.getElementById("glance_visitor_screensharepreview"))})}stop(){this.g&&this.g.endSession();this.h&&null!=this.h&&(this.l?this.l=!1:rg(this));this.o.v("visitorscreenshareended",{});this.status="stopped";delete this.g}}
;}).call(window);
//# sourceMappingURL=map.js.map
